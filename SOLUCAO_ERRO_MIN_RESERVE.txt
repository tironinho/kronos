 muito pequena (0 < minQty 0.001)
⏸️ BTCUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BNBUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ BNBUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($1105.91) = $1.11
📊 BNBUSDT: Preço $1105.9100, Custo mínimo $1.11

🚀 Iniciando análise V2 para BNBUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BNBUSDT tecnicamente (1h)...
📱 Analisando sentimento de BNBUSDT...
🔍 Analisando Twitter para BNBUSDT...
🔍 Analisando Reddit para BNBUSDT...
⛓️  Analisando on-chain de BNBUSDT...
📊 Analisando derivativos de BNBUSDT...
🌍 Analisando macro de BNBUSDT...
🐋 Analisando smart money de BNBUSDT...
 GET /api/binance/balance 404 in 44ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692017968&signature=a6bce1accdc3f724b5fe85637c62e00b90f7b809c1e3da846db8af4c02cbcb21
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:53:37.754"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:53:37.754"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"2ms","overallScore":"0.542","patternsDetected":2,"symbol":"BTCUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:53:37.868"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.609","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:53:37.870"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.566","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:53:37.871"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.467","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"0.800"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:53:37.872"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.225","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"0.100"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:53:37.872"}
[INFO] trading_engine: Symbol analysis completed
⚠️ CoinGecko: Símbolo BNBUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CryptoPanic API falhou para BNBUSDT: Request failed with status code 400
🔄 Usando fallback para BNBUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BNBUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BNBUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:53:38.229Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BNBUSDT
🔍 [2025-10-28T22:53:38.230Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BNBUSDT
🔍 [2025-10-28T22:53:38.230Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BNBUSDT
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692018535&signature=96422ee3f7ed8ec7c690f08f18e0ef1235be8a741749e21508712b73aab7e7ab
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:53:38.284"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:53:38.284"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: VWAP = $1111.6203
✅ BNBUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -0.51%
✅ BNBUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.7293 (14 períodos)
🔍 [2025-10-28T22:53:39.063Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BNBUSDT
✅ BNBUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BNBUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.7293 (14 períodos)
✅ BNBUSDT: ATR baixo (1.24%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.10
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.004113 → Notional: $4.55
⏸️ BNBUSDT: Quantidade muito pequena (0 < minQty 0.01)
⏸️ BNBUSDT: REJEITADO - Sem decision retornada

🏁 LOOP TERMINOU! Total de 8 símbolos analisados, 5 oportunidades adicionadas ao array

💰 CAPITAL BAIXO: Priorizando moedas mais BARATAS para maximizar quantidade de trades

📊 Top oportunidades encontradas (5 total):
   1. ADAUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.06
   2. DOGEUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   3. SOLUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   4. XRPUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.26
   5. ETHUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.40

✅ 5 oportunidades encontradas e prontas para execução!
📋 Detalhes das oportunidades:
   1. ADAUSDT: action=SELL, size=8, conf=50%
   2. DOGEUSDT: action=SELL, size=26, conf=50%
   3. SOLUSDT: action=SELL, size=0.03, conf=50%
   4. XRPUSDT: action=SELL, size=2, conf=50%
   5. ETHUSDT: action=SELL, size=0.002, conf=50%

🔚 RETORNANDO 5 oportunidades de getOptimalSymbols()

🔍 DEBUG - Chamou getOptimalSymbols(), recebeu 5 oportunidades
📊 Máximo de trades permitido: 2 (atualmente: 2)
💰 Capital disponível: $9.10
🎯 Analisando 5 oportunidades encontradas

📋 Oportunidades encontradas:
   1. ADAUSDT: Score -1.14, Conf 50%, Custo $0.06
   2. DOGEUSDT: Score -1.14, Conf 50%, Custo $0.19
   3. SOLUSDT: Score -1.14, Conf 50%, Custo $0.19
   4. XRPUSDT: Score -1.14, Conf 50%, Custo $0.26
   5. ETHUSDT: Score -1.14, Conf 50%, Custo $0.40

🎯 Oportunidades recebidas para execução: 5
🎯 Symbols array: [ 'ADAUSDT', 'DOGEUSDT', 'SOLUSDT', 'XRPUSDT', 'ETHUSDT' ]
✅ Limite de trades alcançado
⏳ Aguardando 5s para próxima análise...
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 298ms
 GET /api/trading/metrics 200 in 100ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price

🔄 Iteração #3 - Loop de trading ativo
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
🔍 DEBUG - Response completa de getFuturesAccountInfo:
  account.availableBalance: 9.08896159
  account.totalWalletBalance: 10.20101978
  account.totalMarginBalance: 10.19415899
💰 Saldo disponível: $9.09
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692025767&signature=178ff5291fe9c78e72e308c7ad7e0bf9aa3f6fc11c1f1e75b4b65c08a6197633

🔍 MONITORAMENTO: Verificando 2 trades abertos...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 DOGEUSDT: Entry=0, Current=0.19415
   💰 P&L REAL (Binance): $-0.0031 (-4.64%)
   📋 Debug: isolatedMargin=0, estimatedMargin=0.06725333333333333
   ✅ DOGEUSDT dentro do limite. P&L: -4.64%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 ADAUSDT: Entry=0, Current=0.6485
   💰 P&L REAL (Binance): $-0.0048 (-0.46%)
   📋 Debug: isolatedMargin=0, estimatedMargin=1.03696
   ✅ ADAUSDT dentro do limite. P&L: -0.46%

📊 Status: 2/2 trades abertos

🔍 Analisando oportunidades em 8 símbolos...
💰 Capital disponível: $9.09
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 DOGEUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 1, stepSize: 1
⚠️ DOGEUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(1) × price($0.19413) = $0.19
📊 DOGEUSDT: Preço $0.1941, Custo mínimo $0.19

🚀 Iniciando análise V2 para DOGEUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando DOGEUSDT tecnicamente (1h)...
📱 Analisando sentimento de DOGEUSDT...
🔍 Analisando Twitter para DOGEUSDT...
🔍 Analisando Reddit para DOGEUSDT...
⛓️  Analisando on-chain de DOGEUSDT...
📊 Analisando derivativos de DOGEUSDT...
🌍 Analisando macro de DOGEUSDT...
🐋 Analisando smart money de DOGEUSDT...
⚠️ ActiveMonitoringService: Supabase not available, skipping equity monitoring
⚠️ ActiveMonitoringService: Supabase not available, skipping trades monitoring
⚠️ TradeStatusMonitor: Supabase not available, skipping status check
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo DOGEUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para DOGEUSDT: Request failed with status code 400
🔄 Usando fallback para DOGEUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de DOGEUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] DOGEUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:53:50.828Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for DOGEUSDT
🔍 [2025-10-28T22:53:50.828Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for DOGEUSDT
🔍 [2025-10-28T22:53:50.828Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for DOGEUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: VWAP = $0.1976
✅ DOGEUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.76%
✅ DOGEUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
🔍 [2025-10-28T22:53:51.666Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for DOGEUSDT
✅ DOGEUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ DOGEUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
✅ DOGEUSDT: ATR baixo (1.40%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 23.410678 → Notional: $4.54
⚠️ DOGEUSDT: Valor da ordem ($4.46) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 26.000000 → Notional: $5.05
   💰 Margem ajustada: $1.01
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.01 (11.1% do saldo)
   Nocional (5x): $5.05
   Quantidade ajustada: 26.000000 DOGE
   Valor da ordem: $5.05
🔍 Verificando margem: disponível=$9.09, necessária=$1.01, posições abertas=2
💰 Trade aprovado: Margem $1.01 @ 5x
   Notional: $5.05
   Risco: LOW
📊 SELL: SL=$0.1970 (+1.5%), TP=$0.1882 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:53:52.517Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for DOGEUSDT
🔍 [2025-10-28T22:53:52.518Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for DOGEUSDT
🔍 [2025-10-28T22:53:52.518Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for DOGEUSDT
⚠️ [2025-10-28T22:53:52.519Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ DOGEUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=26

📝 ADICIONANDO DOGEUSDT ao array opportunities (total agora: 1)
✅ DOGEUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":26}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ENAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ ENAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($0.4625) = $0.00
📊 ENAUSDT: Preço $0.4625, Custo mínimo $0.00

🚀 Iniciando análise V2 para ENAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ENAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ENAUSDT...
🔍 Analisando Twitter para ENAUSDT...
🔍 Analisando Reddit para ENAUSDT...
⛓️  Analisando on-chain de ENAUSDT...
📊 Analisando derivativos de ENAUSDT...
🌍 Analisando macro de ENAUSDT...
🐋 Analisando smart money de ENAUSDT...
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 301ms
 GET /api/trading/metrics 200 in 82ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CoinGecko: Símbolo ENAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ENAUSDT: Request failed with status code 400
🔄 Usando fallback para ENAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ENAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 7.08 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 5 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 80%
🔍 [DEBUG CONFIANÇA] Base técnico: 68%
🔍 [DEBUG CONFIANÇA] Sem penalidade (44% ativos é aceitável) = 68%
🔍 [DEBUG CONFIANÇA] Convergência: +3 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (3 vs 1) = 68%
🔍 [DEBUG CONFIANÇA] FINAL: 68%
✅ Score ponderado: 2.97 (Confiança: 68%)
📋 Sinal: STRONG_BUY weak
🧠 [V2] ENAUSDT: Score ponderado 2.97 (68% confiança)
📊 Sinal técnico V2: BUY (68%)
   Técnico: BUY (49.6 RSI, STRONG_DOWN, Tendência de baixa, Padrão: hammer, Volume acima da média). Score ponderado: 2.97. Confiança: 68%.
🔍 [2025-10-28T22:53:54.718Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ENAUSDT
🔍 [2025-10-28T22:53:54.718Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ENAUSDT
🔍 [2025-10-28T22:53:54.719Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ENAUSDT
⏸️ ENAUSDT: REJEITADO - STRONG_BUY contra tendência STRONG_DOWN
⏸️ ENAUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ADAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ ADAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($0.6483) = $0.06
📊 ADAUSDT: Preço $0.6483, Custo mínimo $0.06

🚀 Iniciando análise V2 para ADAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ADAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ADAUSDT...
🔍 Analisando Twitter para ADAUSDT...
🔍 Analisando Reddit para ADAUSDT...
⛓️  Analisando on-chain de ADAUSDT...
📊 Analisando derivativos de ADAUSDT...
🌍 Analisando macro de ADAUSDT...
🐋 Analisando smart money de ADAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo ADAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ADAUSDT: Request failed with status code 400
🔄 Usando fallback para ADAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ADAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ADAUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:53:56.622Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ADAUSDT
🔍 [2025-10-28T22:53:56.623Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ADAUSDT
🔍 [2025-10-28T22:53:56.623Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ADAUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: VWAP = $0.6545
✅ ADAUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -0.96%
✅ ADAUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
🔍 [2025-10-28T22:53:57.484Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ADAUSDT
✅ ADAUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ADAUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
✅ ADAUSDT: ATR baixo (1.39%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 7.010924 → Notional: $4.54
⚠️ ADAUSDT: Valor da ordem ($4.54) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 8.000000 → Notional: $5.19
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.04 (11.4% do saldo)
   Nocional (5x): $5.19
   Quantidade ajustada: 8.000000 ADA
   Valor da ordem: $5.19
🔍 Verificando margem: disponível=$9.09, necessária=$1.04, posições abertas=2
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.19
   Risco: LOW
📊 SELL: SL=$0.6579 (+1.5%), TP=$0.6284 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:53:58.351Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ADAUSDT
🔍 [2025-10-28T22:53:58.352Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ADAUSDT
🔍 [2025-10-28T22:53:58.353Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ADAUSDT
⚠️ [2025-10-28T22:53:58.353Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ADAUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=8

📝 ADICIONANDO ADAUSDT ao array opportunities (total agora: 2)
✅ ADAUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":8}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 XRPUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ XRPUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($2.611) = $0.26
📊 XRPUSDT: Preço $2.6110, Custo mínimo $0.26

🚀 Iniciando análise V2 para XRPUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando XRPUSDT tecnicamente (1h)...
📱 Analisando sentimento de XRPUSDT...
🔍 Analisando Twitter para XRPUSDT...
🔍 Analisando Reddit para XRPUSDT...
⛓️  Analisando on-chain de XRPUSDT...
📊 Analisando derivativos de XRPUSDT...
🌍 Analisando macro de XRPUSDT...
🐋 Analisando smart money de XRPUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo XRPUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para XRPUSDT: Request failed with status code 400
🔄 Usando fallback para XRPUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de XRPUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] XRPUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:54:00.225Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for XRPUSDT
🔍 [2025-10-28T22:54:00.226Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for XRPUSDT
🔍 [2025-10-28T22:54:00.226Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for XRPUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: VWAP = $2.5197
✅ XRPUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 3.63%
✅ XRPUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0322 (14 períodos)
🔍 [2025-10-28T22:54:01.064Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for XRPUSDT
✅ XRPUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ XRPUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0322 (14 períodos)
✅ XRPUSDT: ATR baixo (1.23%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 1.740447 → Notional: $4.54
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ XRPUSDT: Valor da ordem ($4.44) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 2.000000 → Notional: $5.22
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.04 (11.5% do saldo)
   Nocional (5x): $5.22
   Quantidade ajustada: 2.000000 XRP
   Valor da ordem: $5.22
🔍 Verificando margem: disponível=$9.09, necessária=$1.04, posições abertas=2
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.22
   Risco: LOW
📊 SELL: SL=$2.6503 (+1.5%), TP=$2.5312 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:54:01.924Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for XRPUSDT
🔍 [2025-10-28T22:54:01.925Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for XRPUSDT
🔍 [2025-10-28T22:54:01.925Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for XRPUSDT
⚠️ [2025-10-28T22:54:01.925Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ XRPUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=2

📝 ADICIONANDO XRPUSDT ao array opportunities (total agora: 3)
✅ XRPUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":2}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 SOLUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ SOLUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($194.81) = $0.19
📊 SOLUSDT: Preço $194.8100, Custo mínimo $0.19

🚀 Iniciando análise V2 para SOLUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando SOLUSDT tecnicamente (1h)...
📱 Analisando sentimento de SOLUSDT...
🔍 Analisando Twitter para SOLUSDT...
🔍 Analisando Reddit para SOLUSDT...
⛓️  Analisando on-chain de SOLUSDT...
📊 Analisando derivativos de SOLUSDT...
🌍 Analisando macro de SOLUSDT...
🐋 Analisando smart money de SOLUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 329ms
 GET /api/trading/metrics 200 in 76ms
⚠️ CoinGecko: Símbolo SOLUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para SOLUSDT: Request failed with status code 400
🔄 Usando fallback para SOLUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de SOLUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] SOLUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:54:04.151Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for SOLUSDT
🔍 [2025-10-28T22:54:04.152Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for SOLUSDT
🔍 [2025-10-28T22:54:04.152Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for SOLUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: VWAP = $192.6388
✅ SOLUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.12%
✅ SOLUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
🔍 [2025-10-28T22:54:04.985Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for SOLUSDT
✅ SOLUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ SOLUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
✅ SOLUSDT: ATR baixo (1.51%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.023330 → Notional: $4.54
⚠️ SOLUSDT: Valor da ordem ($3.90) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.030000 → Notional: $5.84
   💰 Margem ajustada: $1.17
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.17 (12.9% do saldo)
   Nocional (5x): $5.84
   Quantidade ajustada: 0.030000 SOL
   Valor da ordem: $5.84
🔍 Verificando margem: disponível=$9.09, necessária=$1.17, posições abertas=2
💰 Trade aprovado: Margem $1.17 @ 5x
   Notional: $5.84
   Risco: LOW
📊 SELL: SL=$197.7118 (+1.5%), TP=$188.8294 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:54:05.847Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for SOLUSDT
🔍 [2025-10-28T22:54:05.847Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for SOLUSDT
🔍 [2025-10-28T22:54:05.848Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for SOLUSDT
⚠️ [2025-10-28T22:54:05.848Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ SOLUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.03

📝 ADICIONANDO SOLUSDT ao array opportunities (total agora: 4)
✅ SOLUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.03}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692046432&signature=86d05508db7e9e5a17347cf3d87e5a266e068f1742f7650d349929281d6f43d8
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:06.326"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:06.326"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"3ms","overallScore":"0.428","patternsDetected":2,"symbol":"BTCUSDT","technicalScore":"0.600"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:06.635"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.375","patternsDetected":2,"symbol":"ETHUSDT","technicalScore":"0.600"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:06.638"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.630","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:06.639"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.188","patternsDetected":2,"symbol":"ADAUSDT","technicalScore":"0.100"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:06.639"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.301","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:06.640"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ETHUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.0001, stepSize: 0.0001
⚠️ ETHUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.0001) × price($3995.25) = $0.40
📊 ETHUSDT: Preço $3995.2500, Custo mínimo $0.40

🚀 Iniciando análise V2 para ETHUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ETHUSDT tecnicamente (1h)...
📱 Analisando sentimento de ETHUSDT...
🔍 Analisando Twitter para ETHUSDT...
🔍 Analisando Reddit para ETHUSDT...
⛓️  Analisando on-chain de ETHUSDT...
📊 Analisando derivativos de ETHUSDT...
🌍 Analisando macro de ETHUSDT...
🐋 Analisando smart money de ETHUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
 GET /api/binance/balance 404 in 44ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692047972&signature=122c125a92f4e4e9d64f874f2b912553ebba8b3f2d7315f8d31f83a8b4e8ba09
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:07.719"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:07.720"}
[INFO] trading_engine: Account balance loaded
⚠️ CoinGecko: Símbolo ETHUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ETHUSDT: Request failed with status code 400
🔄 Usando fallback para ETHUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ETHUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ETHUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:54:08.029Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ETHUSDT
🔍 [2025-10-28T22:54:08.030Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ETHUSDT
🔍 [2025-10-28T22:54:08.031Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ETHUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692048543&signature=f0d5ea7a30403ce1086adc05edd269a07ca669f5890f219d968f5b4b852ef838
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:08.298"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:08.298"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"2ms","overallScore":"0.260","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"0.300"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:08.519"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.838","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:08.521"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.321","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:08.521"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.265","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:08.522"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.628","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:08.522"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: VWAP = $3974.4256
✅ ETHUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 0.52%
✅ ETHUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $48.0557 (14 períodos)
🔍 [2025-10-28T22:54:08.912Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ETHUSDT
✅ ETHUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ETHUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $48.0557 (14 períodos)
✅ ETHUSDT: ATR baixo (1.20%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.001137 → Notional: $4.54
⚠️ ETHUSDT: Valor da ordem ($4.00) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.002000 → Notional: $7.99
   💰 Margem ajustada: $1.60
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.60 (17.6% do saldo)
   Nocional (5x): $7.99
   Quantidade ajustada: 0.002000 ETH
   Valor da ordem: $7.99
🔍 Verificando margem: disponível=$9.09, necessária=$1.60, posições abertas=2
💰 Trade aprovado: Margem $1.60 @ 5x
   Notional: $7.99
   Risco: LOW
📊 SELL: SL=$4055.1787 (+1.5%), TP=$3872.9953 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:54:09.769Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ETHUSDT
🔍 [2025-10-28T22:54:09.770Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ETHUSDT
🔍 [2025-10-28T22:54:09.770Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ETHUSDT
⚠️ [2025-10-28T22:54:09.770Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ETHUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.002

📝 ADICIONANDO ETHUSDT ao array opportunities (total agora: 5)
✅ ETHUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.002}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BTCUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.00001, stepSize: 0.00001
⚠️ BTCUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.00001) × price($113188.76) = $1.13
📊 BTCUSDT: Preço $113188.7600, Custo mínimo $1.13

🚀 Iniciando análise V2 para BTCUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BTCUSDT tecnicamente (1h)...
📱 Analisando sentimento de BTCUSDT...
🔍 Analisando Twitter para BTCUSDT...
🔍 Analisando Reddit para BTCUSDT...
⛓️  Analisando on-chain de BTCUSDT...
📊 Analisando derivativos de BTCUSDT...
🌍 Analisando macro de BTCUSDT...
🐋 Analisando smart money de BTCUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CoinGecko: Símbolo BTCUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para BTCUSDT: Request failed with status code 400
🔄 Usando fallback para BTCUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BTCUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BTCUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:54:12.132Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BTCUSDT
🔍 [2025-10-28T22:54:12.133Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BTCUSDT
🔍 [2025-10-28T22:54:12.133Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BTCUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: VWAP = $111253.5959
✅ BTCUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.74%
✅ BTCUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
🔍 [2025-10-28T22:54:12.965Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BTCUSDT
✅ BTCUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BTCUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
✅ BTCUSDT: ATR baixo (0.73%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.000040 → Notional: $4.54
⏸️ BTCUSDT: Quantidade muito pequena (0 < minQty 0.001)
⏸️ BTCUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BNBUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ BNBUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($1105.49) = $1.11
📊 BNBUSDT: Preço $1105.4900, Custo mínimo $1.11

🚀 Iniciando análise V2 para BNBUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BNBUSDT tecnicamente (1h)...
📱 Analisando sentimento de BNBUSDT...
🔍 Analisando Twitter para BNBUSDT...
🔍 Analisando Reddit para BNBUSDT...
⛓️  Analisando on-chain de BNBUSDT...
📊 Analisando derivativos de BNBUSDT...
🌍 Analisando macro de BNBUSDT...
🐋 Analisando smart money de BNBUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo BNBUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para BNBUSDT: Request failed with status code 400
🔄 Usando fallback para BNBUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BNBUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BNBUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:54:16.050Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BNBUSDT
🔍 [2025-10-28T22:54:16.051Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BNBUSDT
🔍 [2025-10-28T22:54:16.052Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BNBUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: VWAP = $1111.6199
✅ BNBUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -0.54%
✅ BNBUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.7293 (14 períodos)
🔍 [2025-10-28T22:54:16.880Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BNBUSDT
✅ BNBUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BNBUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.7293 (14 períodos)
✅ BNBUSDT: ATR baixo (1.24%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.004110 → Notional: $4.54
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⏸️ BNBUSDT: Quantidade muito pequena (0 < minQty 0.01)
⏸️ BNBUSDT: REJEITADO - Sem decision retornada

🏁 LOOP TERMINOU! Total de 8 símbolos analisados, 5 oportunidades adicionadas ao array

💰 CAPITAL BAIXO: Priorizando moedas mais BARATAS para maximizar quantidade de trades

📊 Top oportunidades encontradas (5 total):
   1. ADAUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.06
   2. DOGEUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   3. SOLUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   4. XRPUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.26
   5. ETHUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.40

✅ 5 oportunidades encontradas e prontas para execução!
📋 Detalhes das oportunidades:
   1. ADAUSDT: action=SELL, size=8, conf=50%
   2. DOGEUSDT: action=SELL, size=26, conf=50%
   3. SOLUSDT: action=SELL, size=0.03, conf=50%
   4. XRPUSDT: action=SELL, size=2, conf=50%
   5. ETHUSDT: action=SELL, size=0.002, conf=50%

🔚 RETORNANDO 5 oportunidades de getOptimalSymbols()

🔍 DEBUG - Chamou getOptimalSymbols(), recebeu 5 oportunidades
📊 Máximo de trades permitido: 2 (atualmente: 2)
💰 Capital disponível: $9.09
🎯 Analisando 5 oportunidades encontradas

📋 Oportunidades encontradas:
   1. ADAUSDT: Score -1.14, Conf 50%, Custo $0.06
   2. DOGEUSDT: Score -1.14, Conf 50%, Custo $0.19
   3. SOLUSDT: Score -1.14, Conf 50%, Custo $0.19
   4. XRPUSDT: Score -1.14, Conf 50%, Custo $0.26
   5. ETHUSDT: Score -1.14, Conf 50%, Custo $0.40

🎯 Oportunidades recebidas para execução: 5
🎯 Symbols array: [ 'ADAUSDT', 'DOGEUSDT', 'SOLUSDT', 'XRPUSDT', 'ETHUSDT' ]
✅ Limite de trades alcançado
⏳ Aguardando 5s para próxima análise...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ ActiveMonitoringService: Supabase not available, skipping equity monitoring
⚠️ ActiveMonitoringService: Supabase not available, skipping trades monitoring
⚠️ TradeStatusMonitor: Supabase not available, skipping status check
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ping
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 297ms
 GET /api/trading/metrics 200 in 139ms
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.09665854,"equity":10.20090126},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:21.915"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:21.996"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 657ms

🔄 Iteração #4 - Loop de trading ativo
🔍 DEBUG - Response completa de getFuturesAccountInfo:
  account.availableBalance: 9.09700773
  account.totalWalletBalance: 10.20129283
  account.totalMarginBalance: 10.20075275
💰 Saldo disponível: $9.10
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692063580&signature=ad2465cc9710406498d57ea7861176b4865c7701cceb80182ae11b626ecc699a

🔍 MONITORAMENTO: Verificando 2 trades abertos...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 DOGEUSDT: Entry=0, Current=0.19399
   💰 P&L REAL (Binance): $0.0003 (0.39%)
   📋 Debug: isolatedMargin=0, estimatedMargin=0.06720826666666667
   ✅ DOGEUSDT dentro do limite. P&L: 0.39%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 ADAUSDT: Entry=0, Current=0.6481
   💰 P&L REAL (Binance): $-0.0008 (-0.08%)
   📋 Debug: isolatedMargin=0, estimatedMargin=1.03616
   ✅ ADAUSDT dentro do limite. P&L: -0.08%

📊 Status: 2/2 trades abertos

🔍 Analisando oportunidades em 8 símbolos...
💰 Capital disponível: $9.10
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 DOGEUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 1, stepSize: 1
⚠️ DOGEUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(1) × price($0.19398) = $0.19
📊 DOGEUSDT: Preço $0.1940, Custo mínimo $0.19

🚀 Iniciando análise V2 para DOGEUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando DOGEUSDT tecnicamente (1h)...
📱 Analisando sentimento de DOGEUSDT...
🔍 Analisando Twitter para DOGEUSDT...
🔍 Analisando Reddit para DOGEUSDT...
⛓️  Analisando on-chain de DOGEUSDT...
📊 Analisando derivativos de DOGEUSDT...
🌍 Analisando macro de DOGEUSDT...
🐋 Analisando smart money de DOGEUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo DOGEUSDT não mapeado
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CryptoPanic API falhou para DOGEUSDT: Request failed with status code 400
🔄 Usando fallback para DOGEUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de DOGEUSDT nas últimas 6h
📊 Fear & Greed: 50 (Neutral)
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] DOGEUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:54:27.840Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for DOGEUSDT
🔍 [2025-10-28T22:54:27.841Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for DOGEUSDT
🔍 [2025-10-28T22:54:27.841Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for DOGEUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: VWAP = $0.1976
✅ DOGEUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.84%
✅ DOGEUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
🔍 [2025-10-28T22:54:28.668Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for DOGEUSDT
✅ DOGEUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ DOGEUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
✅ DOGEUSDT: ATR baixo (1.40%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.10
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 23.448314 → Notional: $4.55
⚠️ DOGEUSDT: Valor da ordem ($4.46) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 26.000000 → Notional: $5.04
   💰 Margem ajustada: $1.01
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.10
   Margem usada: $1.01 (11.1% do saldo)
   Nocional (5x): $5.04
   Quantidade ajustada: 26.000000 DOGE
   Valor da ordem: $5.04
🔍 Verificando margem: disponível=$9.10, necessária=$1.01, posições abertas=2
💰 Trade aprovado: Margem $1.01 @ 5x
   Notional: $5.04
   Risco: LOW
📊 SELL: SL=$0.1969 (+1.5%), TP=$0.1880 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:54:29.528Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for DOGEUSDT
🔍 [2025-10-28T22:54:29.528Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for DOGEUSDT
🔍 [2025-10-28T22:54:29.529Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for DOGEUSDT
⚠️ [2025-10-28T22:54:29.529Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ DOGEUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=26

📝 ADICIONANDO DOGEUSDT ao array opportunities (total agora: 1)
✅ DOGEUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":26}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ENAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ ENAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($0.4623) = $0.00
📊 ENAUSDT: Preço $0.4623, Custo mínimo $0.00

🚀 Iniciando análise V2 para ENAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ENAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ENAUSDT...
🔍 Analisando Twitter para ENAUSDT...
🔍 Analisando Reddit para ENAUSDT...
⛓️  Analisando on-chain de ENAUSDT...
📊 Analisando derivativos de ENAUSDT...
🌍 Analisando macro de ENAUSDT...
🐋 Analisando smart money de ENAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo ENAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ENAUSDT: Request failed with status code 400
🔄 Usando fallback para ENAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ENAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 7.08 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 5 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 80%
🔍 [DEBUG CONFIANÇA] Base técnico: 68%
🔍 [DEBUG CONFIANÇA] Sem penalidade (44% ativos é aceitável) = 68%
🔍 [DEBUG CONFIANÇA] Convergência: +3 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (3 vs 1) = 68%
🔍 [DEBUG CONFIANÇA] FINAL: 68%
✅ Score ponderado: 2.97 (Confiança: 68%)
📋 Sinal: STRONG_BUY weak
🧠 [V2] ENAUSDT: Score ponderado 2.97 (68% confiança)
📊 Sinal técnico V2: BUY (68%)
   Técnico: BUY (49.6 RSI, STRONG_DOWN, Tendência de baixa, Padrão: hammer, Volume acima da média). Score ponderado: 2.97. Confiança: 68%.
🔍 [2025-10-28T22:54:32.172Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ENAUSDT
🔍 [2025-10-28T22:54:32.172Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ENAUSDT
🔍 [2025-10-28T22:54:32.173Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ENAUSDT
⏸️ ENAUSDT: REJEITADO - STRONG_BUY contra tendência STRONG_DOWN
⏸️ ENAUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ADAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ ADAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($0.6481) = $0.06
📊 ADAUSDT: Preço $0.6481, Custo mínimo $0.06

🚀 Iniciando análise V2 para ADAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ADAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ADAUSDT...
🔍 Analisando Twitter para ADAUSDT...
🔍 Analisando Reddit para ADAUSDT...
⛓️  Analisando on-chain de ADAUSDT...
📊 Analisando derivativos de ADAUSDT...
🌍 Analisando macro de ADAUSDT...
🐋 Analisando smart money de ADAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo ADAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ADAUSDT: Request failed with status code 400
🔄 Usando fallback para ADAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ADAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ADAUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:54:34.316Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ADAUSDT
🔍 [2025-10-28T22:54:34.323Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ADAUSDT
🔍 [2025-10-28T22:54:34.324Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ADAUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: VWAP = $0.6545
✅ ADAUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -0.96%
✅ ADAUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
🔍 [2025-10-28T22:54:35.157Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ADAUSDT
✅ ADAUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ADAUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
✅ ADAUSDT: ATR baixo (1.39%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.10
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 7.017130 → Notional: $4.55
⚠️ ADAUSDT: Valor da ordem ($4.54) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 8.000000 → Notional: $5.19
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.10
   Margem usada: $1.04 (11.4% do saldo)
   Nocional (5x): $5.19
   Quantidade ajustada: 8.000000 ADA
   Valor da ordem: $5.19
🔍 Verificando margem: disponível=$9.10, necessária=$1.04, posições abertas=2
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.19
   Risco: LOW
📊 SELL: SL=$0.6579 (+1.5%), TP=$0.6284 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:54:36.017Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ADAUSDT
🔍 [2025-10-28T22:54:36.018Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ADAUSDT
🔍 [2025-10-28T22:54:36.018Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ADAUSDT
⚠️ [2025-10-28T22:54:36.019Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ADAUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=8

📝 ADICIONANDO ADAUSDT ao array opportunities (total agora: 2)
✅ ADAUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":8}
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692076555&signature=b386e76f65feec081a7113878a2cea1d28f5138132a52a607553333e2124a8dd
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:36.296"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:36.299"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 XRPUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ XRPUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($2.6119) = $0.26
📊 XRPUSDT: Preço $2.6119, Custo mínimo $0.26

🚀 Iniciando análise V2 para XRPUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando XRPUSDT tecnicamente (1h)...
📱 Analisando sentimento de XRPUSDT...
🔍 Analisando Twitter para XRPUSDT...
🔍 Analisando Reddit para XRPUSDT...
⛓️  Analisando on-chain de XRPUSDT...
📊 Analisando derivativos de XRPUSDT...
🌍 Analisando macro de XRPUSDT...
🐋 Analisando smart money de XRPUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
 GET /api/binance/balance 404 in 34ms
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692077977&signature=285a4dfe66a6db61142e7a05e992e1faff7991bbfbdf4aacef3569a44bfe4db4
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:37.720"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:37.721"}
[INFO] trading_engine: Account balance loaded
⚠️ CoinGecko: Símbolo XRPUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"3ms","overallScore":"0.834","patternsDetected":2,"symbol":"BTCUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:37.877"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.339","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:37.879"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.575","patternsDetected":2,"symbol":"BNBUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:37.879"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.832","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:37.880"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.535","patternsDetected":2,"symbol":"SOLUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:37.881"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CryptoPanic API falhou para XRPUSDT: Request failed with status code 400
🔄 Usando fallback para XRPUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de XRPUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] XRPUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:54:38.053Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for XRPUSDT
🔍 [2025-10-28T22:54:38.053Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for XRPUSDT
🔍 [2025-10-28T22:54:38.054Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for XRPUSDT
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692078556&signature=d984739819fbbb397c6f675bb7a26b5a7c524a9c96ad1df9d6700a59b1e9ff13
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:38.306"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:54:38.307"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: VWAP = $2.5197
✅ XRPUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 3.66%
✅ XRPUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0322 (14 períodos)
🔍 [2025-10-28T22:54:38.885Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for XRPUSDT
✅ XRPUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ XRPUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0322 (14 períodos)
✅ XRPUSDT: ATR baixo (1.23%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.10
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 1.741521 → Notional: $4.55
[DEBUG] websocket: Pong recebido
⚠️ XRPUSDT: Valor da ordem ($4.44) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 2.000000 → Notional: $5.22
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.10
   Margem usada: $1.04 (11.5% do saldo)
   Nocional (5x): $5.22
   Quantidade ajustada: 2.000000 XRP
   Valor da ordem: $5.22
🔍 Verificando margem: disponível=$9.10, necessária=$1.04, posições abertas=2
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.22
   Risco: LOW
📊 SELL: SL=$2.6510 (+1.5%), TP=$2.5319 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:54:39.755Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for XRPUSDT
🔍 [2025-10-28T22:54:39.756Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for XRPUSDT
🔍 [2025-10-28T22:54:39.756Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for XRPUSDT
⚠️ [2025-10-28T22:54:39.756Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ XRPUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=2

📝 ADICIONANDO XRPUSDT ao array opportunities (total agora: 3)
✅ XRPUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":2}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 SOLUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ SOLUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($194.8) = $0.19
📊 SOLUSDT: Preço $194.8000, Custo mínimo $0.19

🚀 Iniciando análise V2 para SOLUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando SOLUSDT tecnicamente (1h)...
📱 Analisando sentimento de SOLUSDT...
🔍 Analisando Twitter para SOLUSDT...
🔍 Analisando Reddit para SOLUSDT...
⛓️  Analisando on-chain de SOLUSDT...
📊 Analisando derivativos de SOLUSDT...
🌍 Analisando macro de SOLUSDT...
🐋 Analisando smart money de SOLUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo SOLUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CryptoPanic API falhou para SOLUSDT: Request failed with status code 400
🔄 Usando fallback para SOLUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de SOLUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] SOLUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:54:42.171Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for SOLUSDT
🔍 [2025-10-28T22:54:42.172Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for SOLUSDT
🔍 [2025-10-28T22:54:42.172Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for SOLUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: VWAP = $192.6389
✅ SOLUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.13%
✅ SOLUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
🔍 [2025-10-28T22:54:43.012Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for SOLUSDT
✅ SOLUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ SOLUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
✅ SOLUSDT: ATR baixo (1.51%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.10
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.023348 → Notional: $4.55
⚠️ SOLUSDT: Valor da ordem ($3.90) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.030000 → Notional: $5.84
   💰 Margem ajustada: $1.17
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.10
   Margem usada: $1.17 (12.8% do saldo)
   Nocional (5x): $5.84
   Quantidade ajustada: 0.030000 SOL
   Valor da ordem: $5.84
🔍 Verificando margem: disponível=$9.10, necessária=$1.17, posições abertas=2
💰 Trade aprovado: Margem $1.17 @ 5x
   Notional: $5.84
   Risco: LOW
📊 SELL: SL=$197.7321 (+1.5%), TP=$188.8488 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:54:43.901Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for SOLUSDT
🔍 [2025-10-28T22:54:43.901Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for SOLUSDT
🔍 [2025-10-28T22:54:43.901Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for SOLUSDT
⚠️ [2025-10-28T22:54:43.902Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ SOLUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.03

📝 ADICIONANDO SOLUSDT ao array opportunities (total agora: 4)
✅ SOLUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.03}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ETHUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.0001, stepSize: 0.0001
⚠️ ETHUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.0001) × price($3997.39) = $0.40
📊 ETHUSDT: Preço $3997.3900, Custo mínimo $0.40

🚀 Iniciando análise V2 para ETHUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ETHUSDT tecnicamente (1h)...
📱 Analisando sentimento de ETHUSDT...
🔍 Analisando Twitter para ETHUSDT...
🔍 Analisando Reddit para ETHUSDT...
⛓️  Analisando on-chain de ETHUSDT...
📊 Analisando derivativos de ETHUSDT...
🌍 Analisando macro de ETHUSDT...
🐋 Analisando smart money de ETHUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CoinGecko: Símbolo ETHUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ETHUSDT: Request failed with status code 400
🔄 Usando fallback para ETHUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ETHUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ETHUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:54:45.938Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ETHUSDT
🔍 [2025-10-28T22:54:45.939Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ETHUSDT
🔍 [2025-10-28T22:54:45.939Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ETHUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: VWAP = $3974.4276
✅ ETHUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 0.55%
✅ ETHUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $48.0557 (14 períodos)
🔍 [2025-10-28T22:54:46.813Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ETHUSDT
✅ ETHUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ETHUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $48.0557 (14 períodos)
✅ ETHUSDT: ATR baixo (1.20%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.10
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.001138 → Notional: $4.55
⚠️ ETHUSDT: Valor da ordem ($4.00) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.002000 → Notional: $7.99
   💰 Margem ajustada: $1.60
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.10
   Margem usada: $1.60 (17.6% do saldo)
   Nocional (5x): $7.99
   Quantidade ajustada: 0.002000 ETH
   Valor da ordem: $7.99
🔍 Verificando margem: disponível=$9.10, necessária=$1.60, posições abertas=2
💰 Trade aprovado: Margem $1.60 @ 5x
   Notional: $7.99
   Risco: LOW
📊 SELL: SL=$4056.2952 (+1.5%), TP=$3874.0617 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:54:47.684Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ETHUSDT
🔍 [2025-10-28T22:54:47.685Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ETHUSDT
🔍 [2025-10-28T22:54:47.686Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ETHUSDT
⚠️ [2025-10-28T22:54:47.687Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ETHUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.002

📝 ADICIONANDO ETHUSDT ao array opportunities (total agora: 5)
✅ ETHUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.002}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BTCUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.00001, stepSize: 0.00001
⚠️ BTCUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.00001) × price($113206.87) = $1.13
📊 BTCUSDT: Preço $113206.8700, Custo mínimo $1.13

🚀 Iniciando análise V2 para BTCUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BTCUSDT tecnicamente (1h)...
📱 Analisando sentimento de BTCUSDT...
🔍 Analisando Twitter para BTCUSDT...
🔍 Analisando Reddit para BTCUSDT...
⛓️  Analisando on-chain de BTCUSDT...
📊 Analisando derivativos de BTCUSDT...
🌍 Analisando macro de BTCUSDT...
🐋 Analisando smart money de BTCUSDT...
⚠️ ActiveMonitoringService: Supabase not available, skipping equity monitoring
⚠️ ActiveMonitoringService: Supabase not available, skipping trades monitoring
⚠️ TradeStatusMonitor: Supabase not available, skipping status check
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CoinGecko: Símbolo BTCUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para BTCUSDT: Request failed with status code 400
🔄 Usando fallback para BTCUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BTCUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BTCUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:54:49.708Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BTCUSDT
🔍 [2025-10-28T22:54:49.709Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BTCUSDT
🔍 [2025-10-28T22:54:49.709Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BTCUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: VWAP = $111253.6393
✅ BTCUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.76%
✅ BTCUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
🔍 [2025-10-28T22:54:50.544Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BTCUSDT
✅ BTCUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BTCUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
✅ BTCUSDT: ATR baixo (0.73%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.10
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.000040 → Notional: $4.55
⏸️ BTCUSDT: Quantidade muito pequena (0 < minQty 0.001)
⏸️ BTCUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BNBUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ BNBUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($1106.06) = $1.11
📊 BNBUSDT: Preço $1106.0600, Custo mínimo $1.11

🚀 Iniciando análise V2 para BNBUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BNBUSDT tecnicamente (1h)...
📱 Analisando sentimento de BNBUSDT...
🔍 Analisando Twitter para BNBUSDT...
🔍 Analisando Reddit para BNBUSDT...
⛓️  Analisando on-chain de BNBUSDT...
📊 Analisando derivativos de BNBUSDT...
🌍 Analisando macro de BNBUSDT...
🐋 Analisando smart money de BNBUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo BNBUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para BNBUSDT: Request failed with status code 400
🔄 Usando fallback para BNBUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BNBUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BNBUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:54:53.292Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BNBUSDT
🔍 [2025-10-28T22:54:53.294Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BNBUSDT
🔍 [2025-10-28T22:54:53.296Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BNBUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: VWAP = $1111.6205
✅ BNBUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -0.50%
✅ BNBUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.7586 (14 períodos)
🔍 [2025-10-28T22:54:54.132Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BNBUSDT
✅ BNBUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BNBUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.7586 (14 períodos)
✅ BNBUSDT: ATR baixo (1.24%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.10
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.004112 → Notional: $4.55
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⏸️ BNBUSDT: Quantidade muito pequena (0 < minQty 0.01)
⏸️ BNBUSDT: REJEITADO - Sem decision retornada

🏁 LOOP TERMINOU! Total de 8 símbolos analisados, 5 oportunidades adicionadas ao array

💰 CAPITAL BAIXO: Priorizando moedas mais BARATAS para maximizar quantidade de trades

📊 Top oportunidades encontradas (5 total):
   1. ADAUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.06
   2. DOGEUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   3. SOLUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   4. XRPUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.26
   5. ETHUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.40

✅ 5 oportunidades encontradas e prontas para execução!
📋 Detalhes das oportunidades:
   1. ADAUSDT: action=SELL, size=8, conf=50%
   2. DOGEUSDT: action=SELL, size=26, conf=50%
   3. SOLUSDT: action=SELL, size=0.03, conf=50%
   4. XRPUSDT: action=SELL, size=2, conf=50%
   5. ETHUSDT: action=SELL, size=0.002, conf=50%

🔚 RETORNANDO 5 oportunidades de getOptimalSymbols()

🔍 DEBUG - Chamou getOptimalSymbols(), recebeu 5 oportunidades
📊 Máximo de trades permitido: 2 (atualmente: 2)
💰 Capital disponível: $9.10
🎯 Analisando 5 oportunidades encontradas

📋 Oportunidades encontradas:
   1. ADAUSDT: Score -1.14, Conf 50%, Custo $0.06
   2. DOGEUSDT: Score -1.14, Conf 50%, Custo $0.19
   3. SOLUSDT: Score -1.14, Conf 50%, Custo $0.19
   4. XRPUSDT: Score -1.14, Conf 50%, Custo $0.26
   5. ETHUSDT: Score -1.14, Conf 50%, Custo $0.40

🎯 Oportunidades recebidas para execução: 5
🎯 Symbols array: [ 'ADAUSDT', 'DOGEUSDT', 'SOLUSDT', 'XRPUSDT', 'ETHUSDT' ]
✅ Limite de trades alcançado
⏳ Aguardando 5s para próxima análise...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price

🔄 Iteração #5 - Loop de trading ativo
🔍 DEBUG - Response completa de getFuturesAccountInfo:
  account.availableBalance: 9.09127073
  account.totalWalletBalance: 10.20036148
  account.totalMarginBalance: 10.19545892
💰 Saldo disponível: $9.09
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692100877&signature=633f8a6137e4ecf54c9106c13725947150dcb6c125838a209d85c6e1b20cee48

🔍 MONITORAMENTO: Verificando 2 trades abertos...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 DOGEUSDT: Entry=0, Current=0.19399
   💰 P&L REAL (Binance): $-0.0013 (-1.94%)
   📋 Debug: isolatedMargin=0, estimatedMargin=0.06722911866666667
   ✅ DOGEUSDT dentro do limite. P&L: -1.94%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 ADAUSDT: Entry=0, Current=0.6482
   💰 P&L REAL (Binance): $-0.0025 (-0.24%)
   📋 Debug: isolatedMargin=0, estimatedMargin=1.036506416
   ✅ ADAUSDT dentro do limite. P&L: -0.24%

📊 Status: 2/2 trades abertos

🔍 Analisando oportunidades em 8 símbolos...
💰 Capital disponível: $9.09
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 DOGEUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 1, stepSize: 1
⚠️ DOGEUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(1) × price($0.19399) = $0.19
📊 DOGEUSDT: Preço $0.1940, Custo mínimo $0.19

🚀 Iniciando análise V2 para DOGEUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando DOGEUSDT tecnicamente (1h)...
📱 Analisando sentimento de DOGEUSDT...
🔍 Analisando Twitter para DOGEUSDT...
🔍 Analisando Reddit para DOGEUSDT...
⛓️  Analisando on-chain de DOGEUSDT...
📊 Analisando derivativos de DOGEUSDT...
🌍 Analisando macro de DOGEUSDT...
🐋 Analisando smart money de DOGEUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo DOGEUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para DOGEUSDT: Request failed with status code 400
🔄 Usando fallback para DOGEUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de DOGEUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] DOGEUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:55:05.207Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for DOGEUSDT
🔍 [2025-10-28T22:55:05.209Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for DOGEUSDT
🔍 [2025-10-28T22:55:05.211Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for DOGEUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: VWAP = $0.1976
✅ DOGEUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.83%
✅ DOGEUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
🔍 [2025-10-28T22:55:06.069Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for DOGEUSDT
✅ DOGEUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ DOGEUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692106563&signature=b5b647351fca78cf77d97323dc463d957e3fa451bedfb6e77ed88ab7d8e967d4
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:06.310"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:06.311"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
✅ DOGEUSDT: ATR baixo (1.40%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 23.432318 → Notional: $4.55
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"2ms","overallScore":"0.297","patternsDetected":2,"symbol":"BTCUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:06.647"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.332","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:06.648"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.539","patternsDetected":2,"symbol":"BNBUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:06.648"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.415","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"0.600"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:06.649"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.194","patternsDetected":2,"symbol":"SOLUSDT","technicalScore":"0.100"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:06.650"}
[INFO] trading_engine: Symbol analysis completed
⚠️ DOGEUSDT: Valor da ordem ($4.46) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 26.000000 → Notional: $5.04
   💰 Margem ajustada: $1.01
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.01 (11.1% do saldo)
   Nocional (5x): $5.04
   Quantidade ajustada: 26.000000 DOGE
   Valor da ordem: $5.04
🔍 Verificando margem: disponível=$9.09, necessária=$1.01, posições abertas=2
💰 Trade aprovado: Margem $1.01 @ 5x
   Notional: $5.04
   Risco: LOW
📊 SELL: SL=$0.1969 (+1.5%), TP=$0.1881 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:55:06.936Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for DOGEUSDT
🔍 [2025-10-28T22:55:06.937Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for DOGEUSDT
🔍 [2025-10-28T22:55:06.937Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for DOGEUSDT
⚠️ [2025-10-28T22:55:06.937Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ DOGEUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=26

📝 ADICIONANDO DOGEUSDT ao array opportunities (total agora: 1)
✅ DOGEUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":26}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
 GET /api/binance/balance 404 in 60ms
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ENAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ ENAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($0.4622) = $0.00
📊 ENAUSDT: Preço $0.4622, Custo mínimo $0.00

🚀 Iniciando análise V2 para ENAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ENAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ENAUSDT...
🔍 Analisando Twitter para ENAUSDT...
🔍 Analisando Reddit para ENAUSDT...
⛓️  Analisando on-chain de ENAUSDT...
📊 Analisando derivativos de ENAUSDT...
🌍 Analisando macro de ENAUSDT...
🐋 Analisando smart money de ENAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692107976&signature=bca71dcdaa326a126aed325d83da72bee26973e1651453ab777e61b5ac4336fe
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:07.797"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:07.797"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ping
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 347ms
 GET /api/trading/metrics 200 in 86ms
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692108558&signature=d448a0cc6de36043271db0453574a71c82ce5690b1f3c8feea28039a9a1deb72
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:08.297"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:08.298"}
[INFO] trading_engine: Account balance loaded
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.09547058,"equity":10.20112678},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:08.401"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:08.494"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 700ms
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.828","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:08.519"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.834","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:08.520"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.211","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"0.100"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:08.521"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.653","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:08.521"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.574","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:08.522"}
[INFO] trading_engine: Symbol analysis completed
⚠️ CoinGecko: Símbolo ENAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ENAUSDT: Request failed with status code 400
🔄 Usando fallback para ENAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ENAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 7.08 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 5 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 80%
🔍 [DEBUG CONFIANÇA] Base técnico: 68%
🔍 [DEBUG CONFIANÇA] Sem penalidade (44% ativos é aceitável) = 68%
🔍 [DEBUG CONFIANÇA] Convergência: +3 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (3 vs 1) = 68%
🔍 [DEBUG CONFIANÇA] FINAL: 68%
✅ Score ponderado: 2.97 (Confiança: 68%)
📋 Sinal: STRONG_BUY weak
🧠 [V2] ENAUSDT: Score ponderado 2.97 (68% confiança)
📊 Sinal técnico V2: BUY (68%)
   Técnico: BUY (49.5 RSI, STRONG_DOWN, Tendência de baixa, Padrão: hammer, Volume acima da média). Score ponderado: 2.97. Confiança: 68%.
🔍 [2025-10-28T22:55:08.861Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ENAUSDT
🔍 [2025-10-28T22:55:08.862Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ENAUSDT
🔍 [2025-10-28T22:55:08.862Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ENAUSDT
⏸️ ENAUSDT: REJEITADO - STRONG_BUY contra tendência STRONG_DOWN
⏸️ ENAUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ADAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ ADAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($0.6482) = $0.06
📊 ADAUSDT: Preço $0.6482, Custo mínimo $0.06

🚀 Iniciando análise V2 para ADAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ADAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ADAUSDT...
🔍 Analisando Twitter para ADAUSDT...
🔍 Analisando Reddit para ADAUSDT...
⛓️  Analisando on-chain de ADAUSDT...
📊 Analisando derivativos de ADAUSDT...
🌍 Analisando macro de ADAUSDT...
🐋 Analisando smart money de ADAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
⚠️ CoinGecko: Símbolo ADAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ADAUSDT: Request failed with status code 400
🔄 Usando fallback para ADAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ADAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ADAUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:55:10.924Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ADAUSDT
🔍 [2025-10-28T22:55:10.925Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ADAUSDT
🔍 [2025-10-28T22:55:10.925Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ADAUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: VWAP = $0.6545
✅ ADAUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -0.98%
✅ ADAUSDT: Dados de volume não disponíveis
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
🔍 [2025-10-28T22:55:11.747Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ADAUSDT
✅ ADAUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ADAUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
✅ ADAUSDT: ATR baixo (1.39%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 7.013787 → Notional: $4.55
⚠️ ADAUSDT: Valor da ordem ($4.54) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 8.000000 → Notional: $5.18
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.04 (11.4% do saldo)
   Nocional (5x): $5.18
   Quantidade ajustada: 8.000000 ADA
   Valor da ordem: $5.18
🔍 Verificando margem: disponível=$9.09, necessária=$1.04, posições abertas=2
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.18
   Risco: LOW
📊 SELL: SL=$0.6578 (+1.5%), TP=$0.6283 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:55:12.610Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ADAUSDT
🔍 [2025-10-28T22:55:12.610Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ADAUSDT
🔍 [2025-10-28T22:55:12.610Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ADAUSDT
⚠️ [2025-10-28T22:55:12.611Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ADAUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=8

📝 ADICIONANDO ADAUSDT ao array opportunities (total agora: 2)
✅ ADAUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":8}
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.0953833,"equity":10.2013575},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:12.920"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:13.003"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 654ms
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 XRPUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ XRPUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($2.6112) = $0.26
📊 XRPUSDT: Preço $2.6112, Custo mínimo $0.26

🚀 Iniciando análise V2 para XRPUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando XRPUSDT tecnicamente (1h)...
📱 Analisando sentimento de XRPUSDT...
🔍 Analisando Twitter para XRPUSDT...
🔍 Analisando Reddit para XRPUSDT...
⛓️  Analisando on-chain de XRPUSDT...
📊 Analisando derivativos de XRPUSDT...
🌍 Analisando macro de XRPUSDT...
🐋 Analisando smart money de XRPUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 317ms
 GET /api/trading/metrics 200 in 121ms
⚠️ CoinGecko: Símbolo XRPUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para XRPUSDT: Request failed with status code 400
🔄 Usando fallback para XRPUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de XRPUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] XRPUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:55:14.475Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for XRPUSDT
🔍 [2025-10-28T22:55:14.476Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for XRPUSDT
🔍 [2025-10-28T22:55:14.476Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for XRPUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: VWAP = $2.5197
✅ XRPUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 3.63%
✅ XRPUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0322 (14 períodos)
🔍 [2025-10-28T22:55:15.306Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for XRPUSDT
✅ XRPUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ XRPUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0322 (14 períodos)
✅ XRPUSDT: ATR baixo (1.23%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 1.740822 → Notional: $4.55
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ XRPUSDT: Valor da ordem ($4.44) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 2.000000 → Notional: $5.22
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.04 (11.5% do saldo)
   Nocional (5x): $5.22
   Quantidade ajustada: 2.000000 XRP
   Valor da ordem: $5.22
🔍 Verificando margem: disponível=$9.09, necessária=$1.04, posições abertas=2
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.22
   Risco: LOW
📊 SELL: SL=$2.6504 (+1.5%), TP=$2.5313 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:55:16.158Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for XRPUSDT
🔍 [2025-10-28T22:55:16.158Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for XRPUSDT
🔍 [2025-10-28T22:55:16.158Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for XRPUSDT
⚠️ [2025-10-28T22:55:16.159Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ XRPUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=2

📝 ADICIONANDO XRPUSDT ao array opportunities (total agora: 3)
✅ XRPUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":2}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 SOLUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ SOLUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($194.73) = $0.19
📊 SOLUSDT: Preço $194.7300, Custo mínimo $0.19

🚀 Iniciando análise V2 para SOLUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando SOLUSDT tecnicamente (1h)...
📱 Analisando sentimento de SOLUSDT...
🔍 Analisando Twitter para SOLUSDT...
🔍 Analisando Reddit para SOLUSDT...
⛓️  Analisando on-chain de SOLUSDT...
📊 Analisando derivativos de SOLUSDT...
🌍 Analisando macro de SOLUSDT...
🐋 Analisando smart money de SOLUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ping
⚠️ CoinGecko: Símbolo SOLUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.09460238,"equity":10.20104436},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:17.912"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:18.001"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 655ms
⚠️ CryptoPanic API falhou para SOLUSDT: Request failed with status code 400
🔄 Usando fallback para SOLUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de SOLUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] SOLUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:55:18.074Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for SOLUSDT
🔍 [2025-10-28T22:55:18.075Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for SOLUSDT
🔍 [2025-10-28T22:55:18.075Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for SOLUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: VWAP = $192.6388
✅ SOLUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.09%
✅ SOLUSDT: Dados de volume não disponíveis
⚠️ ActiveMonitoringService: Supabase not available, skipping equity monitoring
⚠️ ActiveMonitoringService: Supabase not available, skipping trades monitoring
⚠️ TradeStatusMonitor: Supabase not available, skipping status check
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
🔍 [2025-10-28T22:55:18.915Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for SOLUSDT
✅ SOLUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ SOLUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
✅ SOLUSDT: ATR baixo (1.51%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.023342 → Notional: $4.55
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ SOLUSDT: Valor da ordem ($3.89) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.030000 → Notional: $5.84
   💰 Margem ajustada: $1.17
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.17 (12.9% do saldo)
   Nocional (5x): $5.84
   Quantidade ajustada: 0.030000 SOL
   Valor da ordem: $5.84
🔍 Verificando margem: disponível=$9.09, necessária=$1.17, posições abertas=2
💰 Trade aprovado: Margem $1.17 @ 5x
   Notional: $5.84
   Risco: LOW
📊 SELL: SL=$197.6611 (+1.5%), TP=$188.7810 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:55:19.783Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for SOLUSDT
🔍 [2025-10-28T22:55:19.783Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for SOLUSDT
🔍 [2025-10-28T22:55:19.784Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for SOLUSDT
⚠️ [2025-10-28T22:55:19.784Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ SOLUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.03

📝 ADICIONANDO SOLUSDT ao array opportunities (total agora: 4)
✅ SOLUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.03}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ETHUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.0001, stepSize: 0.0001
⚠️ ETHUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.0001) × price($3994.27) = $0.40
📊 ETHUSDT: Preço $3994.2700, Custo mínimo $0.40

🚀 Iniciando análise V2 para ETHUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ETHUSDT tecnicamente (1h)...
📱 Analisando sentimento de ETHUSDT...
🔍 Analisando Twitter para ETHUSDT...
🔍 Analisando Reddit para ETHUSDT...
⛓️  Analisando on-chain de ETHUSDT...
📊 Analisando derivativos de ETHUSDT...
🌍 Analisando macro de ETHUSDT...
🐋 Analisando smart money de ETHUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo ETHUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ETHUSDT: Request failed with status code 400
🔄 Usando fallback para ETHUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ETHUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ETHUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:55:21.786Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ETHUSDT
🔍 [2025-10-28T22:55:21.787Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ETHUSDT
🔍 [2025-10-28T22:55:21.787Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ETHUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: VWAP = $3974.4249
⏸️ ETHUSDT: REJEITADO - Apenas 1 confirmações (necessário 2+)
   Detalhes: Confiança: 50%
⚠️ [2025-10-28T22:55:22.336Z] WARN [ANALYSIS_CAPTURE] ⚠️ Analysis warning recorded: Apenas 1 confirmações (necessário 2+)
⚠️ [2025-10-28T22:55:22.337Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save
⏸️ ETHUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/time
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.09462049,"equity":10.20136025},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:22.908"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:22.994"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 654ms
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BTCUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.00001, stepSize: 0.00001
⚠️ BTCUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.00001) × price($113184.21) = $1.13
📊 BTCUSDT: Preço $113184.2100, Custo mínimo $1.13

🚀 Iniciando análise V2 para BTCUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BTCUSDT tecnicamente (1h)...
📱 Analisando sentimento de BTCUSDT...
🔍 Analisando Twitter para BTCUSDT...
🔍 Analisando Reddit para BTCUSDT...
⛓️  Analisando on-chain de BTCUSDT...
📊 Analisando derivativos de BTCUSDT...
🌍 Analisando macro de BTCUSDT...
🐋 Analisando smart money de BTCUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 334ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
 GET /api/trading/metrics 200 in 119ms
⚠️ CoinGecko: Símbolo BTCUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para BTCUSDT: Request failed with status code 400
🔄 Usando fallback para BTCUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BTCUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BTCUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:55:24.260Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BTCUSDT
🔍 [2025-10-28T22:55:24.262Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BTCUSDT
🔍 [2025-10-28T22:55:24.263Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BTCUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: VWAP = $111253.6897
✅ BTCUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.74%
✅ BTCUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
🔍 [2025-10-28T22:55:25.105Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BTCUSDT
✅ BTCUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BTCUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
✅ BTCUSDT: ATR baixo (0.73%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.000040 → Notional: $4.55
⏸️ BTCUSDT: Quantidade muito pequena (0 < minQty 0.001)
⏸️ BTCUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BNBUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ BNBUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($1105.93) = $1.11
📊 BNBUSDT: Preço $1105.9300, Custo mínimo $1.11

🚀 Iniciando análise V2 para BNBUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BNBUSDT tecnicamente (1h)...
📱 Analisando sentimento de BNBUSDT...
🔍 Analisando Twitter para BNBUSDT...
🔍 Analisando Reddit para BNBUSDT...
⛓️  Analisando on-chain de BNBUSDT...
📊 Analisando derivativos de BNBUSDT...
🌍 Analisando macro de BNBUSDT...
🐋 Analisando smart money de BNBUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.09374824,"equity":10.20097297},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:27.446"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:27.539"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 696ms
⚠️ CoinGecko: Símbolo BNBUSDT não mapeado
⚠️ CryptoPanic API falhou para BNBUSDT: Request failed with status code 400
🔄 Usando fallback para BNBUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BNBUSDT nas últimas 6h
📊 Fear & Greed: 50 (Neutral)
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BNBUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:55:28.687Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BNBUSDT
🔍 [2025-10-28T22:55:28.688Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BNBUSDT
🔍 [2025-10-28T22:55:28.688Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BNBUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: VWAP = $1111.6203
✅ BNBUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -0.51%
✅ BNBUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.7586 (14 períodos)
🔍 [2025-10-28T22:55:29.537Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BNBUSDT
✅ BNBUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BNBUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.7586 (14 períodos)
✅ BNBUSDT: ATR baixo (1.24%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.004110 → Notional: $4.55
⏸️ BNBUSDT: Quantidade muito pequena (0 < minQty 0.01)
⏸️ BNBUSDT: REJEITADO - Sem decision retornada

🏁 LOOP TERMINOU! Total de 8 símbolos analisados, 4 oportunidades adicionadas ao array

💰 CAPITAL BAIXO: Priorizando moedas mais BARATAS para maximizar quantidade de trades

📊 Top oportunidades encontradas (4 total):
   1. ADAUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.06
   2. DOGEUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   3. SOLUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   4. XRPUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.26

✅ 4 oportunidades encontradas e prontas para execução!
📋 Detalhes das oportunidades:
   1. ADAUSDT: action=SELL, size=8, conf=50%
   2. DOGEUSDT: action=SELL, size=26, conf=50%
   3. SOLUSDT: action=SELL, size=0.03, conf=50%
   4. XRPUSDT: action=SELL, size=2, conf=50%

🔚 RETORNANDO 4 oportunidades de getOptimalSymbols()

🔍 DEBUG - Chamou getOptimalSymbols(), recebeu 4 oportunidades
📊 Máximo de trades permitido: 2 (atualmente: 2)
💰 Capital disponível: $9.09
🎯 Analisando 4 oportunidades encontradas

📋 Oportunidades encontradas:
   1. ADAUSDT: Score -1.14, Conf 50%, Custo $0.06
   2. DOGEUSDT: Score -1.14, Conf 50%, Custo $0.19
   3. SOLUSDT: Score -1.14, Conf 50%, Custo $0.19
   4. XRPUSDT: Score -1.14, Conf 50%, Custo $0.26

🎯 Oportunidades recebidas para execução: 4
🎯 Symbols array: [ 'ADAUSDT', 'DOGEUSDT', 'SOLUSDT', 'XRPUSDT' ]
✅ Limite de trades alcançado
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price

🔄 Sincronizando 6 trades "open" com Binance...
⚠️ Trade ENAUSDT fechada na Binance, atualizando banco...
✅ Trade ENAUSDT_1761684024795_zmams atualizada para "closed"
⚠️ Trade XRPUSDT fechada na Binance, atualizando banco...
✅ Trade XRPUSDT_1761684028815_49gh9b atualizada para "closed"
⚠️ Trade XRPUSDT fechada na Binance, atualizando banco...
✅ Trade XRPUSDT_1761683267676_uizdtv atualizada para "closed"
✅ Sincronização concluída
⏳ Aguardando 5s para próxima análise...
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.09245534,"equity":10.20102285},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:32.928"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:33.004"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 656ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 291ms
 GET /api/trading/metrics 200 in 78ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price

🔄 Iteração #6 - Loop de trading ativo
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692136578&signature=ee73c115e188a63c995fed3e374116c14b345c2add4b0628dd938e9e76b86575
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:36.349"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:36.350"}
[INFO] trading_engine: Account balance loaded
🔍 DEBUG - Response completa de getFuturesAccountInfo:
  account.availableBalance: 9.08904746
  account.totalWalletBalance: 10.20063300
  account.totalMarginBalance: 10.19535260
💰 Saldo disponível: $9.09
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692136954&signature=97dde3f4696d2cedc148718d657471624f3c0bfa0034ec9cf9e297a5824c94e7
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price

🔍 MONITORAMENTO: Verificando 2 trades abertos...
 GET /api/binance/balance 404 in 28ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692137989&signature=fb9c512d6078fb0a51d0ddd452b3a6ce086bb257b47be0efdd61e66661b26ba7
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:37.735"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:37.738"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.561","patternsDetected":2,"symbol":"BTCUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:37.876"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.751","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.700"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:37.883"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.849","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:37.885"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.883","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:37.885"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.758","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"0.700"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:37.886"}
[INFO] trading_engine: Symbol analysis completed
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.08879354,"equity":10.2010108},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:37.936"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
📊 DOGEUSDT: Entry=0, Current=0.1941
   💰 P&L REAL (Binance): $-0.0029 (-4.25%)
   📋 Debug: isolatedMargin=0, estimatedMargin=0.06724986666666666
   ✅ DOGEUSDT dentro do limite. P&L: -4.25%
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:38.094"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 756ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692138559&signature=d6436345d84cc6a9768117fb5df40231c01abb9242b06285ce30836316dcd187
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:38.314"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:38.316"}
[INFO] trading_engine: Account balance loaded
📊 ADAUSDT: Entry=0, Current=0.6485
   💰 P&L REAL (Binance): $-0.0048 (-0.46%)
   📋 Debug: isolatedMargin=0, estimatedMargin=1.03696
   ✅ ADAUSDT dentro do limite. P&L: -0.46%

📊 Status: 2/2 trades abertos

🔍 Analisando oportunidades em 8 símbolos...
💰 Capital disponível: $9.09
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 DOGEUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 1, stepSize: 1
⚠️ DOGEUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(1) × price($0.19409) = $0.19
📊 DOGEUSDT: Preço $0.1941, Custo mínimo $0.19

🚀 Iniciando análise V2 para DOGEUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando DOGEUSDT tecnicamente (1h)...
📱 Analisando sentimento de DOGEUSDT...
🔍 Analisando Twitter para DOGEUSDT...
🔍 Analisando Reddit para DOGEUSDT...
⛓️  Analisando on-chain de DOGEUSDT...
📊 Analisando derivativos de DOGEUSDT...
🌍 Analisando macro de DOGEUSDT...
🐋 Analisando smart money de DOGEUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
⚠️ CoinGecko: Símbolo DOGEUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
[DEBUG] websocket: Pong recebido
⚠️ CryptoPanic API falhou para DOGEUSDT: Request failed with status code 400
🔄 Usando fallback para DOGEUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de DOGEUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] DOGEUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:55:41.738Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for DOGEUSDT
🔍 [2025-10-28T22:55:41.739Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for DOGEUSDT
🔍 [2025-10-28T22:55:41.739Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for DOGEUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: VWAP = $0.1976
✅ DOGEUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.78%
✅ DOGEUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
🔍 [2025-10-28T22:55:42.583Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for DOGEUSDT
✅ DOGEUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ DOGEUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.08825885,"equity":10.20040678},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:42.917"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:42.982"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 634ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
✅ DOGEUSDT: ATR baixo (1.40%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 23.414518 → Notional: $4.54
⚠️ DOGEUSDT: Valor da ordem ($4.46) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 26.000000 → Notional: $5.05
   💰 Margem ajustada: $1.01
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.01 (11.1% do saldo)
   Nocional (5x): $5.05
   Quantidade ajustada: 26.000000 DOGE
   Valor da ordem: $5.05
🔍 Verificando margem: disponível=$9.09, necessária=$1.01, posições abertas=2
💰 Trade aprovado: Margem $1.01 @ 5x
   Notional: $5.05
   Risco: LOW
📊 SELL: SL=$0.1970 (+1.5%), TP=$0.1882 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:55:43.486Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for DOGEUSDT
🔍 [2025-10-28T22:55:43.487Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for DOGEUSDT
🔍 [2025-10-28T22:55:43.488Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for DOGEUSDT
⚠️ [2025-10-28T22:55:43.489Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ DOGEUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=26

📝 ADICIONANDO DOGEUSDT ao array opportunities (total agora: 1)
✅ DOGEUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":26}
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 310ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
 GET /api/trading/metrics 200 in 140ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ENAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ ENAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($0.4629) = $0.00
📊 ENAUSDT: Preço $0.4629, Custo mínimo $0.00

🚀 Iniciando análise V2 para ENAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ENAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ENAUSDT...
🔍 Analisando Twitter para ENAUSDT...
🔍 Analisando Reddit para ENAUSDT...
⛓️  Analisando on-chain de ENAUSDT...
📊 Analisando derivativos de ENAUSDT...
🌍 Analisando macro de ENAUSDT...
🐋 Analisando smart money de ENAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo ENAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ENAUSDT: Request failed with status code 400
🔄 Usando fallback para ENAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ENAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 7.08 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 5 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 80%
🔍 [DEBUG CONFIANÇA] Base técnico: 68%
🔍 [DEBUG CONFIANÇA] Sem penalidade (44% ativos é aceitável) = 68%
🔍 [DEBUG CONFIANÇA] Convergência: +3 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (3 vs 1) = 68%
🔍 [DEBUG CONFIANÇA] FINAL: 68%
✅ Score ponderado: 2.97 (Confiança: 68%)
📋 Sinal: STRONG_BUY weak
🧠 [V2] ENAUSDT: Score ponderado 2.97 (68% confiança)
📊 Sinal técnico V2: BUY (68%)
   Técnico: BUY (49.6 RSI, STRONG_DOWN, Tendência de baixa, Padrão: hammer, Volume acima da média). Score ponderado: 2.97. Confiança: 68%.
🔍 [2025-10-28T22:55:45.926Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ENAUSDT
🔍 [2025-10-28T22:55:45.926Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ENAUSDT
🔍 [2025-10-28T22:55:45.927Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ENAUSDT
⏸️ ENAUSDT: REJEITADO - STRONG_BUY contra tendência STRONG_DOWN
⏸️ ENAUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ADAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ ADAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($0.6485) = $0.06
📊 ADAUSDT: Preço $0.6485, Custo mínimo $0.06

🚀 Iniciando análise V2 para ADAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ADAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ADAUSDT...
🔍 Analisando Twitter para ADAUSDT...
🔍 Analisando Reddit para ADAUSDT...
⛓️  Analisando on-chain de ADAUSDT...
📊 Analisando derivativos de ADAUSDT...
🌍 Analisando macro de ADAUSDT...
🐋 Analisando smart money de ADAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ping
⚠️ CoinGecko: Símbolo ADAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CryptoPanic API falhou para ADAUSDT: Request failed with status code 400
🔄 Usando fallback para ADAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ADAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ADAUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:55:47.870Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ADAUSDT
🔍 [2025-10-28T22:55:47.872Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ADAUSDT
🔍 [2025-10-28T22:55:47.873Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ADAUSDT
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.08833714,"equity":10.20068778},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:47.910"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:47.984"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 646ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: VWAP = $0.6545
✅ ADAUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -0.92%
✅ ADAUSDT: Dados de volume não disponíveis
⚠️ ActiveMonitoringService: Supabase not available, skipping equity monitoring
⚠️ ActiveMonitoringService: Supabase not available, skipping trades monitoring
⚠️ TradeStatusMonitor: Supabase not available, skipping status check
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
🔍 [2025-10-28T22:55:48.698Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ADAUSDT
✅ ADAUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ADAUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
✅ ADAUSDT: ATR baixo (1.38%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 7.007747 → Notional: $4.54
⚠️ ADAUSDT: Valor da ordem ($4.54) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 8.000000 → Notional: $5.19
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.04 (11.4% do saldo)
   Nocional (5x): $5.19
   Quantidade ajustada: 8.000000 ADA
   Valor da ordem: $5.19
🔍 Verificando margem: disponível=$9.09, necessária=$1.04, posições abertas=2
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.19
   Risco: LOW
📊 SELL: SL=$0.6582 (+1.5%), TP=$0.6287 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:55:49.554Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ADAUSDT
🔍 [2025-10-28T22:55:49.555Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ADAUSDT
🔍 [2025-10-28T22:55:49.555Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ADAUSDT
⚠️ [2025-10-28T22:55:49.556Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ADAUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=8

📝 ADICIONANDO ADAUSDT ao array opportunities (total agora: 2)
✅ ADAUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":8}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 XRPUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ XRPUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($2.613) = $0.26
📊 XRPUSDT: Preço $2.6130, Custo mínimo $0.26

🚀 Iniciando análise V2 para XRPUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando XRPUSDT tecnicamente (1h)...
📱 Analisando sentimento de XRPUSDT...
🔍 Analisando Twitter para XRPUSDT...
🔍 Analisando Reddit para XRPUSDT...
⛓️  Analisando on-chain de XRPUSDT...
📊 Analisando derivativos de XRPUSDT...
🌍 Analisando macro de XRPUSDT...
🐋 Analisando smart money de XRPUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo XRPUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para XRPUSDT: Request failed with status code 400
🔄 Usando fallback para XRPUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de XRPUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] XRPUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:55:52.216Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for XRPUSDT
🔍 [2025-10-28T22:55:52.217Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for XRPUSDT
🔍 [2025-10-28T22:55:52.217Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for XRPUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: VWAP = $2.5197
✅ XRPUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 3.70%
✅ XRPUSDT: Dados de volume não disponíveis
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.08847563,"equity":10.20094972},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:52.939"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:53.017"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 656ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0322 (14 períodos)
🔍 [2025-10-28T22:55:53.044Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for XRPUSDT
✅ XRPUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ XRPUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0322 (14 períodos)
✅ XRPUSDT: ATR baixo (1.23%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 1.739198 → Notional: $4.54
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 325ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
 GET /api/trading/metrics 200 in 98ms
⚠️ XRPUSDT: Valor da ordem ($4.44) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 2.000000 → Notional: $5.23
   💰 Margem ajustada: $1.05
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.05 (11.5% do saldo)
   Nocional (5x): $5.23
   Quantidade ajustada: 2.000000 XRP
   Valor da ordem: $5.23
🔍 Verificando margem: disponível=$9.09, necessária=$1.05, posições abertas=2
💰 Trade aprovado: Margem $1.05 @ 5x
   Notional: $5.23
   Risco: LOW
📊 SELL: SL=$2.6522 (+1.5%), TP=$2.5330 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:55:53.894Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for XRPUSDT
🔍 [2025-10-28T22:55:53.894Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for XRPUSDT
🔍 [2025-10-28T22:55:53.895Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for XRPUSDT
⚠️ [2025-10-28T22:55:53.895Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ XRPUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=2

📝 ADICIONANDO XRPUSDT ao array opportunities (total agora: 3)
✅ XRPUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":2}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 SOLUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ SOLUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($194.74) = $0.19
📊 SOLUSDT: Preço $194.7400, Custo mínimo $0.19

🚀 Iniciando análise V2 para SOLUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando SOLUSDT tecnicamente (1h)...
📱 Analisando sentimento de SOLUSDT...
🔍 Analisando Twitter para SOLUSDT...
🔍 Analisando Reddit para SOLUSDT...
⛓️  Analisando on-chain de SOLUSDT...
📊 Analisando derivativos de SOLUSDT...
🌍 Analisando macro de SOLUSDT...
🐋 Analisando smart money de SOLUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo SOLUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para SOLUSDT: Request failed with status code 400
🔄 Usando fallback para SOLUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de SOLUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] SOLUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:55:55.778Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for SOLUSDT
🔍 [2025-10-28T22:55:55.780Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for SOLUSDT
🔍 [2025-10-28T22:55:55.782Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for SOLUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: VWAP = $192.6388
✅ SOLUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.09%
✅ SOLUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
🔍 [2025-10-28T22:55:56.623Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for SOLUSDT
✅ SOLUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ SOLUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
✅ SOLUSDT: ATR baixo (1.51%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.023336 → Notional: $4.54
⚠️ SOLUSDT: Valor da ordem ($3.89) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.030000 → Notional: $5.84
   💰 Margem ajustada: $1.17
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.17 (12.9% do saldo)
   Nocional (5x): $5.84
   Quantidade ajustada: 0.030000 SOL
   Valor da ordem: $5.84
🔍 Verificando margem: disponível=$9.09, necessária=$1.17, posições abertas=2
💰 Trade aprovado: Margem $1.17 @ 5x
   Notional: $5.84
   Risco: LOW
📊 SELL: SL=$197.6611 (+1.5%), TP=$188.7810 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:55:57.489Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for SOLUSDT
🔍 [2025-10-28T22:55:57.489Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for SOLUSDT
🔍 [2025-10-28T22:55:57.490Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for SOLUSDT
⚠️ [2025-10-28T22:55:57.490Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ SOLUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.03

📝 ADICIONANDO SOLUSDT ao array opportunities (total agora: 4)
✅ SOLUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.03}
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.08851353,"equity":10.20099225},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:57.911"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:55:57.973"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 634ms
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ETHUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.0001, stepSize: 0.0001
⚠️ ETHUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.0001) × price($3996.11) = $0.40
📊 ETHUSDT: Preço $3996.1100, Custo mínimo $0.40

🚀 Iniciando análise V2 para ETHUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ETHUSDT tecnicamente (1h)...
📱 Analisando sentimento de ETHUSDT...
🔍 Analisando Twitter para ETHUSDT...
🔍 Analisando Reddit para ETHUSDT...
⛓️  Analisando on-chain de ETHUSDT...
📊 Analisando derivativos de ETHUSDT...
🌍 Analisando macro de ETHUSDT...
🐋 Analisando smart money de ETHUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo ETHUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ETHUSDT: Request failed with status code 400
🔄 Usando fallback para ETHUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ETHUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ETHUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:55:59.501Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ETHUSDT
🔍 [2025-10-28T22:55:59.503Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ETHUSDT
🔍 [2025-10-28T22:55:59.512Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ETHUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: VWAP = $3974.4276
✅ ETHUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 0.55%
✅ ETHUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $48.0557 (14 períodos)
🔍 [2025-10-28T22:56:00.349Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ETHUSDT
✅ ETHUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ETHUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $48.0557 (14 períodos)
✅ ETHUSDT: ATR baixo (1.20%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.001137 → Notional: $4.54
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ ETHUSDT: Valor da ordem ($4.00) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.002000 → Notional: $7.99
   💰 Margem ajustada: $1.60
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.60 (17.6% do saldo)
   Nocional (5x): $7.99
   Quantidade ajustada: 0.002000 ETH
   Valor da ordem: $7.99
🔍 Verificando margem: disponível=$9.09, necessária=$1.60, posições abertas=2
💰 Trade aprovado: Margem $1.60 @ 5x
   Notional: $7.99
   Risco: LOW
📊 SELL: SL=$4056.0618 (+1.5%), TP=$3873.8387 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:56:01.213Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ETHUSDT
🔍 [2025-10-28T22:56:01.214Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ETHUSDT
🔍 [2025-10-28T22:56:01.214Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ETHUSDT
⚠️ [2025-10-28T22:56:01.215Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ETHUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.002

📝 ADICIONANDO ETHUSDT ao array opportunities (total agora: 5)
✅ ETHUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.002}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BTCUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.00001, stepSize: 0.00001
⚠️ BTCUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.00001) × price($113220.87) = $1.13
📊 BTCUSDT: Preço $113220.8700, Custo mínimo $1.13

🚀 Iniciando análise V2 para BTCUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BTCUSDT tecnicamente (1h)...
📱 Analisando sentimento de BTCUSDT...
🔍 Analisando Twitter para BTCUSDT...
🔍 Analisando Reddit para BTCUSDT...
⛓️  Analisando on-chain de BTCUSDT...
📊 Analisando derivativos de BTCUSDT...
🌍 Analisando macro de BTCUSDT...
🐋 Analisando smart money de BTCUSDT...
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.08863349,"equity":10.200587},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:02.913"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:03.005"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 662ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CoinGecko: Símbolo BTCUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 303ms
 GET /api/trading/metrics 200 in 135ms
⚠️ CryptoPanic API falhou para BTCUSDT: Request failed with status code 400
🔄 Usando fallback para BTCUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BTCUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BTCUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:56:03.860Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BTCUSDT
🔍 [2025-10-28T22:56:03.860Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BTCUSDT
🔍 [2025-10-28T22:56:03.861Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BTCUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: VWAP = $111253.7453
✅ BTCUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.77%
✅ BTCUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
🔍 [2025-10-28T22:56:04.687Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BTCUSDT
✅ BTCUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BTCUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
✅ BTCUSDT: ATR baixo (0.73%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.000040 → Notional: $4.54
⏸️ BTCUSDT: Quantidade muito pequena (0 < minQty 0.001)
⏸️ BTCUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692166586&signature=6efaf357e7121bc25bf2fe5c9b3231660296f9b5a9db12d0e7ec693c19c3b416
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:06.338"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:06.339"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"4ms","overallScore":"0.709","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"0.700"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:06.662"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.714","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.700"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:06.664"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.630","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:06.665"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.878","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:06.666"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.837","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:06.666"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BNBUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ BNBUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($1105.98) = $1.11
📊 BNBUSDT: Preço $1105.9800, Custo mínimo $1.11

🚀 Iniciando análise V2 para BNBUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BNBUSDT tecnicamente (1h)...
📱 Analisando sentimento de BNBUSDT...
🔍 Analisando Twitter para BNBUSDT...
🔍 Analisando Reddit para BNBUSDT...
⛓️  Analisando on-chain de BNBUSDT...
📊 Analisando derivativos de BNBUSDT...
🌍 Analisando macro de BNBUSDT...
🐋 Analisando smart money de BNBUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
 GET /api/binance/balance 404 in 27ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692167999&signature=ae3389f6e70a8a3cea17e8f6a89eb3c2f9da01d705a655e5d762c8c3c9c83ca8
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:07.767"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:07.769"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/time
⚠️ CoinGecko: Símbolo BNBUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.09007388,"equity":10.20096796},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:07.929"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:08.054"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 705ms
⚠️ CryptoPanic API falhou para BNBUSDT: Request failed with status code 400
🔄 Usando fallback para BNBUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BNBUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BNBUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:56:08.144Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BNBUSDT
🔍 [2025-10-28T22:56:08.145Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BNBUSDT
🔍 [2025-10-28T22:56:08.145Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BNBUSDT
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692168569&signature=2ac64754165f1b986f0c4c8fb2c0a1a8a378bb8f6e2287a6da80bb4a3aa58399
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:08.312"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:08.313"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.846","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:08.531"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.329","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:08.533"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.713","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"0.700"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:08.533"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.833","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:08.534"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.861","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:08.535"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: VWAP = $1111.6199
✅ BNBUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -0.53%
✅ BNBUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.7586 (14 períodos)
🔍 [2025-10-28T22:56:08.979Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BNBUSDT
✅ BNBUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BNBUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.7586 (14 períodos)
✅ BNBUSDT: ATR baixo (1.24%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.004110 → Notional: $4.54
⏸️ BNBUSDT: Quantidade muito pequena (0 < minQty 0.01)
⏸️ BNBUSDT: REJEITADO - Sem decision retornada

🏁 LOOP TERMINOU! Total de 8 símbolos analisados, 5 oportunidades adicionadas ao array

💰 CAPITAL BAIXO: Priorizando moedas mais BARATAS para maximizar quantidade de trades

📊 Top oportunidades encontradas (5 total):
   1. ADAUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.06
   2. DOGEUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   3. SOLUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   4. XRPUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.26
   5. ETHUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.40

✅ 5 oportunidades encontradas e prontas para execução!
📋 Detalhes das oportunidades:
   1. ADAUSDT: action=SELL, size=8, conf=50%
   2. DOGEUSDT: action=SELL, size=26, conf=50%
   3. SOLUSDT: action=SELL, size=0.03, conf=50%
   4. XRPUSDT: action=SELL, size=2, conf=50%
   5. ETHUSDT: action=SELL, size=0.002, conf=50%

🔚 RETORNANDO 5 oportunidades de getOptimalSymbols()

🔍 DEBUG - Chamou getOptimalSymbols(), recebeu 5 oportunidades
📊 Máximo de trades permitido: 2 (atualmente: 2)
💰 Capital disponível: $9.09
🎯 Analisando 5 oportunidades encontradas

📋 Oportunidades encontradas:
   1. ADAUSDT: Score -1.14, Conf 50%, Custo $0.06
   2. DOGEUSDT: Score -1.14, Conf 50%, Custo $0.19
   3. SOLUSDT: Score -1.14, Conf 50%, Custo $0.19
   4. XRPUSDT: Score -1.14, Conf 50%, Custo $0.26
   5. ETHUSDT: Score -1.14, Conf 50%, Custo $0.40

🎯 Oportunidades recebidas para execução: 5
🎯 Symbols array: [ 'ADAUSDT', 'DOGEUSDT', 'SOLUSDT', 'XRPUSDT', 'ETHUSDT' ]
✅ Limite de trades alcançado
⏳ Aguardando 5s para próxima análise...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.09119735,"equity":10.20080446},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:12.925"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:12.989"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 643ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 293ms
 GET /api/trading/metrics 200 in 156ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price

🔄 Iteração #7 - Loop de trading ativo
🔍 DEBUG - Response completa de getFuturesAccountInfo:
  account.availableBalance: 9.09060583
  account.totalWalletBalance: 10.20083322
  account.totalMarginBalance: 10.19526505
💰 Saldo disponível: $9.09
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692175670&signature=368172fe4c9d6534d5b69f944e13ed79bcdb8ec5359eab0329b7273937d307dd

🔍 MONITORAMENTO: Verificando 2 trades abertos...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 DOGEUSDT: Entry=0, Current=0.19411
   💰 P&L REAL (Binance): $-0.0031 (-4.64%)
   📋 Debug: isolatedMargin=0, estimatedMargin=0.06725333333333333
   ✅ DOGEUSDT dentro do limite. P&L: -4.64%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 ADAUSDT: Entry=0, Current=0.6483
   💰 P&L REAL (Binance): $-0.0040 (-0.39%)
   📋 Debug: isolatedMargin=0, estimatedMargin=1.0368
   ✅ ADAUSDT dentro do limite. P&L: -0.39%

📊 Status: 2/2 trades abertos

🔍 Analisando oportunidades em 8 símbolos...
💰 Capital disponível: $9.09
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 DOGEUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 1, stepSize: 1
⚠️ DOGEUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(1) × price($0.19411) = $0.19
📊 DOGEUSDT: Preço $0.1941, Custo mínimo $0.19

🚀 Iniciando análise V2 para DOGEUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando DOGEUSDT tecnicamente (1h)...
📱 Analisando sentimento de DOGEUSDT...
🔍 Analisando Twitter para DOGEUSDT...
🔍 Analisando Reddit para DOGEUSDT...
⛓️  Analisando on-chain de DOGEUSDT...
📊 Analisando derivativos de DOGEUSDT...
🌍 Analisando macro de DOGEUSDT...
🐋 Analisando smart money de DOGEUSDT...
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.08925654,"equity":10.20074683},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:18.420"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:18.495"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 1148ms
⚠️ ActiveMonitoringService: Supabase not available, skipping equity monitoring
⚠️ ActiveMonitoringService: Supabase not available, skipping trades monitoring
⚠️ TradeStatusMonitor: Supabase not available, skipping status check
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo DOGEUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para DOGEUSDT: Request failed with status code 400
🔄 Usando fallback para DOGEUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de DOGEUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] DOGEUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:56:19.902Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for DOGEUSDT
🔍 [2025-10-28T22:56:19.902Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for DOGEUSDT
🔍 [2025-10-28T22:56:19.903Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for DOGEUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: VWAP = $0.1976
✅ DOGEUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.77%
✅ DOGEUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
🔍 [2025-10-28T22:56:21.242Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for DOGEUSDT
✅ DOGEUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ DOGEUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
✅ DOGEUSDT: ATR baixo (1.40%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 23.416119 → Notional: $4.55
⚠️ DOGEUSDT: Valor da ordem ($4.46) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 26.000000 → Notional: $5.05
   💰 Margem ajustada: $1.01
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.01 (11.1% do saldo)
   Nocional (5x): $5.05
   Quantidade ajustada: 26.000000 DOGE
   Valor da ordem: $5.05
🔍 Verificando margem: disponível=$9.09, necessária=$1.01, posições abertas=2
💰 Trade aprovado: Margem $1.01 @ 5x
   Notional: $5.05
   Risco: LOW
📊 SELL: SL=$0.1970 (+1.5%), TP=$0.1882 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:56:22.100Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for DOGEUSDT
🔍 [2025-10-28T22:56:22.100Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for DOGEUSDT
🔍 [2025-10-28T22:56:22.101Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for DOGEUSDT
⚠️ [2025-10-28T22:56:22.101Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ DOGEUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=26

📝 ADICIONANDO DOGEUSDT ao array opportunities (total agora: 1)
✅ DOGEUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":26}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.09083813,"equity":10.20112128},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:22.945"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:23.017"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 661ms
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 298ms
 GET /api/trading/metrics 200 in 82ms
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ENAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ ENAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($0.462) = $0.00
📊 ENAUSDT: Preço $0.4620, Custo mínimo $0.00

🚀 Iniciando análise V2 para ENAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ENAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ENAUSDT...
🔍 Analisando Twitter para ENAUSDT...
🔍 Analisando Reddit para ENAUSDT...
⛓️  Analisando on-chain de ENAUSDT...
📊 Analisando derivativos de ENAUSDT...
🌍 Analisando macro de ENAUSDT...
🐋 Analisando smart money de ENAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo ENAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ENAUSDT: Request failed with status code 400
🔄 Usando fallback para ENAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ENAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 7.08 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 5 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 80%
🔍 [DEBUG CONFIANÇA] Base técnico: 68%
🔍 [DEBUG CONFIANÇA] Sem penalidade (44% ativos é aceitável) = 68%
🔍 [DEBUG CONFIANÇA] Convergência: +3 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (3 vs 1) = 68%
🔍 [DEBUG CONFIANÇA] FINAL: 68%
✅ Score ponderado: 2.97 (Confiança: 68%)
📋 Sinal: STRONG_BUY weak
🧠 [V2] ENAUSDT: Score ponderado 2.97 (68% confiança)
📊 Sinal técnico V2: BUY (68%)
   Técnico: BUY (49.5 RSI, STRONG_DOWN, Tendência de baixa, Padrão: hammer, Volume acima da média). Score ponderado: 2.97. Confiança: 68%.
🔍 [2025-10-28T22:56:25.091Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ENAUSDT
🔍 [2025-10-28T22:56:25.092Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ENAUSDT
🔍 [2025-10-28T22:56:25.093Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ENAUSDT
⏸️ ENAUSDT: REJEITADO - STRONG_BUY contra tendência STRONG_DOWN
⏸️ ENAUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ADAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ ADAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($0.6485) = $0.06
📊 ADAUSDT: Preço $0.6485, Custo mínimo $0.06

🚀 Iniciando análise V2 para ADAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ADAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ADAUSDT...
🔍 Analisando Twitter para ADAUSDT...
🔍 Analisando Reddit para ADAUSDT...
⛓️  Analisando on-chain de ADAUSDT...
📊 Analisando derivativos de ADAUSDT...
🌍 Analisando macro de ADAUSDT...
🐋 Analisando smart money de ADAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo ADAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CryptoPanic API falhou para ADAUSDT: Request failed with status code 400
🔄 Usando fallback para ADAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ADAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ADAUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:56:26.951Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ADAUSDT
🔍 [2025-10-28T22:56:26.952Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ADAUSDT
🔍 [2025-10-28T22:56:26.952Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ADAUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: VWAP = $0.6545
✅ ADAUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -0.92%
✅ ADAUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
🔍 [2025-10-28T22:56:28.290Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ADAUSDT
✅ ADAUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ADAUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
✅ ADAUSDT: ATR baixo (1.39%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 7.008948 → Notional: $4.55
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ ADAUSDT: Valor da ordem ($4.54) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 8.000000 → Notional: $5.19
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.04 (11.4% do saldo)
   Nocional (5x): $5.19
   Quantidade ajustada: 8.000000 ADA
   Valor da ordem: $5.19
🔍 Verificando margem: disponível=$9.09, necessária=$1.04, posições abertas=2
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.19
   Risco: LOW
📊 SELL: SL=$0.6582 (+1.5%), TP=$0.6287 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:56:30.245Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ADAUSDT
🔍 [2025-10-28T22:56:30.245Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ADAUSDT
🔍 [2025-10-28T22:56:30.246Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ADAUSDT
⚠️ [2025-10-28T22:56:30.246Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ADAUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=8

📝 ADICIONANDO ADAUSDT ao array opportunities (total agora: 2)
✅ ADAUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":8}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 XRPUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ XRPUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($2.6137) = $0.26
📊 XRPUSDT: Preço $2.6137, Custo mínimo $0.26

🚀 Iniciando análise V2 para XRPUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando XRPUSDT tecnicamente (1h)...
📱 Analisando sentimento de XRPUSDT...
🔍 Analisando Twitter para XRPUSDT...
🔍 Analisando Reddit para XRPUSDT...
⛓️  Analisando on-chain de XRPUSDT...
📊 Analisando derivativos de XRPUSDT...
🌍 Analisando macro de XRPUSDT...
🐋 Analisando smart money de XRPUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo XRPUSDT não mapeado
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CryptoPanic API falhou para XRPUSDT: Request failed with status code 400
🔄 Usando fallback para XRPUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de XRPUSDT nas últimas 6h
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 Fear & Greed: 50 (Neutral)
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] XRPUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:56:34.304Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for XRPUSDT
🔍 [2025-10-28T22:56:34.304Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for XRPUSDT
🔍 [2025-10-28T22:56:34.305Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for XRPUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: VWAP = $2.5197
✅ XRPUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 3.71%
✅ XRPUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0322 (14 períodos)
🔍 [2025-10-28T22:56:35.133Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for XRPUSDT
✅ XRPUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ XRPUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0322 (14 períodos)
✅ XRPUSDT: ATR baixo (1.23%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 1.739363 → Notional: $4.55
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692196593&signature=06bbacab8d2ef0ce3e322c76da24ed2cc29c8bb3b7271ea56894ace09da7d947
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:36.342"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:36.343"}
[INFO] trading_engine: Account balance loaded
⚠️ XRPUSDT: Valor da ordem ($4.44) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 2.000000 → Notional: $5.23
   💰 Margem ajustada: $1.05
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.05 (11.5% do saldo)
   Nocional (5x): $5.23
   Quantidade ajustada: 2.000000 XRP
   Valor da ordem: $5.23
🔍 Verificando margem: disponível=$9.09, necessária=$1.05, posições abertas=2
💰 Trade aprovado: Margem $1.05 @ 5x
   Notional: $5.23
   Risco: LOW
📊 SELL: SL=$2.6524 (+1.5%), TP=$2.5332 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:56:36.767Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for XRPUSDT
🔍 [2025-10-28T22:56:36.767Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for XRPUSDT
🔍 [2025-10-28T22:56:36.768Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for XRPUSDT
⚠️ [2025-10-28T22:56:36.768Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ XRPUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=2

📝 ADICIONANDO XRPUSDT ao array opportunities (total agora: 3)
✅ XRPUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":2}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692198026&signature=4e5c0f04a42ad2ef454064ca488efdca41064d86f394a8ba20fc39fe82f33879
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:37.751"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:37.752"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.816","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:37.884"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.284","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:37.886"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.373","patternsDetected":2,"symbol":"BNBUSDT","technicalScore":"0.600"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:37.887"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.330","patternsDetected":2,"symbol":"ADAUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:37.888"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.792","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"0.800"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:37.888"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692198571&signature=77c73960bcd909a4f2c14fda448864bc0eb8c9a7c4f9d11024c150110d580429
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:38.314"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:56:38.315"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 SOLUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ SOLUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($194.82) = $0.19
📊 SOLUSDT: Preço $194.8200, Custo mínimo $0.19

🚀 Iniciando análise V2 para SOLUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando SOLUSDT tecnicamente (1h)...
📱 Analisando sentimento de SOLUSDT...
🔍 Analisando Twitter para SOLUSDT...
🔍 Analisando Reddit para SOLUSDT...
⛓️  Analisando on-chain de SOLUSDT...
📊 Analisando derivativos de SOLUSDT...
🌍 Analisando macro de SOLUSDT...
🐋 Analisando smart money de SOLUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] websocket: Pong recebido
⚠️ CoinGecko: Símbolo SOLUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para SOLUSDT: Request failed with status code 400
🔄 Usando fallback para SOLUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de SOLUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] SOLUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:56:40.129Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for SOLUSDT
🔍 [2025-10-28T22:56:40.129Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for SOLUSDT
🔍 [2025-10-28T22:56:40.129Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for SOLUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: VWAP = $192.6391
✅ SOLUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.14%
✅ SOLUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
🔍 [2025-10-28T22:56:40.972Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for SOLUSDT
✅ SOLUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ SOLUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
✅ SOLUSDT: ATR baixo (1.51%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.023330 → Notional: $4.55
⚠️ SOLUSDT: Valor da ordem ($3.90) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.030000 → Notional: $5.84
   💰 Margem ajustada: $1.17
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.17 (12.9% do saldo)
   Nocional (5x): $5.84
   Quantidade ajustada: 0.030000 SOL
   Valor da ordem: $5.84
🔍 Verificando margem: disponível=$9.09, necessária=$1.17, posições abertas=2
💰 Trade aprovado: Margem $1.17 @ 5x
   Notional: $5.84
   Risco: LOW
📊 SELL: SL=$197.7524 (+1.5%), TP=$188.8682 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:56:41.827Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for SOLUSDT
🔍 [2025-10-28T22:56:41.827Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for SOLUSDT
🔍 [2025-10-28T22:56:41.828Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for SOLUSDT
⚠️ [2025-10-28T22:56:41.828Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ SOLUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.03

📝 ADICIONANDO SOLUSDT ao array opportunities (total agora: 4)
✅ SOLUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.03}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ETHUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.0001, stepSize: 0.0001
⚠️ ETHUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.0001) × price($3996.18) = $0.40
📊 ETHUSDT: Preço $3996.1800, Custo mínimo $0.40

🚀 Iniciando análise V2 para ETHUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ETHUSDT tecnicamente (1h)...
📱 Analisando sentimento de ETHUSDT...
🔍 Analisando Twitter para ETHUSDT...
🔍 Analisando Reddit para ETHUSDT...
⛓️  Analisando on-chain de ETHUSDT...
📊 Analisando derivativos de ETHUSDT...
🌍 Analisando macro de ETHUSDT...
🐋 Analisando smart money de ETHUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CoinGecko: Símbolo ETHUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ETHUSDT: Request failed with status code 400
🔄 Usando fallback para ETHUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ETHUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ETHUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:56:44.464Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ETHUSDT
🔍 [2025-10-28T22:56:44.465Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ETHUSDT
🔍 [2025-10-28T22:56:44.465Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ETHUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: VWAP = $3974.4281
✅ ETHUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 0.55%
✅ ETHUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $48.0557 (14 períodos)
🔍 [2025-10-28T22:56:45.294Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ETHUSDT
✅ ETHUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ETHUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $48.0557 (14 períodos)
✅ ETHUSDT: ATR baixo (1.20%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.001137 → Notional: $4.55
⚠️ ETHUSDT: Valor da ordem ($4.00) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.002000 → Notional: $7.99
   💰 Margem ajustada: $1.60
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.60 (17.6% do saldo)
   Nocional (5x): $7.99
   Quantidade ajustada: 0.002000 ETH
   Valor da ordem: $7.99
🔍 Verificando margem: disponível=$9.09, necessária=$1.60, posições abertas=2
💰 Trade aprovado: Margem $1.60 @ 5x
   Notional: $7.99
   Risco: LOW
📊 SELL: SL=$4056.1227 (+1.5%), TP=$3873.8969 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:56:46.167Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ETHUSDT
🔍 [2025-10-28T22:56:46.168Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ETHUSDT
🔍 [2025-10-28T22:56:46.168Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ETHUSDT
⚠️ [2025-10-28T22:56:46.169Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ETHUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.002

📝 ADICIONANDO ETHUSDT ao array opportunities (total agora: 5)
✅ ETHUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.002}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BTCUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.00001, stepSize: 0.00001
⚠️ BTCUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.00001) × price($113235.26) = $1.13
📊 BTCUSDT: Preço $113235.2600, Custo mínimo $1.13

🚀 Iniciando análise V2 para BTCUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BTCUSDT tecnicamente (1h)...
📱 Analisando sentimento de BTCUSDT...
🔍 Analisando Twitter para BTCUSDT...
🔍 Analisando Reddit para BTCUSDT...
⛓️  Analisando on-chain de BTCUSDT...
📊 Analisando derivativos de BTCUSDT...
🌍 Analisando macro de BTCUSDT...
🐋 Analisando smart money de BTCUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CoinGecko: Símbolo BTCUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para BTCUSDT: Request failed with status code 400
🔄 Usando fallback para BTCUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BTCUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BTCUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:56:48.054Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BTCUSDT
🔍 [2025-10-28T22:56:48.055Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BTCUSDT
🔍 [2025-10-28T22:56:48.055Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BTCUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: VWAP = $111253.7842
✅ BTCUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.78%
✅ BTCUSDT: Dados de volume não disponíveis
⚠️ ActiveMonitoringService: Supabase not available, skipping equity monitoring
⚠️ ActiveMonitoringService: Supabase not available, skipping trades monitoring
⚠️ TradeStatusMonitor: Supabase not available, skipping status check
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
🔍 [2025-10-28T22:56:48.883Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BTCUSDT
✅ BTCUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BTCUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
✅ BTCUSDT: ATR baixo (0.73%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.000040 → Notional: $4.55
⏸️ BTCUSDT: Quantidade muito pequena (0 < minQty 0.001)
⏸️ BTCUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BNBUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ BNBUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($1106.19) = $1.11
📊 BNBUSDT: Preço $1106.1900, Custo mínimo $1.11

🚀 Iniciando análise V2 para BNBUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BNBUSDT tecnicamente (1h)...
📱 Analisando sentimento de BNBUSDT...
🔍 Analisando Twitter para BNBUSDT...
🔍 Analisando Reddit para BNBUSDT...
⛓️  Analisando on-chain de BNBUSDT...
📊 Analisando derivativos de BNBUSDT...
🌍 Analisando macro de BNBUSDT...
🐋 Analisando smart money de BNBUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo BNBUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para BNBUSDT: Request failed with status code 400
🔄 Usando fallback para BNBUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BNBUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BNBUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:56:52.394Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BNBUSDT
🔍 [2025-10-28T22:56:52.395Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BNBUSDT
🔍 [2025-10-28T22:56:52.395Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BNBUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: VWAP = $1111.6196
✅ BNBUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -0.53%
✅ BNBUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.7586 (14 períodos)
🔍 [2025-10-28T22:56:53.227Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BNBUSDT
✅ BNBUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BNBUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.7586 (14 períodos)
✅ BNBUSDT: ATR baixo (1.24%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.004111 → Notional: $4.55
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⏸️ BNBUSDT: Quantidade muito pequena (0 < minQty 0.01)
⏸️ BNBUSDT: REJEITADO - Sem decision retornada

🏁 LOOP TERMINOU! Total de 8 símbolos analisados, 5 oportunidades adicionadas ao array

💰 CAPITAL BAIXO: Priorizando moedas mais BARATAS para maximizar quantidade de trades

📊 Top oportunidades encontradas (5 total):
   1. ADAUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.06
   2. DOGEUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   3. SOLUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   4. XRPUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.26
   5. ETHUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.40

✅ 5 oportunidades encontradas e prontas para execução!
📋 Detalhes das oportunidades:
   1. ADAUSDT: action=SELL, size=8, conf=50%
   2. DOGEUSDT: action=SELL, size=26, conf=50%
   3. SOLUSDT: action=SELL, size=0.03, conf=50%
   4. XRPUSDT: action=SELL, size=2, conf=50%
   5. ETHUSDT: action=SELL, size=0.002, conf=50%

🔚 RETORNANDO 5 oportunidades de getOptimalSymbols()

🔍 DEBUG - Chamou getOptimalSymbols(), recebeu 5 oportunidades
📊 Máximo de trades permitido: 2 (atualmente: 2)
💰 Capital disponível: $9.09
🎯 Analisando 5 oportunidades encontradas

📋 Oportunidades encontradas:
   1. ADAUSDT: Score -1.14, Conf 50%, Custo $0.06
   2. DOGEUSDT: Score -1.14, Conf 50%, Custo $0.19
   3. SOLUSDT: Score -1.14, Conf 50%, Custo $0.19
   4. XRPUSDT: Score -1.14, Conf 50%, Custo $0.26
   5. ETHUSDT: Score -1.14, Conf 50%, Custo $0.40

🎯 Oportunidades recebidas para execução: 5
🎯 Symbols array: [ 'ADAUSDT', 'DOGEUSDT', 'SOLUSDT', 'XRPUSDT', 'ETHUSDT' ]
✅ Limite de trades alcançado
⏳ Aguardando 5s para próxima análise...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price

🔄 Iteração #8 - Loop de trading ativo
🔍 DEBUG - Response completa de getFuturesAccountInfo:
  account.availableBalance: 9.09428943
  account.totalWalletBalance: 10.20147520
  account.totalMarginBalance: 10.19824385
💰 Saldo disponível: $9.09
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692219971&signature=425e486708f5f00cadfdf6c8b54c0df5e855b1d5541fd7a174a897fe6e1e403c
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price

🔍 MONITORAMENTO: Verificando 2 trades abertos...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 DOGEUSDT: Entry=0, Current=0.19398
   💰 P&L REAL (Binance): $-0.0009 (-1.33%)
   📋 Debug: isolatedMargin=0, estimatedMargin=0.0672236344
   ✅ DOGEUSDT dentro do limite. P&L: -1.33%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 ADAUSDT: Entry=0, Current=0.6478
   💰 P&L REAL (Binance): $0.0002 (0.02%)
   📋 Debug: isolatedMargin=0, estimatedMargin=1.03596512
   ✅ ADAUSDT dentro do limite. P&L: 0.02%

📊 Status: 2/2 trades abertos

🔍 Analisando oportunidades em 8 símbolos...
💰 Capital disponível: $9.09
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 DOGEUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 1, stepSize: 1
⚠️ DOGEUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(1) × price($0.19398) = $0.19
📊 DOGEUSDT: Preço $0.1940, Custo mínimo $0.19

🚀 Iniciando análise V2 para DOGEUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando DOGEUSDT tecnicamente (1h)...
📱 Analisando sentimento de DOGEUSDT...
🔍 Analisando Twitter para DOGEUSDT...
🔍 Analisando Reddit para DOGEUSDT...
⛓️  Analisando on-chain de DOGEUSDT...
📊 Analisando derivativos de DOGEUSDT...
🌍 Analisando macro de DOGEUSDT...
🐋 Analisando smart money de DOGEUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo DOGEUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para DOGEUSDT: Request failed with status code 400
🔄 Usando fallback para DOGEUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de DOGEUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] DOGEUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:57:05.742Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for DOGEUSDT
🔍 [2025-10-28T22:57:05.744Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for DOGEUSDT
🔍 [2025-10-28T22:57:05.746Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for DOGEUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: VWAP = $0.1976
✅ DOGEUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.84%
✅ DOGEUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692226595&signature=92e75716f2da6fd01590dc4f8c558f30c248c058f064c11a48543b3dbe2f601b
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:06.371"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:06.372"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
🔍 [2025-10-28T22:57:06.564Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for DOGEUSDT
✅ DOGEUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ DOGEUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
info: Symbol rankings updated {"action":"data_processing","component":"trading_engine","data":{"totalSymbols":5},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:06.621"}
[INFO] trading_engine: Symbol rankings updated
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"BTCUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:06.637"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.790","overallScore":"0.140","processingTime":"2ms","recommendation":"HOLD","symbol":"BTCUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:06.639"}
[INFO] trading_engine: Integrated analysis completed
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"ETHUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:06.640"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.757","overallScore":"0.616","processingTime":"1ms","recommendation":"STRONG_BUY","symbol":"ETHUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:06.640"}
[INFO] trading_engine: Integrated analysis completed
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"BNBUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:06.641"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.806","overallScore":"0.198","processingTime":"1ms","recommendation":"HOLD","symbol":"BNBUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:06.641"}
[INFO] trading_engine: Integrated analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.535","patternsDetected":2,"symbol":"BTCUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:06.668"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.393","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.600"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:06.670"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.402","patternsDetected":2,"symbol":"BNBUSDT","technicalScore":"0.600"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:06.671"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.572","patternsDetected":2,"symbol":"ADAUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:06.671"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.626","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:06.672"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
✅ DOGEUSDT: ATR baixo (1.40%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 23.441307 → Notional: $4.55
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ DOGEUSDT: Valor da ordem ($4.46) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 26.000000 → Notional: $5.04
   💰 Margem ajustada: $1.01
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.01 (11.1% do saldo)
   Nocional (5x): $5.04
   Quantidade ajustada: 26.000000 DOGE
   Valor da ordem: $5.04
🔍 Verificando margem: disponível=$9.09, necessária=$1.01, posições abertas=2
💰 Trade aprovado: Margem $1.01 @ 5x
   Notional: $5.04
   Risco: LOW
📊 SELL: SL=$0.1969 (+1.5%), TP=$0.1880 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:57:07.424Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for DOGEUSDT
🔍 [2025-10-28T22:57:07.424Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for DOGEUSDT
🔍 [2025-10-28T22:57:07.425Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for DOGEUSDT
⚠️ [2025-10-28T22:57:07.425Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ DOGEUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=26

📝 ADICIONANDO DOGEUSDT ao array opportunities (total agora: 1)
✅ DOGEUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":26}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692228033&signature=2760949d475ff6b53839f1459c6723e1278893fb9b2f9158e20affc2d630520e
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:07.759"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:07.760"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ENAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ ENAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($0.4619) = $0.00
📊 ENAUSDT: Preço $0.4619, Custo mínimo $0.00

🚀 Iniciando análise V2 para ENAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ENAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ENAUSDT...
🔍 Analisando Twitter para ENAUSDT...
🔍 Analisando Reddit para ENAUSDT...
⛓️  Analisando on-chain de ENAUSDT...
📊 Analisando derivativos de ENAUSDT...
🌍 Analisando macro de ENAUSDT...
🐋 Analisando smart money de ENAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692228575&signature=7af5776cfffdfe8735a8dd01cdcc510fafa00e8cc17cbe8caccb34237c960b3a
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:08.326"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:08.327"}
[INFO] trading_engine: Account balance loaded
info: Symbol rankings updated {"action":"data_processing","component":"trading_engine","data":{"totalSymbols":5},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:08.504"}
[INFO] trading_engine: Symbol rankings updated
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"BTCUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:08.519"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.673","overallScore":"0.267","processingTime":"1ms","recommendation":"BUY","symbol":"BTCUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:08.520"}
[INFO] trading_engine: Integrated analysis completed
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"ETHUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:08.520"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.792","overallScore":"-0.211","processingTime":"1ms","recommendation":"SELL","symbol":"ETHUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:08.521"}
[INFO] trading_engine: Integrated analysis completed
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"BNBUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:08.521"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.766","overallScore":"0.114","processingTime":"1ms","recommendation":"HOLD","symbol":"BNBUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:08.522"}
[INFO] trading_engine: Integrated analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/klines
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.328","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:08.535"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.196","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.100"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:08.536"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.837","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:08.537"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.196","patternsDetected":2,"symbol":"ADAUSDT","technicalScore":"0.100"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:08.538"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.843","patternsDetected":2,"symbol":"SOLUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:08.538"}
[INFO] trading_engine: Symbol analysis completed
⚠️ CoinGecko: Símbolo ENAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ENAUSDT: Request failed with status code 400
🔄 Usando fallback para ENAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ENAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ENAUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:57:09.309Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ENAUSDT
🔍 [2025-10-28T22:57:09.310Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ENAUSDT
🔍 [2025-10-28T22:57:09.310Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ENAUSDT
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ENAUSDT: VWAP = $0.4693
✅ ENAUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.58%
✅ ENAUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ENAUSDT: ATR = $0.0092 (14 períodos)
🔍 [2025-10-28T22:57:10.146Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ENAUSDT
✅ ENAUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ENAUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ENAUSDT: ATR = $0.0092 (14 períodos)
✅ ENAUSDT: ATR baixo (2.00%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 9.844435 → Notional: $4.55
⚠️ ENAUSDT: Valor da ordem ($4.16) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 11.000000 → Notional: $5.08
   💰 Margem ajustada: $1.02
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.02 (11.2% do saldo)
   Nocional (5x): $5.08
   Quantidade ajustada: 11.000000 ENA
   Valor da ordem: $5.08
🔍 Verificando margem: disponível=$9.09, necessária=$1.02, posições abertas=2
💰 Trade aprovado: Margem $1.02 @ 5x
   Notional: $5.08
   Risco: LOW
📊 SELL: SL=$0.4688 (+1.5%), TP=$0.4478 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:57:11.003Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ENAUSDT
🔍 [2025-10-28T22:57:11.003Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ENAUSDT
🔍 [2025-10-28T22:57:11.004Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ENAUSDT
⚠️ [2025-10-28T22:57:11.004Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ENAUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=11

📝 ADICIONANDO ENAUSDT ao array opportunities (total agora: 2)
✅ ENAUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":11}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ADAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ ADAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($0.6479) = $0.06
📊 ADAUSDT: Preço $0.6479, Custo mínimo $0.06

🚀 Iniciando análise V2 para ADAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ADAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ADAUSDT...
🔍 Analisando Twitter para ADAUSDT...
🔍 Analisando Reddit para ADAUSDT...
⛓️  Analisando on-chain de ADAUSDT...
📊 Analisando derivativos de ADAUSDT...
🌍 Analisando macro de ADAUSDT...
🐋 Analisando smart money de ADAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo ADAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ADAUSDT: Request failed with status code 400
🔄 Usando fallback para ADAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ADAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ADAUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:57:12.877Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ADAUSDT
🔍 [2025-10-28T22:57:12.877Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ADAUSDT
🔍 [2025-10-28T22:57:12.878Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ADAUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: VWAP = $0.6545
✅ ADAUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.01%
✅ ADAUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
🔍 [2025-10-28T22:57:13.711Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ADAUSDT
✅ ADAUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ADAUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
✅ ADAUSDT: ATR baixo (1.39%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 7.018282 → Notional: $4.55
⚠️ ADAUSDT: Valor da ordem ($4.54) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 8.000000 → Notional: $5.18
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.04 (11.4% do saldo)
   Nocional (5x): $5.18
   Quantidade ajustada: 8.000000 ADA
   Valor da ordem: $5.18
🔍 Verificando margem: disponível=$9.09, necessária=$1.04, posições abertas=2
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.18
   Risco: LOW
📊 SELL: SL=$0.6576 (+1.5%), TP=$0.6281 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:57:14.583Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ADAUSDT
🔍 [2025-10-28T22:57:14.583Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ADAUSDT
🔍 [2025-10-28T22:57:14.584Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ADAUSDT
⚠️ [2025-10-28T22:57:14.584Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ADAUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=8

📝 ADICIONANDO ADAUSDT ao array opportunities (total agora: 3)
✅ ADAUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":8}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 XRPUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ XRPUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($2.6117) = $0.26
📊 XRPUSDT: Preço $2.6117, Custo mínimo $0.26

🚀 Iniciando análise V2 para XRPUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando XRPUSDT tecnicamente (1h)...
📱 Analisando sentimento de XRPUSDT...
🔍 Analisando Twitter para XRPUSDT...
🔍 Analisando Reddit para XRPUSDT...
⛓️  Analisando on-chain de XRPUSDT...
📊 Analisando derivativos de XRPUSDT...
🌍 Analisando macro de XRPUSDT...
🐋 Analisando smart money de XRPUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo XRPUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para XRPUSDT: Request failed with status code 400
🔄 Usando fallback para XRPUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de XRPUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] XRPUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:57:16.447Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for XRPUSDT
🔍 [2025-10-28T22:57:16.447Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for XRPUSDT
🔍 [2025-10-28T22:57:16.448Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for XRPUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: VWAP = $2.5197
✅ XRPUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 3.66%
✅ XRPUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0322 (14 períodos)
🔍 [2025-10-28T22:57:17.285Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for XRPUSDT
✅ XRPUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ XRPUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0322 (14 períodos)
✅ XRPUSDT: ATR baixo (1.23%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 1.741000 → Notional: $4.55
⚠️ XRPUSDT: Valor da ordem ($4.44) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 2.000000 → Notional: $5.22
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.04 (11.5% do saldo)
   Nocional (5x): $5.22
   Quantidade ajustada: 2.000000 XRP
   Valor da ordem: $5.22
🔍 Verificando margem: disponível=$9.09, necessária=$1.04, posições abertas=2
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.22
   Risco: LOW
📊 SELL: SL=$2.6510 (+1.5%), TP=$2.5319 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:57:18.146Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for XRPUSDT
🔍 [2025-10-28T22:57:18.147Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for XRPUSDT
🔍 [2025-10-28T22:57:18.147Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for XRPUSDT
⚠️ [2025-10-28T22:57:18.147Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ XRPUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=2

📝 ADICIONANDO XRPUSDT ao array opportunities (total agora: 4)
✅ XRPUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":2}
⚠️ ActiveMonitoringService: Supabase not available, skipping strategy analysis
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ ActiveMonitoringService: Supabase not available, skipping equity monitoring
⚠️ ActiveMonitoringService: Supabase not available, skipping trades monitoring
⚠️ TradeStatusMonitor: Supabase not available, skipping status check
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 SOLUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ SOLUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($194.77) = $0.19
📊 SOLUSDT: Preço $194.7700, Custo mínimo $0.19

🚀 Iniciando análise V2 para SOLUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando SOLUSDT tecnicamente (1h)...
📱 Analisando sentimento de SOLUSDT...
🔍 Analisando Twitter para SOLUSDT...
🔍 Analisando Reddit para SOLUSDT...
⛓️  Analisando on-chain de SOLUSDT...
📊 Analisando derivativos de SOLUSDT...
🌍 Analisando macro de SOLUSDT...
🐋 Analisando smart money de SOLUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo SOLUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CryptoPanic API falhou para SOLUSDT: Request failed with status code 400
🔄 Usando fallback para SOLUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de SOLUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] SOLUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:57:20.060Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for SOLUSDT
🔍 [2025-10-28T22:57:20.060Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for SOLUSDT
🔍 [2025-10-28T22:57:20.060Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for SOLUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: VWAP = $192.6390
✅ SOLUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.11%
✅ SOLUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
🔍 [2025-10-28T22:57:20.898Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for SOLUSDT
✅ SOLUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ SOLUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
 GET /api/binance/balance 404 in 29ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
✅ SOLUSDT: ATR baixo (1.51%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.023346 → Notional: $4.55
[DEBUG] binance_api: API Response: GET /api/v3/ping
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 319ms
⚠️ SOLUSDT: Valor da ordem ($3.90) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.030000 → Notional: $5.84
   💰 Margem ajustada: $1.17
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.17 (12.9% do saldo)
   Nocional (5x): $5.84
   Quantidade ajustada: 0.030000 SOL
   Valor da ordem: $5.84
🔍 Verificando margem: disponível=$9.09, necessária=$1.17, posições abertas=2
💰 Trade aprovado: Margem $1.17 @ 5x
   Notional: $5.84
   Risco: LOW
📊 SELL: SL=$197.6915 (+1.5%), TP=$188.8100 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:57:21.749Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for SOLUSDT
🔍 [2025-10-28T22:57:21.750Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for SOLUSDT
🔍 [2025-10-28T22:57:21.750Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for SOLUSDT
⚠️ [2025-10-28T22:57:21.751Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ SOLUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.03

📝 ADICIONANDO SOLUSDT ao array opportunities (total agora: 5)
✅ SOLUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.03}
 GET /api/trading/metrics 200 in 83ms
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.09527232,"equity":10.20130997},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:21.985"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:22.049"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 668ms
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ETHUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.0001, stepSize: 0.0001
⚠️ ETHUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.0001) × price($3995.23) = $0.40
📊 ETHUSDT: Preço $3995.2300, Custo mínimo $0.40

🚀 Iniciando análise V2 para ETHUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ETHUSDT tecnicamente (1h)...
📱 Analisando sentimento de ETHUSDT...
🔍 Analisando Twitter para ETHUSDT...
🔍 Analisando Reddit para ETHUSDT...
⛓️  Analisando on-chain de ETHUSDT...
📊 Analisando derivativos de ETHUSDT...
🌍 Analisando macro de ETHUSDT...
🐋 Analisando smart money de ETHUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CoinGecko: Símbolo ETHUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
[DEBUG] binance_api: API Response: GET /api/v3/time
⚠️ CryptoPanic API falhou para ETHUSDT: Request failed with status code 400
🔄 Usando fallback para ETHUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ETHUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ETHUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:57:23.633Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ETHUSDT
🔍 [2025-10-28T22:57:23.633Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ETHUSDT
🔍 [2025-10-28T22:57:23.634Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ETHUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: VWAP = $3974.4269
✅ ETHUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 0.52%
✅ ETHUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $48.0557 (14 períodos)
🔍 [2025-10-28T22:57:24.466Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ETHUSDT
✅ ETHUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ETHUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $48.0557 (14 períodos)
✅ ETHUSDT: ATR baixo (1.20%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.001138 → Notional: $4.55
⚠️ ETHUSDT: Valor da ordem ($4.00) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.002000 → Notional: $7.99
   💰 Margem ajustada: $1.60
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.60 (17.6% do saldo)
   Nocional (5x): $7.99
   Quantidade ajustada: 0.002000 ETH
   Valor da ordem: $7.99
🔍 Verificando margem: disponível=$9.09, necessária=$1.60, posições abertas=2
💰 Trade aprovado: Margem $1.60 @ 5x
   Notional: $7.99
   Risco: LOW
📊 SELL: SL=$4055.1686 (+1.5%), TP=$3872.9857 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:57:25.341Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ETHUSDT
🔍 [2025-10-28T22:57:25.342Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ETHUSDT
🔍 [2025-10-28T22:57:25.342Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ETHUSDT
⚠️ [2025-10-28T22:57:25.342Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ETHUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.002

📝 ADICIONANDO ETHUSDT ao array opportunities (total agora: 6)
✅ ETHUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.002}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BTCUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.00001, stepSize: 0.00001
⚠️ BTCUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.00001) × price($113203.55) = $1.13
📊 BTCUSDT: Preço $113203.5500, Custo mínimo $1.13

🚀 Iniciando análise V2 para BTCUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BTCUSDT tecnicamente (1h)...
📱 Analisando sentimento de BTCUSDT...
🔍 Analisando Twitter para BTCUSDT...
🔍 Analisando Reddit para BTCUSDT...
⛓️  Analisando on-chain de BTCUSDT...
📊 Analisando derivativos de BTCUSDT...
🌍 Analisando macro de BTCUSDT...
🐋 Analisando smart money de BTCUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CoinGecko: Símbolo BTCUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para BTCUSDT: Request failed with status code 400
🔄 Usando fallback para BTCUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BTCUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BTCUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:57:27.705Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BTCUSDT
🔍 [2025-10-28T22:57:27.706Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BTCUSDT
🔍 [2025-10-28T22:57:27.706Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BTCUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: VWAP = $111253.7835
✅ BTCUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.75%
✅ BTCUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
🔍 [2025-10-28T22:57:28.547Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BTCUSDT
✅ BTCUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BTCUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
✅ BTCUSDT: ATR baixo (0.73%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.000040 → Notional: $4.55
⏸️ BTCUSDT: Quantidade muito pequena (0 < minQty 0.001)
⏸️ BTCUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BNBUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ BNBUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($1106.3) = $1.11
📊 BNBUSDT: Preço $1106.3000, Custo mínimo $1.11

🚀 Iniciando análise V2 para BNBUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BNBUSDT tecnicamente (1h)...
📱 Analisando sentimento de BNBUSDT...
🔍 Analisando Twitter para BNBUSDT...
🔍 Analisando Reddit para BNBUSDT...
⛓️  Analisando on-chain de BNBUSDT...
📊 Analisando derivativos de BNBUSDT...
🌍 Analisando macro de BNBUSDT...
🐋 Analisando smart money de BNBUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CoinGecko: Símbolo BNBUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para BNBUSDT: Request failed with status code 400
🔄 Usando fallback para BNBUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BNBUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BNBUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:57:31.345Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BNBUSDT
🔍 [2025-10-28T22:57:31.345Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BNBUSDT
🔍 [2025-10-28T22:57:31.346Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BNBUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: VWAP = $1111.6204
⏸️ BNBUSDT: REJEITADO - Apenas 1 confirmações (necessário 2+)
   Detalhes: Confiança: 50%
⚠️ [2025-10-28T22:57:31.898Z] WARN [ANALYSIS_CAPTURE] ⚠️ Analysis warning recorded: Apenas 1 confirmações (necessário 2+)
⚠️ [2025-10-28T22:57:31.899Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save
⏸️ BNBUSDT: REJEITADO - Sem decision retornada

🏁 LOOP TERMINOU! Total de 8 símbolos analisados, 6 oportunidades adicionadas ao array

💰 CAPITAL BAIXO: Priorizando moedas mais BARATAS para maximizar quantidade de trades

📊 Top oportunidades encontradas (6 total):
   1. ENAUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.00
   2. ADAUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.06
   3. DOGEUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   4. SOLUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   5. XRPUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.26

✅ 6 oportunidades encontradas e prontas para execução!
📋 Detalhes das oportunidades:
   1. ENAUSDT: action=SELL, size=11, conf=50%
   2. ADAUSDT: action=SELL, size=8, conf=50%
   3. DOGEUSDT: action=SELL, size=26, conf=50%
   4. SOLUSDT: action=SELL, size=0.03, conf=50%
   5. XRPUSDT: action=SELL, size=2, conf=50%
   6. ETHUSDT: action=SELL, size=0.002, conf=50%

🔚 RETORNANDO 6 oportunidades de getOptimalSymbols()

🔍 DEBUG - Chamou getOptimalSymbols(), recebeu 6 oportunidades
📊 Máximo de trades permitido: 2 (atualmente: 2)
💰 Capital disponível: $9.09
🎯 Analisando 6 oportunidades encontradas

📋 Oportunidades encontradas:
   1. ENAUSDT: Score -1.14, Conf 50%, Custo $0.00
   2. ADAUSDT: Score -1.14, Conf 50%, Custo $0.06
   3. DOGEUSDT: Score -1.14, Conf 50%, Custo $0.19
   4. SOLUSDT: Score -1.14, Conf 50%, Custo $0.19
   5. XRPUSDT: Score -1.14, Conf 50%, Custo $0.26
   6. ETHUSDT: Score -1.14, Conf 50%, Custo $0.40

🎯 Oportunidades recebidas para execução: 6
🎯 Symbols array: [ 'ENAUSDT', 'ADAUSDT', 'DOGEUSDT', 'SOLUSDT', 'XRPUSDT', 'ETHUSDT' ]
✅ Limite de trades alcançado
⏳ Aguardando 5s para próxima análise...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692256600&signature=b2f4ac46c30282cbc19090e5db767adb5d82bdcae7da4aac7d07b0f6347c3d4d
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:36.341"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:36.342"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price

🔄 Iteração #9 - Loop de trading ativo
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
🔍 DEBUG - Response completa de getFuturesAccountInfo:
  account.availableBalance: 9.09401546
  account.totalWalletBalance: 10.20056610
  account.totalMarginBalance: 10.19786013
💰 Saldo disponível: $9.09
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692257729&signature=691556ee8ce38543e636b384ea931d8bfa60e6a07b3d9eb3bfa13b7e410e2d9a
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692258042&signature=999020ef154bc5a2e614975c0080ad79ceb607535b1bcf60b1476bcf19d41c65
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:37.772"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:37.773"}
[INFO] trading_engine: Account balance loaded
info: Symbol rankings updated {"action":"data_processing","component":"trading_engine","data":{"totalSymbols":5},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:37.866"}
[INFO] trading_engine: Symbol rankings updated
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"BTCUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:37.869"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.793","overallScore":"-0.006","processingTime":"3ms","recommendation":"HOLD","symbol":"BTCUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:37.871"}
[INFO] trading_engine: Integrated analysis completed
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"ETHUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:37.872"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.782","overallScore":"-0.091","processingTime":"1ms","recommendation":"HOLD","symbol":"ETHUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:37.873"}
[INFO] trading_engine: Integrated analysis completed
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"BNBUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:37.874"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.821","overallScore":"-0.623","processingTime":"1ms","recommendation":"STRONG_SELL","symbol":"BNBUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:37.875"}
[INFO] trading_engine: Integrated analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"4ms","overallScore":"0.613","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:37.900"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.276","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:37.904"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.258","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"0.300"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:37.906"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.294","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:37.909"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.304","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:37.911"}
[INFO] trading_engine: Symbol analysis completed

🔍 MONITORAMENTO: Verificando 2 trades abertos...
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692258581&signature=6e58499ecb883d39021063f8e68332b006e035c990817dc81cb651de467a8e86
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:38.359"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:57:38.360"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 DOGEUSDT: Entry=0, Current=0.19405
   💰 P&L REAL (Binance): $-0.0011 (-1.57%)
   📋 Debug: isolatedMargin=0, estimatedMargin=0.06722580106666666
   ✅ DOGEUSDT dentro do limite. P&L: -1.57%
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 ADAUSDT: Entry=0, Current=0.6482
   💰 P&L REAL (Binance): $-0.0016 (-0.15%)
   📋 Debug: isolatedMargin=0, estimatedMargin=1.0363200000000001
   ✅ ADAUSDT dentro do limite. P&L: -0.15%

📊 Status: 2/2 trades abertos

🔍 Analisando oportunidades em 8 símbolos...
💰 Capital disponível: $9.09
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 DOGEUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 1, stepSize: 1
⚠️ DOGEUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(1) × price($0.19405) = $0.19
📊 DOGEUSDT: Preço $0.1941, Custo mínimo $0.19

🚀 Iniciando análise V2 para DOGEUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando DOGEUSDT tecnicamente (1h)...
📱 Analisando sentimento de DOGEUSDT...
🔍 Analisando Twitter para DOGEUSDT...
🔍 Analisando Reddit para DOGEUSDT...
⛓️  Analisando on-chain de DOGEUSDT...
📊 Analisando derivativos de DOGEUSDT...
🌍 Analisando macro de DOGEUSDT...
🐋 Analisando smart money de DOGEUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] websocket: Pong recebido
⚠️ CoinGecko: Símbolo DOGEUSDT não mapeado
⚠️ CryptoPanic API falhou para DOGEUSDT: Request failed with status code 400
🔄 Usando fallback para DOGEUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de DOGEUSDT nas últimas 6h
📊 Fear & Greed: 50 (Neutral)
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] DOGEUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:57:42.771Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for DOGEUSDT
🔍 [2025-10-28T22:57:42.772Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for DOGEUSDT
🔍 [2025-10-28T22:57:42.772Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for DOGEUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: VWAP = $0.1976
✅ DOGEUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.80%
✅ DOGEUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
🔍 [2025-10-28T22:57:43.612Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for DOGEUSDT
✅ DOGEUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ DOGEUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
✅ DOGEUSDT: ATR baixo (1.40%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 23.432145 → Notional: $4.55
⚠️ DOGEUSDT: Valor da ordem ($4.46) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 26.000000 → Notional: $5.05
   💰 Margem ajustada: $1.01
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.01 (11.1% do saldo)
   Nocional (5x): $5.05
   Quantidade ajustada: 26.000000 DOGE
   Valor da ordem: $5.05
🔍 Verificando margem: disponível=$9.09, necessária=$1.01, posições abertas=2
💰 Trade aprovado: Margem $1.01 @ 5x
   Notional: $5.05
   Risco: LOW
📊 SELL: SL=$0.1970 (+1.5%), TP=$0.1881 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:57:44.490Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for DOGEUSDT
🔍 [2025-10-28T22:57:44.491Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for DOGEUSDT
🔍 [2025-10-28T22:57:44.491Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for DOGEUSDT
⚠️ [2025-10-28T22:57:44.492Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ DOGEUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=26

📝 ADICIONANDO DOGEUSDT ao array opportunities (total agora: 1)
✅ DOGEUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":26}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ENAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ ENAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($0.462) = $0.00
📊 ENAUSDT: Preço $0.4620, Custo mínimo $0.00

🚀 Iniciando análise V2 para ENAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ENAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ENAUSDT...
🔍 Analisando Twitter para ENAUSDT...
🔍 Analisando Reddit para ENAUSDT...
⛓️  Analisando on-chain de ENAUSDT...
📊 Analisando derivativos de ENAUSDT...
🌍 Analisando macro de ENAUSDT...
🐋 Analisando smart money de ENAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo ENAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ENAUSDT: Request failed with status code 400
🔄 Usando fallback para ENAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ENAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ENAUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:57:46.352Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ENAUSDT
🔍 [2025-10-28T22:57:46.352Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ENAUSDT
🔍 [2025-10-28T22:57:46.353Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ENAUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ENAUSDT: VWAP = $0.4693
✅ ENAUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.56%
✅ ENAUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ENAUSDT: ATR = $0.0092 (14 períodos)
🔍 [2025-10-28T22:57:47.179Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ENAUSDT
✅ ENAUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ENAUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ENAUSDT: ATR = $0.0092 (14 períodos)
✅ ENAUSDT: ATR baixo (2.00%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 9.842008 → Notional: $4.55
⚠️ ENAUSDT: Valor da ordem ($4.16) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 11.000000 → Notional: $5.08
   💰 Margem ajustada: $1.02
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.02 (11.2% do saldo)
   Nocional (5x): $5.08
   Quantidade ajustada: 11.000000 ENA
   Valor da ordem: $5.08
🔍 Verificando margem: disponível=$9.09, necessária=$1.02, posições abertas=2
💰 Trade aprovado: Margem $1.02 @ 5x
   Notional: $5.08
   Risco: LOW
📊 SELL: SL=$0.4689 (+1.5%), TP=$0.4479 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:57:48.045Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ENAUSDT
🔍 [2025-10-28T22:57:48.045Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ENAUSDT
🔍 [2025-10-28T22:57:48.046Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ENAUSDT
⚠️ [2025-10-28T22:57:48.046Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ENAUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=11

📝 ADICIONANDO ENAUSDT ao array opportunities (total agora: 2)
✅ ENAUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":11}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ ActiveMonitoringService: Supabase not available, skipping equity monitoring
⚠️ ActiveMonitoringService: Supabase not available, skipping trades monitoring
⚠️ TradeStatusMonitor: Supabase not available, skipping status check
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ADAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ ADAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($0.6481) = $0.06
📊 ADAUSDT: Preço $0.6481, Custo mínimo $0.06

🚀 Iniciando análise V2 para ADAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ADAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ADAUSDT...
🔍 Analisando Twitter para ADAUSDT...
🔍 Analisando Reddit para ADAUSDT...
⛓️  Analisando on-chain de ADAUSDT...
📊 Analisando derivativos de ADAUSDT...
🌍 Analisando macro de ADAUSDT...
🐋 Analisando smart money de ADAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CoinGecko: Símbolo ADAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ADAUSDT: Request failed with status code 400
🔄 Usando fallback para ADAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ADAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ADAUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:57:50.991Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ADAUSDT
🔍 [2025-10-28T22:57:50.992Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ADAUSDT
🔍 [2025-10-28T22:57:50.992Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ADAUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: VWAP = $0.6545
✅ ADAUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -0.98%
✅ ADAUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
🔍 [2025-10-28T22:57:51.817Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ADAUSDT
✅ ADAUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ADAUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
✅ ADAUSDT: ATR baixo (1.39%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 7.015905 → Notional: $4.55
⚠️ ADAUSDT: Valor da ordem ($4.54) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 8.000000 → Notional: $5.18
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.04 (11.4% do saldo)
   Nocional (5x): $5.18
   Quantidade ajustada: 8.000000 ADA
   Valor da ordem: $5.18
🔍 Verificando margem: disponível=$9.09, necessária=$1.04, posições abertas=2
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.18
   Risco: LOW
📊 SELL: SL=$0.6578 (+1.5%), TP=$0.6283 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:57:52.691Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ADAUSDT
🔍 [2025-10-28T22:57:52.692Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ADAUSDT
🔍 [2025-10-28T22:57:52.692Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ADAUSDT
⚠️ [2025-10-28T22:57:52.693Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ADAUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=8

📝 ADICIONANDO ADAUSDT ao array opportunities (total agora: 3)
✅ ADAUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":8}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 XRPUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ XRPUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($2.6113) = $0.26
📊 XRPUSDT: Preço $2.6113, Custo mínimo $0.26

🚀 Iniciando análise V2 para XRPUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando XRPUSDT tecnicamente (1h)...
📱 Analisando sentimento de XRPUSDT...
🔍 Analisando Twitter para XRPUSDT...
🔍 Analisando Reddit para XRPUSDT...
⛓️  Analisando on-chain de XRPUSDT...
📊 Analisando derivativos de XRPUSDT...
🌍 Analisando macro de XRPUSDT...
🐋 Analisando smart money de XRPUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo XRPUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para XRPUSDT: Request failed with status code 400
🔄 Usando fallback para XRPUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de XRPUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] XRPUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:57:55.600Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for XRPUSDT
🔍 [2025-10-28T22:57:55.601Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for XRPUSDT
🔍 [2025-10-28T22:57:55.601Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for XRPUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: VWAP = $2.5197
✅ XRPUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 3.67%
✅ XRPUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0322 (14 períodos)
🔍 [2025-10-28T22:57:56.424Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for XRPUSDT
✅ XRPUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ XRPUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0322 (14 períodos)
✅ XRPUSDT: ATR baixo (1.23%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 1.740748 → Notional: $4.55
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ XRPUSDT: Valor da ordem ($4.44) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 2.000000 → Notional: $5.22
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.04 (11.5% do saldo)
   Nocional (5x): $5.22
   Quantidade ajustada: 2.000000 XRP
   Valor da ordem: $5.22
🔍 Verificando margem: disponível=$9.09, necessária=$1.04, posições abertas=2
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.22
   Risco: LOW
📊 SELL: SL=$2.6513 (+1.5%), TP=$2.5322 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:57:57.279Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for XRPUSDT
🔍 [2025-10-28T22:57:57.280Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for XRPUSDT
🔍 [2025-10-28T22:57:57.280Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for XRPUSDT
⚠️ [2025-10-28T22:57:57.280Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ XRPUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=2

📝 ADICIONANDO XRPUSDT ao array opportunities (total agora: 4)
✅ XRPUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":2}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 SOLUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ SOLUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($194.77) = $0.19
📊 SOLUSDT: Preço $194.7700, Custo mínimo $0.19

🚀 Iniciando análise V2 para SOLUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando SOLUSDT tecnicamente (1h)...
📱 Analisando sentimento de SOLUSDT...
🔍 Analisando Twitter para SOLUSDT...
🔍 Analisando Reddit para SOLUSDT...
⛓️  Analisando on-chain de SOLUSDT...
📊 Analisando derivativos de SOLUSDT...
🌍 Analisando macro de SOLUSDT...
🐋 Analisando smart money de SOLUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo SOLUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para SOLUSDT: Request failed with status code 400
🔄 Usando fallback para SOLUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de SOLUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] SOLUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:57:59.210Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for SOLUSDT
🔍 [2025-10-28T22:57:59.211Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for SOLUSDT
🔍 [2025-10-28T22:57:59.211Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for SOLUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: VWAP = $192.6391
✅ SOLUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.10%
✅ SOLUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
🔍 [2025-10-28T22:58:00.052Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for SOLUSDT
✅ SOLUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ SOLUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
✅ SOLUSDT: ATR baixo (1.51%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.023347 → Notional: $4.55
⚠️ SOLUSDT: Valor da ordem ($3.90) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.030000 → Notional: $5.84
   💰 Margem ajustada: $1.17
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.17 (12.8% do saldo)
   Nocional (5x): $5.84
   Quantidade ajustada: 0.030000 SOL
   Valor da ordem: $5.84
🔍 Verificando margem: disponível=$9.09, necessária=$1.17, posições abertas=2
💰 Trade aprovado: Margem $1.17 @ 5x
   Notional: $5.84
   Risco: LOW
📊 SELL: SL=$197.6814 (+1.5%), TP=$188.8003 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:58:01.669Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for SOLUSDT
🔍 [2025-10-28T22:58:01.670Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for SOLUSDT
🔍 [2025-10-28T22:58:01.670Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for SOLUSDT
⚠️ [2025-10-28T22:58:01.670Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ SOLUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.03

📝 ADICIONANDO SOLUSDT ao array opportunities (total agora: 5)
✅ SOLUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.03}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ETHUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.0001, stepSize: 0.0001
⚠️ ETHUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.0001) × price($3995.77) = $0.40
📊 ETHUSDT: Preço $3995.7700, Custo mínimo $0.40

🚀 Iniciando análise V2 para ETHUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ETHUSDT tecnicamente (1h)...
📱 Analisando sentimento de ETHUSDT...
🔍 Analisando Twitter para ETHUSDT...
🔍 Analisando Reddit para ETHUSDT...
⛓️  Analisando on-chain de ETHUSDT...
📊 Analisando derivativos de ETHUSDT...
🌍 Analisando macro de ETHUSDT...
🐋 Analisando smart money de ETHUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CoinGecko: Símbolo ETHUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ETHUSDT: Request failed with status code 400
🔄 Usando fallback para ETHUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ETHUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ETHUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:58:03.621Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ETHUSDT
🔍 [2025-10-28T22:58:03.622Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ETHUSDT
🔍 [2025-10-28T22:58:03.623Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ETHUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: VWAP = $3974.4278
✅ ETHUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 0.54%
✅ ETHUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $48.0557 (14 períodos)
🔍 [2025-10-28T22:58:04.454Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ETHUSDT
✅ ETHUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ETHUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $48.0557 (14 períodos)
✅ ETHUSDT: ATR baixo (1.20%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.001138 → Notional: $4.55
⚠️ ETHUSDT: Valor da ordem ($4.00) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.002000 → Notional: $7.99
   💰 Margem ajustada: $1.60
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.60 (17.6% do saldo)
   Nocional (5x): $7.99
   Quantidade ajustada: 0.002000 ETH
   Valor da ordem: $7.99
🔍 Verificando margem: disponível=$9.09, necessária=$1.60, posições abertas=2
💰 Trade aprovado: Margem $1.60 @ 5x
   Notional: $7.99
   Risco: LOW
📊 SELL: SL=$4055.6964 (+1.5%), TP=$3873.4897 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:58:05.354Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ETHUSDT
🔍 [2025-10-28T22:58:05.354Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ETHUSDT
🔍 [2025-10-28T22:58:05.355Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ETHUSDT
⚠️ [2025-10-28T22:58:05.356Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ETHUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.002

📝 ADICIONANDO ETHUSDT ao array opportunities (total agora: 6)
✅ ETHUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.002}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692286610&signature=e99ead9ba8b854f9d46c558ab1207f92bd84db3f77ec17daaa4cc98b061240c9
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:06.355"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:06.357"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.859","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:06.682"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.564","patternsDetected":2,"symbol":"ETHUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:06.684"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.822","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:06.684"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.188","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"0.100"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:06.685"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.890","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:06.686"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BTCUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.00001, stepSize: 0.00001
⚠️ BTCUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.00001) × price($113207.19) = $1.13
📊 BTCUSDT: Preço $113207.1900, Custo mínimo $1.13

🚀 Iniciando análise V2 para BTCUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BTCUSDT tecnicamente (1h)...
📱 Analisando sentimento de BTCUSDT...
🔍 Analisando Twitter para BTCUSDT...
🔍 Analisando Reddit para BTCUSDT...
⛓️  Analisando on-chain de BTCUSDT...
📊 Analisando derivativos de BTCUSDT...
🌍 Analisando macro de BTCUSDT...
🐋 Analisando smart money de BTCUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692288036&signature=755e033f95608870962ac2f892da0d6e3c578d3fd9ad51058ecd8530c7dcbf5c
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:07.777"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:07.778"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo BTCUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para BTCUSDT: Request failed with status code 400
🔄 Usando fallback para BTCUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BTCUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BTCUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:58:08.222Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BTCUSDT
🔍 [2025-10-28T22:58:08.224Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BTCUSDT
🔍 [2025-10-28T22:58:08.225Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BTCUSDT
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692288590&signature=7209a24f9bc356dbd0e0b6f9e3a23553d6283be91add0f753e4eb52736fca9fd
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:08.332"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:08.332"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"2ms","overallScore":"0.312","patternsDetected":2,"symbol":"BTCUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:08.539"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.636","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:08.540"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.772","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"0.800"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:08.541"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.534","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:08.542"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.407","patternsDetected":2,"symbol":"SOLUSDT","technicalScore":"0.600"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:08.542"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: VWAP = $111253.8433
✅ BTCUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.76%
✅ BTCUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
🔍 [2025-10-28T22:58:09.056Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BTCUSDT
✅ BTCUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BTCUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
✅ BTCUSDT: ATR baixo (0.73%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.000040 → Notional: $4.55
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⏸️ BTCUSDT: Quantidade muito pequena (0 < minQty 0.001)
⏸️ BTCUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BNBUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ BNBUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($1106.72) = $1.11
📊 BNBUSDT: Preço $1106.7200, Custo mínimo $1.11

🚀 Iniciando análise V2 para BNBUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BNBUSDT tecnicamente (1h)...
📱 Analisando sentimento de BNBUSDT...
🔍 Analisando Twitter para BNBUSDT...
🔍 Analisando Reddit para BNBUSDT...
⛓️  Analisando on-chain de BNBUSDT...
📊 Analisando derivativos de BNBUSDT...
🌍 Analisando macro de BNBUSDT...
🐋 Analisando smart money de BNBUSDT...
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo BNBUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para BNBUSDT: Request failed with status code 400
🔄 Usando fallback para BNBUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BNBUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BNBUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:58:12.574Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BNBUSDT
🔍 [2025-10-28T22:58:12.575Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BNBUSDT
🔍 [2025-10-28T22:58:12.576Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BNBUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: VWAP = $1111.6204
⏸️ BNBUSDT: REJEITADO - Apenas 1 confirmações (necessário 2+)
   Detalhes: Confiança: 50%
⚠️ [2025-10-28T22:58:13.128Z] WARN [ANALYSIS_CAPTURE] ⚠️ Analysis warning recorded: Apenas 1 confirmações (necessário 2+)
⚠️ [2025-10-28T22:58:13.129Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save
⏸️ BNBUSDT: REJEITADO - Sem decision retornada

🏁 LOOP TERMINOU! Total de 8 símbolos analisados, 6 oportunidades adicionadas ao array

💰 CAPITAL BAIXO: Priorizando moedas mais BARATAS para maximizar quantidade de trades

📊 Top oportunidades encontradas (6 total):
   1. ENAUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.00
   2. ADAUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.06
   3. DOGEUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   4. SOLUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   5. XRPUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.26

✅ 6 oportunidades encontradas e prontas para execução!
📋 Detalhes das oportunidades:
   1. ENAUSDT: action=SELL, size=11, conf=50%
   2. ADAUSDT: action=SELL, size=8, conf=50%
   3. DOGEUSDT: action=SELL, size=26, conf=50%
   4. SOLUSDT: action=SELL, size=0.03, conf=50%
   5. XRPUSDT: action=SELL, size=2, conf=50%
   6. ETHUSDT: action=SELL, size=0.002, conf=50%

🔚 RETORNANDO 6 oportunidades de getOptimalSymbols()

🔍 DEBUG - Chamou getOptimalSymbols(), recebeu 6 oportunidades
📊 Máximo de trades permitido: 2 (atualmente: 2)
💰 Capital disponível: $9.09
🎯 Analisando 6 oportunidades encontradas

📋 Oportunidades encontradas:
   1. ENAUSDT: Score -1.14, Conf 50%, Custo $0.00
   2. ADAUSDT: Score -1.14, Conf 50%, Custo $0.06
   3. DOGEUSDT: Score -1.14, Conf 50%, Custo $0.19
   4. SOLUSDT: Score -1.14, Conf 50%, Custo $0.19
   5. XRPUSDT: Score -1.14, Conf 50%, Custo $0.26
   6. ETHUSDT: Score -1.14, Conf 50%, Custo $0.40

🎯 Oportunidades recebidas para execução: 6
🎯 Symbols array: [ 'ENAUSDT', 'ADAUSDT', 'DOGEUSDT', 'SOLUSDT', 'XRPUSDT', 'ETHUSDT' ]
✅ Limite de trades alcançado
⏳ Aguardando 5s para próxima análise...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price

🔄 Iteração #10 - Loop de trading ativo
🔍 DEBUG - Response completa de getFuturesAccountInfo:
  account.availableBalance: 9.09090227
  account.totalWalletBalance: 10.20115443
  account.totalMarginBalance: 10.19563852
💰 Saldo disponível: $9.09
⚠️ ActiveMonitoringService: Supabase not available, skipping equity monitoring
⚠️ ActiveMonitoringService: Supabase not available, skipping trades monitoring
⚠️ TradeStatusMonitor: Supabase not available, skipping status check
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692298967&signature=62c21dfde0240dfcc7d7a60c162289ee31d42a53d1d56e333f6373cb5d3e9cd4

🔍 MONITORAMENTO: Verificando 2 trades abertos...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 DOGEUSDT: Entry=0, Current=0.19412
   💰 P&L REAL (Binance): $-0.0031 (-4.64%)
   📋 Debug: isolatedMargin=0, estimatedMargin=0.06725333333333333
   ✅ DOGEUSDT dentro do limite. P&L: -4.64%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 ADAUSDT: Entry=0, Current=0.6483
   💰 P&L REAL (Binance): $-0.0032 (-0.31%)
   📋 Debug: isolatedMargin=0, estimatedMargin=1.03664
   ✅ ADAUSDT dentro do limite. P&L: -0.31%

📊 Status: 2/2 trades abertos

🔍 Analisando oportunidades em 8 símbolos...
💰 Capital disponível: $9.09
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 DOGEUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 1, stepSize: 1
⚠️ DOGEUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(1) × price($0.19412) = $0.19
📊 DOGEUSDT: Preço $0.1941, Custo mínimo $0.19

🚀 Iniciando análise V2 para DOGEUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando DOGEUSDT tecnicamente (1h)...
📱 Analisando sentimento de DOGEUSDT...
🔍 Analisando Twitter para DOGEUSDT...
🔍 Analisando Reddit para DOGEUSDT...
⛓️  Analisando on-chain de DOGEUSDT...
📊 Analisando derivativos de DOGEUSDT...
🌍 Analisando macro de DOGEUSDT...
🐋 Analisando smart money de DOGEUSDT...
 GET /api/binance/balance 404 in 67ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ping
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 353ms
 GET /api/trading/metrics 200 in 76ms
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.08931363,"equity":10.20081263},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:22.196"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:22.278"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 769ms
⚠️ CoinGecko: Símbolo DOGEUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para DOGEUSDT: Request failed with status code 400
🔄 Usando fallback para DOGEUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de DOGEUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] DOGEUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:58:22.988Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for DOGEUSDT
🔍 [2025-10-28T22:58:22.988Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for DOGEUSDT
🔍 [2025-10-28T22:58:22.989Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for DOGEUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: VWAP = $0.1976
✅ DOGEUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.77%
✅ DOGEUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
🔍 [2025-10-28T22:58:23.821Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for DOGEUSDT
✅ DOGEUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ DOGEUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
✅ DOGEUSDT: ATR baixo (1.40%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 23.416883 → Notional: $4.55
⚠️ DOGEUSDT: Valor da ordem ($4.46) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 26.000000 → Notional: $5.05
   💰 Margem ajustada: $1.01
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.01 (11.1% do saldo)
   Nocional (5x): $5.05
   Quantidade ajustada: 26.000000 DOGE
   Valor da ordem: $5.05
🔍 Verificando margem: disponível=$9.09, necessária=$1.01, posições abertas=2
💰 Trade aprovado: Margem $1.01 @ 5x
   Notional: $5.05
   Risco: LOW
📊 SELL: SL=$0.1970 (+1.5%), TP=$0.1882 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:58:24.675Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for DOGEUSDT
🔍 [2025-10-28T22:58:24.675Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for DOGEUSDT
🔍 [2025-10-28T22:58:24.675Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for DOGEUSDT
⚠️ [2025-10-28T22:58:24.676Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ DOGEUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=26

📝 ADICIONANDO DOGEUSDT ao array opportunities (total agora: 1)
✅ DOGEUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":26}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ENAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ ENAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($0.4626) = $0.00
📊 ENAUSDT: Preço $0.4626, Custo mínimo $0.00

🚀 Iniciando análise V2 para ENAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ENAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ENAUSDT...
🔍 Analisando Twitter para ENAUSDT...
🔍 Analisando Reddit para ENAUSDT...
⛓️  Analisando on-chain de ENAUSDT...
📊 Analisando derivativos de ENAUSDT...
🌍 Analisando macro de ENAUSDT...
🐋 Analisando smart money de ENAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/time
⚠️ CoinGecko: Símbolo ENAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CryptoPanic API falhou para ENAUSDT: Request failed with status code 400
🔄 Usando fallback para ENAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ENAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 7.08 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 5 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 80%
🔍 [DEBUG CONFIANÇA] Base técnico: 68%
🔍 [DEBUG CONFIANÇA] Sem penalidade (44% ativos é aceitável) = 68%
🔍 [DEBUG CONFIANÇA] Convergência: +3 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (3 vs 1) = 68%
🔍 [DEBUG CONFIANÇA] FINAL: 68%
✅ Score ponderado: 2.97 (Confiança: 68%)
📋 Sinal: STRONG_BUY weak
🧠 [V2] ENAUSDT: Score ponderado 2.97 (68% confiança)
📊 Sinal técnico V2: BUY (68%)
   Técnico: BUY (49.6 RSI, STRONG_DOWN, Tendência de baixa, Padrão: hammer, Volume acima da média). Score ponderado: 2.97. Confiança: 68%.
🔍 [2025-10-28T22:58:26.562Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ENAUSDT
🔍 [2025-10-28T22:58:26.563Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ENAUSDT
🔍 [2025-10-28T22:58:26.563Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ENAUSDT
⏸️ ENAUSDT: REJEITADO - STRONG_BUY contra tendência STRONG_DOWN
⏸️ ENAUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ADAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ ADAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($0.6484) = $0.06
📊 ADAUSDT: Preço $0.6484, Custo mínimo $0.06

🚀 Iniciando análise V2 para ADAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ADAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ADAUSDT...
🔍 Analisando Twitter para ADAUSDT...
🔍 Analisando Reddit para ADAUSDT...
⛓️  Analisando on-chain de ADAUSDT...
📊 Analisando derivativos de ADAUSDT...
🌍 Analisando macro de ADAUSDT...
🐋 Analisando smart money de ADAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo ADAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ADAUSDT: Request failed with status code 400
🔄 Usando fallback para ADAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ADAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ADAUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:58:28.421Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ADAUSDT
🔍 [2025-10-28T22:58:28.421Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ADAUSDT
🔍 [2025-10-28T22:58:28.422Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ADAUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: VWAP = $0.6545
✅ ADAUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -0.93%
✅ ADAUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
🔍 [2025-10-28T22:58:29.262Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ADAUSDT
✅ ADAUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ADAUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
✅ ADAUSDT: ATR baixo (1.39%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 7.010258 → Notional: $4.55
⚠️ ADAUSDT: Valor da ordem ($4.54) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 8.000000 → Notional: $5.19
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.04 (11.4% do saldo)
   Nocional (5x): $5.19
   Quantidade ajustada: 8.000000 ADA
   Valor da ordem: $5.19
🔍 Verificando margem: disponível=$9.09, necessária=$1.04, posições abertas=2
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.19
   Risco: LOW
📊 SELL: SL=$0.6581 (+1.5%), TP=$0.6286 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:58:30.135Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ADAUSDT
🔍 [2025-10-28T22:58:30.135Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ADAUSDT
🔍 [2025-10-28T22:58:30.136Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ADAUSDT
⚠️ [2025-10-28T22:58:30.136Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ADAUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=8

📝 ADICIONANDO ADAUSDT ao array opportunities (total agora: 2)
✅ ADAUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":8}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 XRPUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ XRPUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($2.6129) = $0.26
📊 XRPUSDT: Preço $2.6129, Custo mínimo $0.26

🚀 Iniciando análise V2 para XRPUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando XRPUSDT tecnicamente (1h)...
📱 Analisando sentimento de XRPUSDT...
🔍 Analisando Twitter para XRPUSDT...
🔍 Analisando Reddit para XRPUSDT...
⛓️  Analisando on-chain de XRPUSDT...
📊 Analisando derivativos de XRPUSDT...
🌍 Analisando macro de XRPUSDT...
🐋 Analisando smart money de XRPUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo XRPUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para XRPUSDT: Request failed with status code 400
🔄 Usando fallback para XRPUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de XRPUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] XRPUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:58:32.008Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for XRPUSDT
🔍 [2025-10-28T22:58:32.008Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for XRPUSDT
🔍 [2025-10-28T22:58:32.009Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for XRPUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: VWAP = $2.5197
✅ XRPUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 3.70%
✅ XRPUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0322 (14 períodos)
🔍 [2025-10-28T22:58:32.857Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for XRPUSDT
✅ XRPUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ XRPUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0322 (14 períodos)
✅ XRPUSDT: ATR baixo (1.23%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 1.739686 → Notional: $4.55
⚠️ XRPUSDT: Valor da ordem ($4.44) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 2.000000 → Notional: $5.23
   💰 Margem ajustada: $1.05
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.05 (11.5% do saldo)
   Nocional (5x): $5.23
   Quantidade ajustada: 2.000000 XRP
   Valor da ordem: $5.23
🔍 Verificando margem: disponível=$9.09, necessária=$1.05, posições abertas=2
💰 Trade aprovado: Margem $1.05 @ 5x
   Notional: $5.23
   Risco: LOW
📊 SELL: SL=$2.6520 (+1.5%), TP=$2.5328 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:58:33.730Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for XRPUSDT
🔍 [2025-10-28T22:58:33.731Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for XRPUSDT
🔍 [2025-10-28T22:58:33.731Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for XRPUSDT
⚠️ [2025-10-28T22:58:33.732Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ XRPUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=2

📝 ADICIONANDO XRPUSDT ao array opportunities (total agora: 3)
✅ XRPUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":2}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 SOLUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ SOLUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($194.8) = $0.19
📊 SOLUSDT: Preço $194.8000, Custo mínimo $0.19

🚀 Iniciando análise V2 para SOLUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando SOLUSDT tecnicamente (1h)...
📱 Analisando sentimento de SOLUSDT...
🔍 Analisando Twitter para SOLUSDT...
🔍 Analisando Reddit para SOLUSDT...
⛓️  Analisando on-chain de SOLUSDT...
📊 Analisando derivativos de SOLUSDT...
🌍 Analisando macro de SOLUSDT...
🐋 Analisando smart money de SOLUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo SOLUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para SOLUSDT: Request failed with status code 400
🔄 Usando fallback para SOLUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de SOLUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] SOLUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:58:35.683Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for SOLUSDT
🔍 [2025-10-28T22:58:35.685Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for SOLUSDT
🔍 [2025-10-28T22:58:35.686Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for SOLUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: VWAP = $192.6392
✅ SOLUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.12%
✅ SOLUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692316622&signature=13f21785578099a89d18757af5a1d3415b722ae2cf3355272cf89e13074cc4b1
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:36.392"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:36.392"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
🔍 [2025-10-28T22:58:36.530Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for SOLUSDT
✅ SOLUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ SOLUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
✅ SOLUSDT: ATR baixo (1.51%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.023334 → Notional: $4.55
⚠️ SOLUSDT: Valor da ordem ($3.90) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.030000 → Notional: $5.84
   💰 Margem ajustada: $1.17
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.17 (12.9% do saldo)
   Nocional (5x): $5.84
   Quantidade ajustada: 0.030000 SOL
   Valor da ordem: $5.84
🔍 Verificando margem: disponível=$9.09, necessária=$1.17, posições abertas=2
💰 Trade aprovado: Margem $1.17 @ 5x
   Notional: $5.84
   Risco: LOW
📊 SELL: SL=$197.7220 (+1.5%), TP=$188.8391 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:58:37.395Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for SOLUSDT
🔍 [2025-10-28T22:58:37.395Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for SOLUSDT
🔍 [2025-10-28T22:58:37.396Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for SOLUSDT
⚠️ [2025-10-28T22:58:37.396Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ SOLUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.03

📝 ADICIONANDO SOLUSDT ao array opportunities (total agora: 4)
✅ SOLUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.03}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692318039&signature=90ea036b1bb508d64334ad62f4d539c66d264baac7a9cdfd19971de28517041f
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:37.787"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:37.788"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.573","patternsDetected":2,"symbol":"BTCUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:37.907"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.851","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:37.909"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.880","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:37.910"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.327","patternsDetected":2,"symbol":"ADAUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:37.911"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.600","patternsDetected":2,"symbol":"SOLUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:37.911"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ETHUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.0001, stepSize: 0.0001
⚠️ ETHUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.0001) × price($3995.26) = $0.40
📊 ETHUSDT: Preço $3995.2600, Custo mínimo $0.40

🚀 Iniciando análise V2 para ETHUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ETHUSDT tecnicamente (1h)...
📱 Analisando sentimento de ETHUSDT...
🔍 Analisando Twitter para ETHUSDT...
🔍 Analisando Reddit para ETHUSDT...
⛓️  Analisando on-chain de ETHUSDT...
📊 Analisando derivativos de ETHUSDT...
🌍 Analisando macro de ETHUSDT...
🐋 Analisando smart money de ETHUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692318592&signature=3f6a7523fc669a5c9ae57e803849019b3c7895d67260ce19bb92483fbee9d416
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:38.473"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:58:38.473"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo ETHUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
[DEBUG] websocket: Pong recebido
⚠️ CryptoPanic API falhou para ETHUSDT: Request failed with status code 400
🔄 Usando fallback para ETHUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ETHUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ETHUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:58:39.521Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ETHUSDT
🔍 [2025-10-28T22:58:39.521Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ETHUSDT
🔍 [2025-10-28T22:58:39.522Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ETHUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: VWAP = $3974.4277
✅ ETHUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 0.52%
✅ ETHUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $48.0557 (14 períodos)
🔍 [2025-10-28T22:58:40.367Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ETHUSDT
✅ ETHUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ETHUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $48.0557 (14 períodos)
✅ ETHUSDT: ATR baixo (1.20%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.001138 → Notional: $4.55
⚠️ ETHUSDT: Valor da ordem ($4.00) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.002000 → Notional: $7.99
   💰 Margem ajustada: $1.60
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.60 (17.6% do saldo)
   Nocional (5x): $7.99
   Quantidade ajustada: 0.002000 ETH
   Valor da ordem: $7.99
🔍 Verificando margem: disponível=$9.09, necessária=$1.60, posições abertas=2
💰 Trade aprovado: Margem $1.60 @ 5x
   Notional: $7.99
   Risco: LOW
📊 SELL: SL=$4055.1889 (+1.5%), TP=$3873.0050 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:58:41.234Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ETHUSDT
🔍 [2025-10-28T22:58:41.235Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ETHUSDT
🔍 [2025-10-28T22:58:41.235Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ETHUSDT
⚠️ [2025-10-28T22:58:41.236Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ETHUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.002

📝 ADICIONANDO ETHUSDT ao array opportunities (total agora: 5)
✅ ETHUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.002}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BTCUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.00001, stepSize: 0.00001
⚠️ BTCUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.00001) × price($113207.19) = $1.13
📊 BTCUSDT: Preço $113207.1900, Custo mínimo $1.13

🚀 Iniciando análise V2 para BTCUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BTCUSDT tecnicamente (1h)...
📱 Analisando sentimento de BTCUSDT...
🔍 Analisando Twitter para BTCUSDT...
🔍 Analisando Reddit para BTCUSDT...
⛓️  Analisando on-chain de BTCUSDT...
📊 Analisando derivativos de BTCUSDT...
🌍 Analisando macro de BTCUSDT...
🐋 Analisando smart money de BTCUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo BTCUSDT não mapeado
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CryptoPanic API falhou para BTCUSDT: Request failed with status code 400
🔄 Usando fallback para BTCUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BTCUSDT nas últimas 6h
📊 Fear & Greed: 50 (Neutral)
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BTCUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:58:43.709Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BTCUSDT
🔍 [2025-10-28T22:58:43.710Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BTCUSDT
🔍 [2025-10-28T22:58:43.710Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BTCUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: VWAP = $111253.8849
✅ BTCUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.76%
✅ BTCUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
🔍 [2025-10-28T22:58:44.560Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BTCUSDT
✅ BTCUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BTCUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
✅ BTCUSDT: ATR baixo (0.73%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.000040 → Notional: $4.55
⏸️ BTCUSDT: Quantidade muito pequena (0 < minQty 0.001)
⏸️ BTCUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BNBUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ BNBUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($1106.35) = $1.11
📊 BNBUSDT: Preço $1106.3500, Custo mínimo $1.11

🚀 Iniciando análise V2 para BNBUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BNBUSDT tecnicamente (1h)...
📱 Analisando sentimento de BNBUSDT...
🔍 Analisando Twitter para BNBUSDT...
🔍 Analisando Reddit para BNBUSDT...
⛓️  Analisando on-chain de BNBUSDT...
📊 Analisando derivativos de BNBUSDT...
🌍 Analisando macro de BNBUSDT...
🐋 Analisando smart money de BNBUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo BNBUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CryptoPanic API falhou para BNBUSDT: Request failed with status code 400
🔄 Usando fallback para BNBUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BNBUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BNBUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:58:47.353Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BNBUSDT
🔍 [2025-10-28T22:58:47.353Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BNBUSDT
🔍 [2025-10-28T22:58:47.354Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BNBUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: VWAP = $1111.6197
⏸️ BNBUSDT: REJEITADO - Apenas 1 confirmações (necessário 2+)
   Detalhes: Confiança: 50%
⚠️ [2025-10-28T22:58:47.905Z] WARN [ANALYSIS_CAPTURE] ⚠️ Analysis warning recorded: Apenas 1 confirmações (necessário 2+)
⚠️ [2025-10-28T22:58:47.905Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save
⏸️ BNBUSDT: REJEITADO - Sem decision retornada

🏁 LOOP TERMINOU! Total de 8 símbolos analisados, 5 oportunidades adicionadas ao array

💰 CAPITAL BAIXO: Priorizando moedas mais BARATAS para maximizar quantidade de trades

📊 Top oportunidades encontradas (5 total):
   1. ADAUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.06
   2. DOGEUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   3. SOLUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   4. XRPUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.26
   5. ETHUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.40

✅ 5 oportunidades encontradas e prontas para execução!
📋 Detalhes das oportunidades:
   1. ADAUSDT: action=SELL, size=8, conf=50%
   2. DOGEUSDT: action=SELL, size=26, conf=50%
   3. SOLUSDT: action=SELL, size=0.03, conf=50%
   4. XRPUSDT: action=SELL, size=2, conf=50%
   5. ETHUSDT: action=SELL, size=0.002, conf=50%

🔚 RETORNANDO 5 oportunidades de getOptimalSymbols()

🔍 DEBUG - Chamou getOptimalSymbols(), recebeu 5 oportunidades
📊 Máximo de trades permitido: 2 (atualmente: 2)
💰 Capital disponível: $9.09
🎯 Analisando 5 oportunidades encontradas

📋 Oportunidades encontradas:
   1. ADAUSDT: Score -1.14, Conf 50%, Custo $0.06
   2. DOGEUSDT: Score -1.14, Conf 50%, Custo $0.19
   3. SOLUSDT: Score -1.14, Conf 50%, Custo $0.19
   4. XRPUSDT: Score -1.14, Conf 50%, Custo $0.26
   5. ETHUSDT: Score -1.14, Conf 50%, Custo $0.40

🎯 Oportunidades recebidas para execução: 5
🎯 Symbols array: [ 'ADAUSDT', 'DOGEUSDT', 'SOLUSDT', 'XRPUSDT', 'ETHUSDT' ]
✅ Limite de trades alcançado

🔄 Sincronizando 6 trades "open" com Binance...
⚠️ Trade ENAUSDT fechada na Binance, atualizando banco...
✅ Trade ENAUSDT_1761684024795_zmams atualizada para "closed"
⚠️ Trade XRPUSDT fechada na Binance, atualizando banco...
✅ Trade XRPUSDT_1761684028815_49gh9b atualizada para "closed"
⚠️ Trade XRPUSDT fechada na Binance, atualizando banco...
✅ Trade XRPUSDT_1761683267676_uizdtv atualizada para "closed"
✅ Sincronização concluída
⏳ Aguardando 5s para próxima análise...
⚠️ ActiveMonitoringService: Supabase not available, skipping equity monitoring
⚠️ ActiveMonitoringService: Supabase not available, skipping trades monitoring
⚠️ TradeStatusMonitor: Supabase not available, skipping status check
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price

🔄 Iteração #11 - Loop de trading ativo
🔍 DEBUG - Response completa de getFuturesAccountInfo:
  account.availableBalance: 9.09480454
  account.totalWalletBalance: 10.20080865
  account.totalMarginBalance: 10.19866791
💰 Saldo disponível: $9.09
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692334400&signature=3fe5d2e8aab912fb8a461f1e9c2449d2e3ff853dde65ea0a90c0e3021a97906b

🔍 MONITORAMENTO: Verificando 2 trades abertos...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 DOGEUSDT: Entry=0, Current=0.19403
   💰 P&L REAL (Binance): $-0.0005 (-0.80%)
   📋 Debug: isolatedMargin=0, estimatedMargin=0.06721894053333333
   ✅ DOGEUSDT dentro do limite. P&L: -0.80%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 ADAUSDT: Entry=0, Current=0.6481
   💰 P&L REAL (Binance): $-0.0016 (-0.15%)
   📋 Debug: isolatedMargin=0, estimatedMargin=1.0363200000000001
   ✅ ADAUSDT dentro do limite. P&L: -0.15%
⚠️ Rate limit crítico: 704/1000 (70.4%)
⏸️ Pausando 10s para evitar 429...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price

📊 Status: 2/2 trades abertos

🔍 Analisando oportunidades em 8 símbolos...
💰 Capital disponível: $9.09
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692346629&signature=7f4be33afadef35676575ca352329b549240460a7f284d7ec08a62ca4652fdde
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:06.370"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:06.371"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.876","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:06.695"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.840","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:06.697"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.482","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"0.100"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:06.698"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.776","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"0.800"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:06.700"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.851","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:06.701"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692348043&signature=49795a446d38eba7a3742c3f0525275d434efe2c637cfadeef95b282fbb469bb
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:07.805"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:07.807"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 DOGEUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 1, stepSize: 1
⚠️ DOGEUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(1) × price($0.19403) = $0.19
📊 DOGEUSDT: Preço $0.1940, Custo mínimo $0.19

🚀 Iniciando análise V2 para DOGEUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando DOGEUSDT tecnicamente (1h)...
📱 Analisando sentimento de DOGEUSDT...
🔍 Analisando Twitter para DOGEUSDT...
🔍 Analisando Reddit para DOGEUSDT...
⛓️  Analisando on-chain de DOGEUSDT...
📊 Analisando derivativos de DOGEUSDT...
🌍 Analisando macro de DOGEUSDT...
🐋 Analisando smart money de DOGEUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692348535&signature=2a0b6eb3e7e966916ba69a92203d12eb9947f0708473bae802f1292600683bee
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:08.344"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:08.345"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.763","patternsDetected":2,"symbol":"BTCUSDT","technicalScore":"0.800"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:08.544"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.550","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:08.546"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.757","patternsDetected":2,"symbol":"BNBUSDT","technicalScore":"0.800"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:08.547"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.237","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"0.100"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:08.547"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.857","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:08.548"}
[INFO] trading_engine: Symbol analysis completed
⚠️ CoinGecko: Símbolo DOGEUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
[DEBUG] websocket: Pong recebido
⚠️ CryptoPanic API falhou para DOGEUSDT: Request failed with status code 400
🔄 Usando fallback para DOGEUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de DOGEUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] DOGEUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:59:09.525Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for DOGEUSDT
🔍 [2025-10-28T22:59:09.525Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for DOGEUSDT
🔍 [2025-10-28T22:59:09.526Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for DOGEUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: VWAP = $0.1976
✅ DOGEUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.79%
✅ DOGEUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
🔍 [2025-10-28T22:59:10.362Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for DOGEUSDT
✅ DOGEUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ DOGEUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
✅ DOGEUSDT: ATR baixo (1.40%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 23.432971 → Notional: $4.55
⚠️ DOGEUSDT: Valor da ordem ($4.46) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 26.000000 → Notional: $5.05
   💰 Margem ajustada: $1.01
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.01 (11.1% do saldo)
   Nocional (5x): $5.05
   Quantidade ajustada: 26.000000 DOGE
   Valor da ordem: $5.05
🔍 Verificando margem: disponível=$9.09, necessária=$1.01, posições abertas=2
💰 Trade aprovado: Margem $1.01 @ 5x
   Notional: $5.05
   Risco: LOW
📊 SELL: SL=$0.1970 (+1.5%), TP=$0.1881 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:59:11.216Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for DOGEUSDT
🔍 [2025-10-28T22:59:11.216Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for DOGEUSDT
🔍 [2025-10-28T22:59:11.217Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for DOGEUSDT
⚠️ [2025-10-28T22:59:11.217Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ DOGEUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=26

📝 ADICIONANDO DOGEUSDT ao array opportunities (total agora: 1)
✅ DOGEUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":26}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ENAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ ENAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($0.4624) = $0.00
📊 ENAUSDT: Preço $0.4624, Custo mínimo $0.00

🚀 Iniciando análise V2 para ENAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ENAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ENAUSDT...
🔍 Analisando Twitter para ENAUSDT...
🔍 Analisando Reddit para ENAUSDT...
⛓️  Analisando on-chain de ENAUSDT...
📊 Analisando derivativos de ENAUSDT...
🌍 Analisando macro de ENAUSDT...
🐋 Analisando smart money de ENAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo ENAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ENAUSDT: Request failed with status code 400
🔄 Usando fallback para ENAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ENAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 7.08 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 5 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 80%
🔍 [DEBUG CONFIANÇA] Base técnico: 68%
🔍 [DEBUG CONFIANÇA] Sem penalidade (44% ativos é aceitável) = 68%
🔍 [DEBUG CONFIANÇA] Convergência: +3 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (3 vs 1) = 68%
🔍 [DEBUG CONFIANÇA] FINAL: 68%
✅ Score ponderado: 2.97 (Confiança: 68%)
📋 Sinal: STRONG_BUY weak
🧠 [V2] ENAUSDT: Score ponderado 2.97 (68% confiança)
📊 Sinal técnico V2: BUY (68%)
   Técnico: BUY (49.6 RSI, STRONG_DOWN, Tendência de baixa, Padrão: hammer, Volume acima da média). Score ponderado: 2.97. Confiança: 68%.
🔍 [2025-10-28T22:59:13.112Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ENAUSDT
🔍 [2025-10-28T22:59:13.113Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ENAUSDT
🔍 [2025-10-28T22:59:13.113Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ENAUSDT
⏸️ ENAUSDT: REJEITADO - STRONG_BUY contra tendência STRONG_DOWN
⏸️ ENAUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ADAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ ADAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($0.6483) = $0.06
📊 ADAUSDT: Preço $0.6483, Custo mínimo $0.06

🚀 Iniciando análise V2 para ADAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ADAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ADAUSDT...
🔍 Analisando Twitter para ADAUSDT...
🔍 Analisando Reddit para ADAUSDT...
⛓️  Analisando on-chain de ADAUSDT...
📊 Analisando derivativos de ADAUSDT...
🌍 Analisando macro de ADAUSDT...
🐋 Analisando smart money de ADAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo ADAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ADAUSDT: Request failed with status code 400
🔄 Usando fallback para ADAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ADAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ADAUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:59:16.015Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ADAUSDT
🔍 [2025-10-28T22:59:16.016Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ADAUSDT
🔍 [2025-10-28T22:59:16.016Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ADAUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: VWAP = $0.6545
✅ ADAUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -0.95%
✅ ADAUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
🔍 [2025-10-28T22:59:16.848Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ADAUSDT
✅ ADAUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ADAUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
✅ ADAUSDT: ATR baixo (1.39%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 7.014349 → Notional: $4.55
⚠️ ADAUSDT: Valor da ordem ($4.54) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 8.000000 → Notional: $5.19
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.04 (11.4% do saldo)
   Nocional (5x): $5.19
   Quantidade ajustada: 8.000000 ADA
   Valor da ordem: $5.19
🔍 Verificando margem: disponível=$9.09, necessária=$1.04, posições abertas=2
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.19
   Risco: LOW
📊 SELL: SL=$0.6580 (+1.5%), TP=$0.6285 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:59:18.517Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ADAUSDT
🔍 [2025-10-28T22:59:18.517Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ADAUSDT
🔍 [2025-10-28T22:59:18.518Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ADAUSDT
⚠️ [2025-10-28T22:59:18.518Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ADAUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=8

📝 ADICIONANDO ADAUSDT ao array opportunities (total agora: 2)
✅ ADAUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":8}
⚠️ ActiveMonitoringService: Supabase not available, skipping equity monitoring
⚠️ ActiveMonitoringService: Supabase not available, skipping trades monitoring
⚠️ TradeStatusMonitor: Supabase not available, skipping status check
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 XRPUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ XRPUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($2.6145) = $0.26
📊 XRPUSDT: Preço $2.6145, Custo mínimo $0.26

🚀 Iniciando análise V2 para XRPUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando XRPUSDT tecnicamente (1h)...
📱 Analisando sentimento de XRPUSDT...
🔍 Analisando Twitter para XRPUSDT...
🔍 Analisando Reddit para XRPUSDT...
⛓️  Analisando on-chain de XRPUSDT...
📊 Analisando derivativos de XRPUSDT...
🌍 Analisando macro de XRPUSDT...
🐋 Analisando smart money de XRPUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo XRPUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
 GET /api/binance/balance 404 in 44ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 331ms
 GET /api/trading/metrics 200 in 79ms
⚠️ CryptoPanic API falhou para XRPUSDT: Request failed with status code 400
🔄 Usando fallback para XRPUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de XRPUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] XRPUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:59:21.989Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for XRPUSDT
🔍 [2025-10-28T22:59:21.991Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for XRPUSDT
🔍 [2025-10-28T22:59:21.992Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for XRPUSDT
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.08744679,"equity":10.20020676},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:22.003"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:22.071"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 711ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: VWAP = $2.5197
✅ XRPUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 3.76%
✅ XRPUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0323 (14 períodos)
🔍 [2025-10-28T22:59:22.812Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for XRPUSDT
✅ XRPUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ XRPUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0323 (14 períodos)
✅ XRPUSDT: ATR baixo (1.23%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 1.739301 → Notional: $4.55
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ XRPUSDT: Valor da ordem ($4.44) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 2.000000 → Notional: $5.23
   💰 Margem ajustada: $1.05
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.05 (11.5% do saldo)
   Nocional (5x): $5.23
   Quantidade ajustada: 2.000000 XRP
   Valor da ordem: $5.23
🔍 Verificando margem: disponível=$9.09, necessária=$1.05, posições abertas=2
💰 Trade aprovado: Margem $1.05 @ 5x
   Notional: $5.23
   Risco: LOW
📊 SELL: SL=$2.6537 (+1.5%), TP=$2.5345 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:59:23.780Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for XRPUSDT
🔍 [2025-10-28T22:59:23.781Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for XRPUSDT
🔍 [2025-10-28T22:59:23.782Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for XRPUSDT
⚠️ [2025-10-28T22:59:23.783Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ XRPUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=2

📝 ADICIONANDO XRPUSDT ao array opportunities (total agora: 3)
✅ XRPUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":2}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 SOLUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ SOLUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($194.93) = $0.19
📊 SOLUSDT: Preço $194.9300, Custo mínimo $0.19

🚀 Iniciando análise V2 para SOLUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando SOLUSDT tecnicamente (1h)...
📱 Analisando sentimento de SOLUSDT...
🔍 Analisando Twitter para SOLUSDT...
🔍 Analisando Reddit para SOLUSDT...
⛓️  Analisando on-chain de SOLUSDT...
📊 Analisando derivativos de SOLUSDT...
🌍 Analisando macro de SOLUSDT...
🐋 Analisando smart money de SOLUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/time
⚠️ CoinGecko: Símbolo SOLUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CryptoPanic API falhou para SOLUSDT: Request failed with status code 400
🔄 Usando fallback para SOLUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de SOLUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] SOLUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:59:27.641Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for SOLUSDT
🔍 [2025-10-28T22:59:27.642Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for SOLUSDT
🔍 [2025-10-28T22:59:27.642Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for SOLUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: VWAP = $192.6396
✅ SOLUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.19%
✅ SOLUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
🔍 [2025-10-28T22:59:28.475Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for SOLUSDT
✅ SOLUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ SOLUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.9371 (14 períodos)
✅ SOLUSDT: ATR baixo (1.51%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.023328 → Notional: $4.55
⚠️ SOLUSDT: Valor da ordem ($3.90) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.030000 → Notional: $5.85
   💰 Margem ajustada: $1.17
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.17 (12.9% do saldo)
   Nocional (5x): $5.85
   Quantidade ajustada: 0.030000 SOL
   Valor da ordem: $5.85
🔍 Verificando margem: disponível=$9.09, necessária=$1.17, posições abertas=2
💰 Trade aprovado: Margem $1.17 @ 5x
   Notional: $5.85
   Risco: LOW
📊 SELL: SL=$197.8539 (+1.5%), TP=$188.9651 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:59:29.342Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for SOLUSDT
🔍 [2025-10-28T22:59:29.343Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for SOLUSDT
🔍 [2025-10-28T22:59:29.343Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for SOLUSDT
⚠️ [2025-10-28T22:59:29.344Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ SOLUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.03

📝 ADICIONANDO SOLUSDT ao array opportunities (total agora: 4)
✅ SOLUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.03}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ETHUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.0001, stepSize: 0.0001
⚠️ ETHUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.0001) × price($3995.25) = $0.40
📊 ETHUSDT: Preço $3995.2500, Custo mínimo $0.40

🚀 Iniciando análise V2 para ETHUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ETHUSDT tecnicamente (1h)...
📱 Analisando sentimento de ETHUSDT...
🔍 Analisando Twitter para ETHUSDT...
🔍 Analisando Reddit para ETHUSDT...
⛓️  Analisando on-chain de ETHUSDT...
📊 Analisando derivativos de ETHUSDT...
🌍 Analisando macro de ETHUSDT...
🐋 Analisando smart money de ETHUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CoinGecko: Símbolo ETHUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ETHUSDT: Request failed with status code 400
🔄 Usando fallback para ETHUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ETHUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ETHUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:59:31.212Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ETHUSDT
🔍 [2025-10-28T22:59:31.219Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ETHUSDT
🔍 [2025-10-28T22:59:31.221Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ETHUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: VWAP = $3974.4280
✅ ETHUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 0.52%
✅ ETHUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $48.0557 (14 períodos)
🔍 [2025-10-28T22:59:32.057Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ETHUSDT
✅ ETHUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ETHUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $48.0557 (14 períodos)
✅ ETHUSDT: ATR baixo (1.20%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.001138 → Notional: $4.55
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ ETHUSDT: Valor da ordem ($4.00) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.002000 → Notional: $7.99
   💰 Margem ajustada: $1.60
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.60 (17.6% do saldo)
   Nocional (5x): $7.99
   Quantidade ajustada: 0.002000 ETH
   Valor da ordem: $7.99
🔍 Verificando margem: disponível=$9.09, necessária=$1.60, posições abertas=2
💰 Trade aprovado: Margem $1.60 @ 5x
   Notional: $7.99
   Risco: LOW
📊 SELL: SL=$4055.1889 (+1.5%), TP=$3873.0050 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:59:33.450Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ETHUSDT
🔍 [2025-10-28T22:59:33.450Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ETHUSDT
🔍 [2025-10-28T22:59:33.450Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ETHUSDT
⚠️ [2025-10-28T22:59:33.451Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ETHUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.002

📝 ADICIONANDO ETHUSDT ao array opportunities (total agora: 5)
✅ ETHUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.002}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BTCUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.00001, stepSize: 0.00001
⚠️ BTCUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.00001) × price($113238) = $1.13
📊 BTCUSDT: Preço $113238.0000, Custo mínimo $1.13

🚀 Iniciando análise V2 para BTCUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BTCUSDT tecnicamente (1h)...
📱 Analisando sentimento de BTCUSDT...
🔍 Analisando Twitter para BTCUSDT...
🔍 Analisando Reddit para BTCUSDT...
⛓️  Analisando on-chain de BTCUSDT...
📊 Analisando derivativos de BTCUSDT...
🌍 Analisando macro de BTCUSDT...
🐋 Analisando smart money de BTCUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo BTCUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para BTCUSDT: Request failed with status code 400
🔄 Usando fallback para BTCUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BTCUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BTCUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:59:35.341Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BTCUSDT
🔍 [2025-10-28T22:59:35.341Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BTCUSDT
🔍 [2025-10-28T22:59:35.341Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BTCUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: VWAP = $111253.9541
✅ BTCUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.78%
✅ BTCUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
🔍 [2025-10-28T22:59:36.179Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BTCUSDT
✅ BTCUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BTCUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692376633&signature=40e02a0beaeab4687fd9d0ee8590989d1b57744a7b17fa503ccb295d398d52b4
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:36.373"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:36.374"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.55
   Tamanho máximo posição: $18.19
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $829.7821 (14 períodos)
✅ BTCUSDT: ATR baixo (0.73%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.000040 → Notional: $4.55
⏸️ BTCUSDT: Quantidade muito pequena (0 < minQty 0.001)
⏸️ BTCUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BNBUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ BNBUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($1106.71) = $1.11
📊 BNBUSDT: Preço $1106.7100, Custo mínimo $1.11

🚀 Iniciando análise V2 para BNBUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BNBUSDT tecnicamente (1h)...
📱 Analisando sentimento de BNBUSDT...
🔍 Analisando Twitter para BNBUSDT...
🔍 Analisando Reddit para BNBUSDT...
⛓️  Analisando on-chain de BNBUSDT...
📊 Analisando derivativos de BNBUSDT...
🌍 Analisando macro de BNBUSDT...
🐋 Analisando smart money de BNBUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692378046&signature=0dad3acd71dc729c64a29e302d9304654657425d7eead9d0ed90e36d12f95a6d
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:37.851"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:37.852"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.892","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:37.909"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.576","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:37.910"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.405","patternsDetected":2,"symbol":"BNBUSDT","technicalScore":"0.600"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:37.911"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.663","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"0.500"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:37.911"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.286","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:37.912"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692378551&signature=d0dc9c869edeafc6c57324209ab61b0793cb1252926ae456088fe6bb9e877bc5
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:38.355"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 19:59:38.356"}
[INFO] trading_engine: Account balance loaded
⚠️ CoinGecko: Símbolo BNBUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para BNBUSDT: Request failed with status code 400
🔄 Usando fallback para BNBUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BNBUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BNBUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:59:38.940Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BNBUSDT
🔍 [2025-10-28T22:59:38.941Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BNBUSDT
🔍 [2025-10-28T22:59:38.941Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BNBUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: VWAP = $1111.6199
⏸️ BNBUSDT: REJEITADO - Apenas 1 confirmações (necessário 2+)
   Detalhes: Confiança: 50%
⚠️ [2025-10-28T22:59:39.491Z] WARN [ANALYSIS_CAPTURE] ⚠️ Analysis warning recorded: Apenas 1 confirmações (necessário 2+)
⚠️ [2025-10-28T22:59:39.491Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save
⏸️ BNBUSDT: REJEITADO - Sem decision retornada

🏁 LOOP TERMINOU! Total de 8 símbolos analisados, 5 oportunidades adicionadas ao array

💰 CAPITAL BAIXO: Priorizando moedas mais BARATAS para maximizar quantidade de trades

📊 Top oportunidades encontradas (5 total):
   1. ADAUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.06
   2. DOGEUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   3. SOLUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   4. XRPUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.26
   5. ETHUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.40

✅ 5 oportunidades encontradas e prontas para execução!
📋 Detalhes das oportunidades:
   1. ADAUSDT: action=SELL, size=8, conf=50%
   2. DOGEUSDT: action=SELL, size=26, conf=50%
   3. SOLUSDT: action=SELL, size=0.03, conf=50%
   4. XRPUSDT: action=SELL, size=2, conf=50%
   5. ETHUSDT: action=SELL, size=0.002, conf=50%

🔚 RETORNANDO 5 oportunidades de getOptimalSymbols()

🔍 DEBUG - Chamou getOptimalSymbols(), recebeu 5 oportunidades
📊 Máximo de trades permitido: 2 (atualmente: 2)
💰 Capital disponível: $9.09
🎯 Analisando 5 oportunidades encontradas

📋 Oportunidades encontradas:
   1. ADAUSDT: Score -1.14, Conf 50%, Custo $0.06
   2. DOGEUSDT: Score -1.14, Conf 50%, Custo $0.19
   3. SOLUSDT: Score -1.14, Conf 50%, Custo $0.19
   4. XRPUSDT: Score -1.14, Conf 50%, Custo $0.26
   5. ETHUSDT: Score -1.14, Conf 50%, Custo $0.40

🎯 Oportunidades recebidas para execução: 5
🎯 Symbols array: [ 'ADAUSDT', 'DOGEUSDT', 'SOLUSDT', 'XRPUSDT', 'ETHUSDT' ]
✅ Limite de trades alcançado
⏳ Aguardando 5s para próxima análise...
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price

🔄 Iteração #12 - Loop de trading ativo
🔍 DEBUG - Response completa de getFuturesAccountInfo:
  account.availableBalance: 9.08775141
  account.totalWalletBalance: 10.20064158
  account.totalMarginBalance: 10.19226359
💰 Saldo disponível: $9.09
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692385356&signature=4f1eb5633e47778fbc0c4f3b0c2a6e6278ade210ce4765805b2350d7cef0dae5

🔍 MONITORAMENTO: Verificando 2 trades abertos...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 DOGEUSDT: Entry=0, Current=0.19413
   💰 P&L REAL (Binance): $-0.0035 (-5.27%)
   📋 Debug: isolatedMargin=0, estimatedMargin=0.06725898053333333
   ✅ DOGEUSDT dentro do limite. P&L: -5.27%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 ADAUSDT: Entry=0, Current=0.6485
   💰 P&L REAL (Binance): $-0.0046 (-0.44%)
   📋 Debug: isolatedMargin=0, estimatedMargin=1.036917984
   ✅ ADAUSDT dentro do limite. P&L: -0.44%

📊 Status: 2/2 trades abertos

🔍 Analisando oportunidades em 8 símbolos...
💰 Capital disponível: $9.09
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ ActiveMonitoringService: Supabase not available, skipping equity monitoring
⚠️ ActiveMonitoringService: Supabase not available, skipping trades monitoring
⚠️ TradeStatusMonitor: Supabase not available, skipping status check
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 DOGEUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 1, stepSize: 1
⚠️ DOGEUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(1) × price($0.19413) = $0.19
📊 DOGEUSDT: Preço $0.1941, Custo mínimo $0.19

🚀 Iniciando análise V2 para DOGEUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando DOGEUSDT tecnicamente (1h)...
📱 Analisando sentimento de DOGEUSDT...
🔍 Analisando Twitter para DOGEUSDT...
🔍 Analisando Reddit para DOGEUSDT...
⛓️  Analisando on-chain de DOGEUSDT...
📊 Analisando derivativos de DOGEUSDT...
🌍 Analisando macro de DOGEUSDT...
🐋 Analisando smart money de DOGEUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo DOGEUSDT não mapeado
⚠️ CryptoPanic API falhou para DOGEUSDT: Request failed with status code 400
🔄 Usando fallback para DOGEUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de DOGEUSDT nas últimas 6h
📊 Fear & Greed: 50 (Neutral)
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] DOGEUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:59:50.657Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for DOGEUSDT
🔍 [2025-10-28T22:59:50.659Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for DOGEUSDT
🔍 [2025-10-28T22:59:50.660Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for DOGEUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: VWAP = $0.1976
✅ DOGEUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.75%
✅ DOGEUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
🔍 [2025-10-28T22:59:51.511Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for DOGEUSDT
✅ DOGEUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ DOGEUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0027 (14 períodos)
✅ DOGEUSDT: ATR baixo (1.40%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 23.405149 → Notional: $4.54
⚠️ DOGEUSDT: Valor da ordem ($4.47) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 26.000000 → Notional: $5.05
   💰 Margem ajustada: $1.01
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.01 (11.1% do saldo)
   Nocional (5x): $5.05
   Quantidade ajustada: 26.000000 DOGE
   Valor da ordem: $5.05
🔍 Verificando margem: disponível=$9.09, necessária=$1.01, posições abertas=2
💰 Trade aprovado: Margem $1.01 @ 5x
   Notional: $5.05
   Risco: LOW
📊 SELL: SL=$0.1971 (+1.5%), TP=$0.1882 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T22:59:52.888Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for DOGEUSDT
🔍 [2025-10-28T22:59:52.888Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for DOGEUSDT
🔍 [2025-10-28T22:59:52.889Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for DOGEUSDT
⚠️ [2025-10-28T22:59:52.889Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ DOGEUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=26

📝 ADICIONANDO DOGEUSDT ao array opportunities (total agora: 1)
✅ DOGEUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":26}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ENAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ ENAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($0.4625) = $0.00
📊 ENAUSDT: Preço $0.4625, Custo mínimo $0.00

🚀 Iniciando análise V2 para ENAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ENAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ENAUSDT...
🔍 Analisando Twitter para ENAUSDT...
🔍 Analisando Reddit para ENAUSDT...
⛓️  Analisando on-chain de ENAUSDT...
📊 Analisando derivativos de ENAUSDT...
🌍 Analisando macro de ENAUSDT...
🐋 Analisando smart money de ENAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CoinGecko: Símbolo ENAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ENAUSDT: Request failed with status code 400
🔄 Usando fallback para ENAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ENAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 7.08 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 5 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 80%
🔍 [DEBUG CONFIANÇA] Base técnico: 68%
🔍 [DEBUG CONFIANÇA] Sem penalidade (44% ativos é aceitável) = 68%
🔍 [DEBUG CONFIANÇA] Convergência: +3 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (3 vs 1) = 68%
🔍 [DEBUG CONFIANÇA] FINAL: 68%
✅ Score ponderado: 2.97 (Confiança: 68%)
📋 Sinal: STRONG_BUY weak
🧠 [V2] ENAUSDT: Score ponderado 2.97 (68% confiança)
📊 Sinal técnico V2: BUY (68%)
   Técnico: BUY (49.6 RSI, STRONG_DOWN, Tendência de baixa, Padrão: hammer, Volume acima da média). Score ponderado: 2.97. Confiança: 68%.
🔍 [2025-10-28T22:59:55.574Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ENAUSDT
🔍 [2025-10-28T22:59:55.575Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ENAUSDT
🔍 [2025-10-28T22:59:55.575Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ENAUSDT
⏸️ ENAUSDT: REJEITADO - STRONG_BUY contra tendência STRONG_DOWN
⏸️ ENAUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ADAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ ADAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($0.6485) = $0.06
📊 ADAUSDT: Preço $0.6485, Custo mínimo $0.06

🚀 Iniciando análise V2 para ADAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ADAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ADAUSDT...
🔍 Analisando Twitter para ADAUSDT...
🔍 Analisando Reddit para ADAUSDT...
⛓️  Analisando on-chain de ADAUSDT...
📊 Analisando derivativos de ADAUSDT...
🌍 Analisando macro de ADAUSDT...
🐋 Analisando smart money de ADAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CoinGecko: Símbolo ADAUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ADAUSDT: Request failed with status code 400
🔄 Usando fallback para ADAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ADAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ADAUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T22:59:58.465Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ADAUSDT
🔍 [2025-10-28T22:59:58.466Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ADAUSDT
🔍 [2025-10-28T22:59:58.466Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ADAUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: VWAP = $0.6545
✅ ADAUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -0.95%
✅ ADAUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
🔍 [2025-10-28T22:59:59.294Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ADAUSDT
✅ ADAUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ADAUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0090 (14 períodos)
✅ ADAUSDT: ATR baixo (1.39%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 7.008909 → Notional: $4.54
⚠️ ADAUSDT: Valor da ordem ($4.54) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 8.000000 → Notional: $5.19
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.04 (11.4% do saldo)
   Nocional (5x): $5.19
   Quantidade ajustada: 8.000000 ADA
   Valor da ordem: $5.19
🔍 Verificando margem: disponível=$9.09, necessária=$1.04, posições abertas=2
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.19
   Risco: LOW
📊 SELL: SL=$0.6580 (+1.5%), TP=$0.6285 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T23:00:00.223Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ADAUSDT
🔍 [2025-10-28T23:00:00.223Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ADAUSDT
🔍 [2025-10-28T23:00:00.224Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ADAUSDT
⚠️ [2025-10-28T23:00:00.224Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ADAUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=8

📝 ADICIONANDO ADAUSDT ao array opportunities (total agora: 2)
✅ ADAUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":8}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 XRPUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ XRPUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($2.6111) = $0.26
📊 XRPUSDT: Preço $2.6111, Custo mínimo $0.26

🚀 Iniciando análise V2 para XRPUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando XRPUSDT tecnicamente (1h)...
📱 Analisando sentimento de XRPUSDT...
🔍 Analisando Twitter para XRPUSDT...
🔍 Analisando Reddit para XRPUSDT...
⛓️  Analisando on-chain de XRPUSDT...
📊 Analisando derivativos de XRPUSDT...
🌍 Analisando macro de XRPUSDT...
🐋 Analisando smart money de XRPUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo XRPUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para XRPUSDT: Request failed with status code 400
🔄 Usando fallback para XRPUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de XRPUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] XRPUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T23:00:03.126Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for XRPUSDT
🔍 [2025-10-28T23:00:03.126Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for XRPUSDT
🔍 [2025-10-28T23:00:03.127Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for XRPUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: VWAP = $2.5200
✅ XRPUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 3.60%
✅ XRPUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0308 (14 períodos)
🔍 [2025-10-28T23:00:03.968Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for XRPUSDT
✅ XRPUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ XRPUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0308 (14 períodos)
✅ XRPUSDT: ATR baixo (1.18%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 1.740415 → Notional: $4.54
⚠️ XRPUSDT: Valor da ordem ($4.44) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 2.000000 → Notional: $5.22
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.04 (11.5% do saldo)
   Nocional (5x): $5.22
   Quantidade ajustada: 2.000000 XRP
   Valor da ordem: $5.22
🔍 Verificando margem: disponível=$9.09, necessária=$1.04, posições abertas=2
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.22
   Risco: LOW
📊 SELL: SL=$2.6500 (+1.5%), TP=$2.5309 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T23:00:04.866Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for XRPUSDT
🔍 [2025-10-28T23:00:04.866Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for XRPUSDT
🔍 [2025-10-28T23:00:04.867Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for XRPUSDT
⚠️ [2025-10-28T23:00:04.867Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ XRPUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=2

📝 ADICIONANDO XRPUSDT ao array opportunities (total agora: 3)
✅ XRPUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":2}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 SOLUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ SOLUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($194.86) = $0.19
📊 SOLUSDT: Preço $194.8600, Custo mínimo $0.19

🚀 Iniciando análise V2 para SOLUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando SOLUSDT tecnicamente (1h)...
📱 Analisando sentimento de SOLUSDT...
🔍 Analisando Twitter para SOLUSDT...
🔍 Analisando Reddit para SOLUSDT...
⛓️  Analisando on-chain de SOLUSDT...
📊 Analisando derivativos de SOLUSDT...
🌍 Analisando macro de SOLUSDT...
🐋 Analisando smart money de SOLUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692406690&signature=098db5c8281ef935f519a0936f12f0934118ec350dbef91dac9ff2188440b7e5
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:06.458"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:06.459"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.852","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:06.701"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.323","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:06.702"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.612","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:06.703"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.844","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:06.704"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.342","patternsDetected":2,"symbol":"SOLUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:06.705"}
[INFO] trading_engine: Symbol analysis completed
⚠️ CoinGecko: Símbolo SOLUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para SOLUSDT: Request failed with status code 400
🔄 Usando fallback para SOLUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de SOLUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] SOLUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T23:00:07.232Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for SOLUSDT
🔍 [2025-10-28T23:00:07.233Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for SOLUSDT
🔍 [2025-10-28T23:00:07.233Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for SOLUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: VWAP = $192.6462
✅ SOLUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.19%
✅ SOLUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692408057&signature=d48ef3fc08242ca4a83627f738649f4740c72a8d1162331c036cfc001d63b12b
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:07.809"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:07.810"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.7764 (14 períodos)
🔍 [2025-10-28T23:00:08.064Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for SOLUSDT
✅ SOLUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ SOLUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761692408564&signature=03236a492765e93344425776a905892ec75f2fdb049e51b09670279eca672f4c
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:08.406"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:08.407"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"2ms","overallScore":"0.600","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:08.556"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.726","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.700"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:08.557"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"2ms","overallScore":"0.744","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"0.700"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:08.560"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.852","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:08.561"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.269","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"0.300"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:08.562"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.7764 (14 períodos)
✅ SOLUSDT: ATR baixo (1.42%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.023310 → Notional: $4.54
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ SOLUSDT: Valor da ordem ($3.90) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.030000 → Notional: $5.85
   💰 Margem ajustada: $1.17
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.17 (12.9% do saldo)
   Nocional (5x): $5.85
   Quantidade ajustada: 0.030000 SOL
   Valor da ordem: $5.85
🔍 Verificando margem: disponível=$9.09, necessária=$1.17, posições abertas=2
💰 Trade aprovado: Margem $1.17 @ 5x
   Notional: $5.85
   Risco: LOW
📊 SELL: SL=$197.8539 (+1.5%), TP=$188.9651 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T23:00:08.937Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for SOLUSDT
🔍 [2025-10-28T23:00:08.938Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for SOLUSDT
🔍 [2025-10-28T23:00:08.940Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for SOLUSDT
⚠️ [2025-10-28T23:00:08.940Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ SOLUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.03

📝 ADICIONANDO SOLUSDT ao array opportunities (total agora: 4)
✅ SOLUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.03}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ETHUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.0001, stepSize: 0.0001
⚠️ ETHUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.0001) × price($3996.16) = $0.40
📊 ETHUSDT: Preço $3996.1600, Custo mínimo $0.40

🚀 Iniciando análise V2 para ETHUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ETHUSDT tecnicamente (1h)...
📱 Analisando sentimento de ETHUSDT...
🔍 Analisando Twitter para ETHUSDT...
🔍 Analisando Reddit para ETHUSDT...
⛓️  Analisando on-chain de ETHUSDT...
📊 Analisando derivativos de ETHUSDT...
🌍 Analisando macro de ETHUSDT...
🐋 Analisando smart money de ETHUSDT...
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] websocket: Pong recebido
⚠️ CoinGecko: Símbolo ETHUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para ETHUSDT: Request failed with status code 400
🔄 Usando fallback para ETHUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ETHUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ETHUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T23:00:11.921Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ETHUSDT
🔍 [2025-10-28T23:00:11.921Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ETHUSDT
🔍 [2025-10-28T23:00:11.921Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ETHUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: VWAP = $3973.9162
✅ ETHUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 0.54%
✅ ETHUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $46.3829 (14 períodos)
🔍 [2025-10-28T23:00:12.761Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ETHUSDT
✅ ETHUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ ETHUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $4.54
   Tamanho máximo posição: $18.18
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $46.3829 (14 períodos)
✅ ETHUSDT: ATR baixo (1.16%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $9.09
   Margem para trade: $0.91
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.001137 → Notional: $4.54
⚠️ ETHUSDT: Valor da ordem ($4.00) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.002000 → Notional: $7.99
   💰 Margem ajustada: $1.60
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $9.09
   Margem usada: $1.60 (17.6% do saldo)
   Nocional (5x): $7.99
   Quantidade ajustada: 0.002000 ETH
   Valor da ordem: $7.99
🔍 Verificando margem: disponível=$9.09, necessária=$1.60, posições abertas=2
💰 Trade aprovado: Margem $1.60 @ 5x
   Notional: $7.99
   Risco: LOW
📊 SELL: SL=$4055.1381 (+1.5%), TP=$3872.9566 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-28T23:00:13.675Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ETHUSDT
🔍 [2025-10-28T23:00:13.676Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ETHUSDT
🔍 [2025-10-28T23:00:13.676Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ETHUSDT
⚠️ [2025-10-28T23:00:13.677Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ETHUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.002

📝 ADICIONANDO ETHUSDT ao array opportunities (total agora: 5)
✅ ETHUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.002}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
 GET /api/binance/balance 404 in 80ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BTCUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.00001, stepSize: 0.00001
⚠️ BTCUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.00001) × price($113212.88) = $1.13
📊 BTCUSDT: Preço $113212.8800, Custo mínimo $1.13

🚀 Iniciando análise V2 para BTCUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BTCUSDT tecnicamente (1h)...
📱 Analisando sentimento de BTCUSDT...
🔍 Analisando Twitter para BTCUSDT...
🔍 Analisando Reddit para BTCUSDT...
⛓️  Analisando on-chain de BTCUSDT...
📊 Analisando derivativos de BTCUSDT...
🌍 Analisando macro de BTCUSDT...
🐋 Analisando smart money de BTCUSDT...
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 534ms
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.0904877,"equity":10.20109496},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:14.899"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
 GET /api/trading/metrics 200 in 118ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-28 20:00:15.151"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 895ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
⚠️ CoinGecko: Símbolo BTCUSDT não mapeado
🎯 Fear & Greed: Neutral (50) - Sentimento neutro
⚠️ CryptoPanic API falhou para BTCUSDT: Request failed with status code 400
🔄 Usando fallback para BTCUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BTCUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BTCUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-28T23:00:15.938Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BTCUSDT
🔍 [2025-10-28T23:00:15.938Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BTCUSDT
🔍 [2025-10-28T23:00:15.939Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BTCUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: VWAP = $111253.7893
✅ BTCUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.76%
✅ BTCUSDT: Dados de volume não disponíveis