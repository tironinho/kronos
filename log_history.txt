      'Content-Type': 'application/json',
      'User-Agent': 'Kronos-X-Engine/1.0.0',
      'Accept-Encoding': 'gzip, compress, deflate, br'
    },
    baseURL: 'https://fapi.binance.com',
    params: { symbol: 'FTMUSDT' },
    method: 'get',
    url: '/fapi/v1/openInterest',
    allowAbsoluteUrls: true,
    data: undefined
  },
  request: <ref *1> ClientRequest {
    _events: [Object: null prototype] {
      abort: [Function (anonymous)],
      aborted: [Function (anonymous)],
      connect: [Function (anonymous)],
      error: [Function (anonymous)],
      socket: [Function (anonymous)],
      timeout: [Function (anonymous)],
      finish: [Function: requestOnFinish]
    },
    _eventsCount: 7,
    _maxListeners: undefined,
    outputData: [],
    outputSize: 0,
    writable: true,
    destroyed: true,
    _last: true,
    chunkedEncoding: false,
    shouldKeepAlive: true,
    maxRequestsOnConnectionReached: false,
    _defaultKeepAlive: true,
    useChunkedEncodingByDefault: false,
    sendDate: false,
    _removedConnection: false,
    _removedContLen: false,
    _removedTE: false,
    strictContentLength: false,
    _contentLength: 0,
    _hasBody: true,
    _trailer: '',
    finished: true,
    _headerSent: true,
    _closed: true,
    _header: 'GET /fapi/v1/openInterest?symbol=FTMUSDT HTTP/1.1\r\n' +
      'Accept: application/json, text/plain, */*\r\n' +
      'Content-Type: application/json\r\n' +
      'User-Agent: Kronos-X-Engine/1.0.0\r\n' +
      'Accept-Encoding: gzip, compress, deflate, br\r\n' +
      'Host: fapi.binance.com\r\n' +
      'Connection: keep-alive\r\n' +
      '\r\n',
    _keepAliveTimeout: 0,
    _onPendingData: [Function: nop],
    agent: Agent {
      _events: [Object: null prototype],
      _eventsCount: 2,
      _maxListeners: undefined,
      defaultPort: 443,
      protocol: 'https:',
      options: [Object: null prototype],
      requests: [Object: null prototype] {},
      sockets: [Object: null prototype],
      freeSockets: [Object: null prototype],
      keepAliveMsecs: 1000,
      keepAlive: true,
      maxSockets: Infinity,
      maxFreeSockets: 256,
      scheduling: 'lifo',
      maxTotalSockets: Infinity,
      totalSocketCount: 6,
      maxCachedSessions: 100,
      _sessionCache: [Object],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false
    },
    socketPath: undefined,
    method: 'GET',
    maxHeaderSize: undefined,
    insecureHTTPParser: undefined,
    joinDuplicateHeaders: undefined,
    path: '/fapi/v1/openInterest?symbol=FTMUSDT',
    _ended: true,
    res: IncomingMessage {
      _events: [Object],
      _readableState: [ReadableState],
      _maxListeners: undefined,
      socket: null,
      httpVersionMajor: 1,
      httpVersionMinor: 1,
      httpVersion: '1.1',
      complete: true,
      rawHeaders: [Array],
      rawTrailers: [],
      joinDuplicateHeaders: undefined,
      aborted: false,
      upgrade: false,
      url: '',
      method: null,
      statusCode: 400,
      statusMessage: 'Bad Request',
      client: [TLSSocket],
      _consuming: false,
      _dumped: false,
      req: [Circular *1],
      _eventsCount: 4,
      responseUrl: 'https://fapi.binance.com/fapi/v1/openInterest?symbol=FTMUSDT',
      redirects: [],
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false,
      [Symbol(kHeaders)]: [Object],
      [Symbol(kHeadersCount)]: 18,
      [Symbol(kTrailers)]: null,
      [Symbol(kTrailersCount)]: 0
    },
    aborted: false,
    timeoutCb: null,
    upgradeOrConnect: false,
    parser: null,
    maxHeadersCount: null,
    reusedSocket: true,
    host: 'fapi.binance.com',
    protocol: 'https:',
    _redirectable: Writable {
      _events: [Object],
      _writableState: [WritableState],
      _maxListeners: undefined,
      _options: [Object],
      _ended: true,
      _ending: true,
      _redirectCount: 0,
      _redirects: [],
      _requestBodyLength: 0,
      _requestBodyBuffers: [],
      _eventsCount: 3,
      _onNativeResponse: [Function (anonymous)],
      _currentRequest: [Circular *1],
      _currentUrl: 'https://fapi.binance.com/fapi/v1/openInterest?symbol=FTMUSDT',
      _timeout: null,
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false
    },
    [Symbol(shapeMode)]: false,
    [Symbol(kCapture)]: false,
    [Symbol(kBytesWritten)]: 0,
    [Symbol(kNeedDrain)]: false,
    [Symbol(corked)]: 0,
    [Symbol(kChunkedBuffer)]: [],
    [Symbol(kChunkedLength)]: 0,
    [Symbol(kSocket)]: TLSSocket {
      _tlsOptions: [Object],
      _secureEstablished: true,
      _securePending: false,
      _newSessionPending: false,
      _controlReleased: true,
      secureConnecting: false,
      _SNICallback: null,
      servername: 'fapi.binance.com',
      alpnProtocol: false,
      authorized: true,
      authorizationError: null,
      encrypted: true,
      _events: [Object: null prototype],
      _eventsCount: 9,
      connecting: false,
      _hadError: false,
      _parent: null,
      _host: 'fapi.binance.com',
      _closeAfterHandlingError: false,
      _readableState: [ReadableState],
      _writableState: [WritableState],
      allowHalfOpen: false,
      _maxListeners: undefined,
      _sockname: null,
      _pendingData: null,
      _pendingEncoding: '',
      server: undefined,
      _server: null,
      ssl: null,
      _requestCert: true,
      _rejectUnauthorized: true,
      timeout: 5000,
      parser: null,
      _httpMessage: null,
      autoSelectFamilyAttemptedAddresses: [Array],
      handle: [TLSWrap],
      [Symbol(alpncallback)]: null,
      [Symbol(res)]: [TLSWrap],
      [Symbol(verified)]: true,
      [Symbol(pendingSession)]: null,
      [Symbol(async_id_symbol)]: -1,
      [Symbol(kHandle)]: [TLSWrap],
      [Symbol(lastWriteQueueSize)]: 0,
      [Symbol(timeout)]: Timeout {
        _idleTimeout: 5000,
        _idlePrev: [TimersList],
        _idleNext: [Timeout],
        _idleStart: 900582,
        _onTimeout: [Function: bound ],
        _timerArgs: undefined,
        _repeat: null,
        _destroyed: false,
        [Symbol(refed)]: false,
        [Symbol(kHasPrimitive)]: false,
        [Symbol(asyncId)]: 909690,
        [Symbol(triggerId)]: 909688,
        [Symbol(kAsyncContextFrame)]: undefined,
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined
      },
      [Symbol(kBuffer)]: null,
      [Symbol(kBufferCb)]: null,
      [Symbol(kBufferGen)]: null,
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false,
      [Symbol(kSetNoDelay)]: false,
      [Symbol(kSetKeepAlive)]: true,
      [Symbol(kSetKeepAliveInitialDelay)]: 1,
      [Symbol(kBytesRead)]: 0,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(connect-options)]: [Object]
    },
    [Symbol(kOutHeaders)]: [Object: null prototype] {
      accept: [Array],
      'content-type': [Array],
      'user-agent': [Array],
      'accept-encoding': [Array],
      host: [Array]
    },
    [Symbol(errored)]: null,
    [Symbol(kHighWaterMark)]: 16384,
    [Symbol(kRejectNonStandardBodyWrites)]: false,
    [Symbol(kUniqueHeaders)]: null
  },
  response: {
    status: 400,
    statusText: 'Bad Request',
    headers: Object [AxiosHeaders] {
      date: 'Wed, 29 Oct 2025 03:11:12 GMT',
      'content-type': 'application/json',
      'content-length': '97',
      connection: 'keep-alive',
      server: 'Tengine',
      'x-mbx-used-weight-1m': '45',
      'x-response-time': '0ms',
      'access-control-allow-origin': '*',
      'access-control-allow-methods': 'GET, POST, PUT, DELETE, OPTIONS'
    },
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 10000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://fapi.binance.com',
      params: [Object],
      method: 'get',
      url: '/fapi/v1/openInterest',
      allowAbsoluteUrls: true,
      data: undefined
    },
    request: <ref *1> ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: true,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: false,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 0,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'GET /fapi/v1/openInterest?symbol=FTMUSDT HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'User-Agent: Kronos-X-Engine/1.0.0\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: fapi.binance.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'GET',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/fapi/v1/openInterest?symbol=FTMUSDT',
      _ended: true,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: null,
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: true,
      host: 'fapi.binance.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 16384,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    data: {
      code: -4108,
      msg: 'Symbol is on delivering or delivered or settling or closed or pre-trading.'
    }
  },
  status: 400
}
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.71260411,"equity":10.19555093},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:11.583"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:11.673"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 669ms
⚠️ CoinGecko: Símbolo FTMUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para FTMUSDT: Request failed with status code 400
🔄 Usando fallback para FTMUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de FTMUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: 0.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 7 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 13%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (22% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -0 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: 6.88 (Confiança: 50%)
📋 Sinal: STRONG_BUY strong
🧠 [V2] FTMUSDT: Score ponderado 6.88 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: 6.88. Confiança: 50%.
🔍 [2025-10-29T03:11:11.950Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for FTMUSDT
Nenhum dado de equity encontrado para FTMUSDT
📊 FTMUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 45.8%
🔍 [2025-10-29T03:11:12.015Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for FTMUSDT
🔍 [2025-10-29T03:11:12.016Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for FTMUSDT
⏸️ FTMUSDT: REJEITADO - STRONG_BUY contra tendência DOWN
⏸️ FTMUSDT: REJEITADO - Sem decision retornada

🏁 LOOP TERMINOU! Total de 15 símbolos analisados, 8 oportunidades adicionadas ao array

💎 CAPITAL ALTO: Priorizando moedas com MELHOR SCORE para maximizar lucro

📊 Top oportunidades encontradas (8 total):
   1. MATICUSDT: Score 10.59, Confiança 58%, Custo mínimo $0.04
   2. DOGEUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   3. XRPUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.26
   4. LINKUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.18
   5. ATOMUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.03

✅ 8 oportunidades encontradas e prontas para execução!
📋 Detalhes das oportunidades:
   1. MATICUSDT: action=BUY, size=13.178703215603583, conf=58%
   2. DOGEUSDT: action=SELL, size=26, conf=50%
   3. XRPUSDT: action=SELL, size=2, conf=50%
   4. LINKUSDT: action=SELL, size=0.29, conf=50%
   5. ATOMUSDT: action=SELL, size=1.62, conf=50%
   6. NEARUSDT: action=SELL, size=3, conf=50%
   7. SOLUSDT: action=SELL, size=0.03, conf=55%
   8. ADAUSDT: action=SELL, size=8, conf=58%

🔚 RETORNANDO 8 oportunidades de getOptimalSymbols()
🎯 Encontradas 8 oportunidades

🚀 EXECUÇÃO DE TRADES - Ciclo 9:
📊 DEBUG - Status antes da execução:
   isRunning: true
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 1
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade
   canOpenNewTrade: true
   openTrades.size: 1
   opportunities.length: 8
🎯 Processando 2 oportunidades (máximo 2 por ciclo)...

🔍 OPORTUNIDADE 1/2: MATICUSDT
   Action: BUY
   Size: 13.178703215603583
   Confidence: 58%
   Score: 10.594339622641511
🔍 Verificando condições para execução:
   isRunning: true
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 1
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade
   canOpenNewTrade: true
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 1
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade
✅ Condições OK - Executando trade MATICUSDT...

🎯 EXECUTANDO BUY MATICUSDT COM DINHEIRO REAL...
   Confiança: 58%
   Tamanho: 13.1787
   Entrada: $0.38
   Stop Loss: $0.37
   Take Profit: $0.39
   ⚠️⚠️⚠️ EXECUTANDO COM DINHEIRO REAL ⚠️⚠️⚠️
📊 Snapshot do equity salvo para MATICUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price

🔍 DEBUG executeTrade:
   📊 priceData: { symbol: 'MATICUSDT', price: '0.37940000' }
   💰 currentPrice: 0.3794
   📦 decision.size (quantity): 13.178703215603583
   📋 decision.entry: 0.3794
🔧 Precisão ajustada: 13.178703215603583 → 13.17 (stepSize: 0.01)
   🎯 Final quantity: 13.17, notional: $5.00

📊 Criando ordem REAL na Binance:
   Symbol: MATICUSDT
   Side: BUY
   Type: MARKET
   Quantity: 13.170000
   Notional: $5.00
✅ Notional: $5.00 - Binance decidirá se aceita ou não
Deseja finalizar o arquivo em lotes (S/N)?

^C
C:\Users\Pichau\Downloads\kronos-x_starter_with_db\engine-v2>npm run dev

> engine-v2@0.1.0 dev
> next dev

  ▲ Next.js 14.2.33
  - Local:        http://localhost:3000
  - Environments: .env.local

 ✓ Starting...
 ✓ Ready in 2.6s
 ○ Compiling / ...
 ✓ Compiled / in 948ms (435 modules)
 ✓ Compiled in 855ms (271 modules)
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
✅ Credenciais Binance configuradas (keys sanitizadas no log)
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
✅ Credenciais Binance configuradas (keys sanitizadas no log)
✅ Supabase client inicializado
info: Monte Carlo Engine initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"confidence_level":0.95,"drift_factor":0,"forecast_period_minutes":60,"num_simulations":10000,"parallel_threads":4,"volatility_factor":1}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.397"}
[INFO] trading_engine: Monte Carlo Engine initialized
info: Order Manager initialized {"action":"data_processing","component":"trading_engine","data":{"riskConfig":{"max_daily_loss_percent":0.05,"max_drawdown_percent":0.1,"max_open_positions":5,"max_position_size_usd":1000,"position_size_percent":0.1,"stop_loss_percent":0.01,"take_profit_percent":0.02}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.406"}
[INFO] trading_engine: Order Manager initialized
info: Account Balance Manager initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"balance_change_threshold_percent":5,"high_balance_threshold_usdt":50000,"low_balance_threshold_usdt":100,"max_retry_attempts":3,"refresh_interval_ms":30000,"retry_delay_ms":1000}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.408"}
[INFO] trading_engine: Account Balance Manager initialized
info: Auto refresh started {"action":"data_processing","component":"trading_engine","data":{"intervalMs":30000},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.409"}
[INFO] trading_engine: Auto refresh started
info: Backes Trader AI Agent initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"analysis_depth":"ADVANCED","decision_confidence_threshold":0.7,"max_analysis_time_ms":30000,"max_tokens":2000,"model":"gpt-4","retry_attempts":3,"system_prompt":"You are Backes Trader V2, an advanced AI trading agent specializing in cryptocurrency markets. \n\nYour capabilities:\n- Advanced technical analysis using multiple indicators\n- Fundamental analysis of market conditions\n- Risk assessment and management\n- Sentiment analysis from multiple sources\n- Pattern recognition and trend analysis\n- Portfolio optimization recommendations\n\nYour objectives:\n- Achieve 90%+ accuracy in trading decisions\n- Maximize risk-adjusted returns\n- Minimize drawdowns\n- Provide clear, actionable insights\n- Maintain consistent performance\n\nAlways provide:\n1. Clear reasoning for your analysis\n2. Confidence levels for your predictions\n3. Risk assessments\n4. Specific price targets and stop-loss levels\n5. Time horizons for recommendations\n\nBe precise, data-driven, and conservative in your approach.","temperature":0.3}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.410"}
[INFO] trading_engine: Backes Trader AI Agent initialized
info: Database Manager initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"connection_pool_size":10,"connection_timeout_ms":30000,"database":"kronos_x.db","host":"localhost","port":5432,"retry_attempts":3,"ssl":false,"type":"SQLITE"}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.412"}
[INFO] trading_engine: Database Manager initialized
info: Sentiment Analysis Engine initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"api_keys":{},"confidence_threshold":0.6,"engagement_weight":0.2,"keywords_weight":0.3,"max_history_days":7,"sources":["news","social","fear_greed","market"],"time_decay_factor":0.95,"update_interval_ms":300000}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.413"}
[INFO] trading_engine: Sentiment Analysis Engine initialized
info: On-Chain Analysis Engine initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"api_keys":{},"defi_protocols":[],"exchange_addresses":[],"metrics":{"active_addresses":true,"defi_metrics":true,"exchange_flows":true,"mining_data":true,"network_health":true,"transaction_count":true,"whale_movements":true},"mining_pools":[],"networks":["bitcoin","ethereum","bsc","polygon"],"update_interval_ms":300000,"whale_threshold_usd":1000000}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.416"}
[INFO] trading_engine: On-Chain Analysis Engine initialized
info: Neural network model initialized {"action":"data_processing","component":"trading_engine","data":{"model":{"activation":"relu","layers":[128,64,32],"loss":"mse","optimizer":"adam"}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.425"}
[INFO] trading_engine: Neural network model initialized
info: RL Agent initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"activation_function":"relu","batch_size":32,"discount_factor":0.95,"evaluation_frequency":50,"exploration_decay":0.995,"exploration_rate":0.1,"learning_rate":0.001,"loss_function":"mse","max_episode_length":1000,"memory_size":10000,"min_exploration_rate":0.01,"network_layers":[128,64,32],"optimizer":"adam","reward_scaling":1,"target_update_frequency":100,"training_frequency":10}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.426"}
[INFO] trading_engine: RL Agent initialized
info: Trading Integration Engine initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"alerts":{"channels":["console","email"],"enabled":true,"thresholds":{"position_size":0.05,"profit_loss":1000,"risk_level":0.8}},"enabled_strategies":["signal_engine","monte_carlo","confidence_model"],"execution":{"execution_mode":"PAPER","max_execution_delay":5000,"retry_attempts":3,"slippage_tolerance":0.001},"integration":{"ai_agent":true,"confidence_model":true,"ml_models":true,"monte_carlo":true,"onchain_analysis":true,"reinforcement_learning":true,"sentiment_analysis":true,"signal_engine":true},"risk_management":{"max_daily_loss":0.05,"max_drawdown":0.1,"max_position_size":0.1,"stop_loss_percent":0.02,"take_profit_percent":0.04}}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.428"}
[INFO] trading_engine: Trading Integration Engine initialized
info: Symbol Analyzer initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"analysis_interval_ms":60000,"patterns":{"candlestick_patterns":true,"chart_patterns":true,"price_patterns":true,"volume_patterns":true},"ranking":{"criteria":["technical_score","volume_score","momentum_score"],"enabled":true,"update_frequency_ms":300000,"weights":{"momentum_score":0.3,"technical_score":0.4,"volume_score":0.3}},"symbols":["BTCUSDT","ETHUSDT","BNBUSDT","ADAUSDT","SOLUSDT"],"technical_indicators":{"adx_period":14,"atr_period":14,"bollinger_period":20,"bollinger_std":2,"cci_period":20,"ema_periods":[12,26],"macd_fast":12,"macd_signal":9,"macd_slow":26,"momentum_period":10,"roc_period":10,"rsi_period":14,"sma_periods":[20,50,200],"stochastic_d_period":3,"stochastic_k_period":14,"williams_r_period":14}}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.430"}
[INFO] trading_engine: Symbol Analyzer initialized
info: Derivatives Trading Engine initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"enabled_derivatives":["BTCUSDT","ETHUSDT","BNBUSDT"],"execution":{"execution_mode":"PAPER","max_execution_delay":5000,"slippage_tolerance":0.001},"leverage_limits":{"default_leverage":5,"max_leverage":20,"risk_multiplier":1.5},"margin_requirements":{"initial_margin":0.1,"maintenance_margin":0.05,"margin_call_threshold":0.15},"position_limits":{"max_daily_trades":100,"max_position_size":0.2,"max_positions":10},"risk_management":{"liquidation_threshold":0.02,"max_drawdown":0.1,"stop_loss_percent":0.02,"take_profit_percent":0.04}}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.431"}
[INFO] trading_engine: Derivatives Trading Engine initialized
info: Analysis Integration Engine initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"conflict_resolution":"WEIGHTED","consensus_threshold":0.7,"data_sources":{"macro_data":true,"news_data":true,"onchain_data":true,"orderbook_data":true,"price_data":true,"social_data":true,"volume_data":true},"enabled_analyses":["technical_analysis","fundamental_analysis","sentiment_analysis","onchain_analysis","market_structure","volume_analysis","momentum_analysis","volatility_analysis"],"integration_weights":{"fundamental_analysis":0.2,"market_structure":0.1,"momentum_analysis":0.04,"onchain_analysis":0.15,"sentiment_analysis":0.15,"technical_analysis":0.25,"volatility_analysis":0.03,"volume_analysis":0.08},"update_frequency_ms":300000}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.435"}
[INFO] trading_engine: Analysis Integration Engine initialized
🚀 Inicializando Sistema Kronos-X Engine V2 Avançado...
info: Initializing Kronos-X Engine V2 with Advanced Components... {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.440"}
[INFO] trading_engine: Initializing Kronos-X Engine V2 with Advanced Components...
info: Configuration loaded successfully. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.441"}
[INFO] trading_engine: Configuration loaded successfully.
info: Conectando ao WebSocket {"action":"system_start","component":"websocket","data":{"url":"wss://stream.binance.com:9443/ws"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.441"}
[INFO] websocket: Conectando ao WebSocket
info: Monte Carlo Engine initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.444"}
[INFO] trading_engine: Monte Carlo Engine initialized.
info: Trade Orchestrator initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.444"}
[INFO] trading_engine: Trade Orchestrator initialized.
info: Confidence Model initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.444"}
[INFO] trading_engine: Confidence Model initialized.
info: Order Manager initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.445"}
[INFO] trading_engine: Order Manager initialized.
info: Risk Manager initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.445"}
[INFO] trading_engine: Risk Manager initialized.
info: Account Balance Manager initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.445"}
[INFO] trading_engine: Account Balance Manager initialized.
info: Advanced Trading System initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.446"}
[INFO] trading_engine: Advanced Trading System initialized.
info: ML Models initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.446"}
[INFO] trading_engine: ML Models initialized.
info: AI Agent initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.446"}
[INFO] trading_engine: AI Agent initialized.
info: Connecting to database {"action":"data_processing","component":"trading_engine","data":{"database":"kronos_x.db","type":"SQLITE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.447"}
[INFO] trading_engine: Connecting to database
 GET /api/status 200 in 2933ms
 GET /api/trades 200 in 2936ms
 GET / 200 in 2956ms
info: Database tables initialized {"action":"data_processing","component":"trading_engine","data":{"queryTime":"263ms"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.982"}
[INFO] trading_engine: Database tables initialized
info: Database connected successfully {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:22.988"}
[INFO] trading_engine: Database connected successfully
info: Database Manager initialized and connected. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.000"}
[INFO] trading_engine: Database Manager initialized and connected.
info: Backtest Engine initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.001"}
[INFO] trading_engine: Backtest Engine initialized.
info: Data Processor initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.001"}
[INFO] trading_engine: Data Processor initialized.
info: Starting sentiment analysis engine {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.002"}
[INFO] trading_engine: Starting sentiment analysis engine
info: Sentiment Analysis Engine initialized and started. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.003"}
[INFO] trading_engine: Sentiment Analysis Engine initialized and started.
info: Starting on-chain analysis engine {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.010"}
[INFO] trading_engine: Starting on-chain analysis engine
info: On-Chain Analysis Engine initialized and started. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.020"}
[INFO] trading_engine: On-Chain Analysis Engine initialized and started.
info: Reinforcement Learning Agent initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.021"}
[INFO] trading_engine: Reinforcement Learning Agent initialized.
info: Trading Integration Engine SKIPPED (usando Advanced Trading Engine) {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.022"}
[INFO] trading_engine: Trading Integration Engine SKIPPED (usando Advanced Trading Engine)
info: Starting symbol analysis engine {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.022"}
[INFO] trading_engine: Starting symbol analysis engine
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"4ms","overallScore":"0.192","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"0.100"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.027"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.358","patternsDetected":2,"symbol":"ETHUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.028"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.317","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.029"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.763","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"0.700"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.029"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.664","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"0.500"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.030"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol Analyzer initialized and started. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.030"}
[INFO] trading_engine: Symbol Analyzer initialized and started.
info: Derivatives Trading Engine initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.031"}
[INFO] trading_engine: Derivatives Trading Engine initialized.
info: Starting analysis integration engine {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.031"}
[INFO] trading_engine: Starting analysis integration engine
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"BTCUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.032"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.724","overallScore":"0.105","processingTime":"1ms","recommendation":"HOLD","symbol":"BTCUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.033"}
[INFO] trading_engine: Integrated analysis completed
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"ETHUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.034"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.839","overallScore":"-0.057","processingTime":"1ms","recommendation":"HOLD","symbol":"ETHUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.035"}
[INFO] trading_engine: Integrated analysis completed
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"BNBUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.035"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.672","overallScore":"-0.451","processingTime":"1ms","recommendation":"SELL","symbol":"BNBUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.036"}
[INFO] trading_engine: Integrated analysis completed
info: Analysis Integration Engine initialized and started. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.036"}
[INFO] trading_engine: Analysis Integration Engine initialized and started.
error: Failed to initialize Complete Kronos-X Engine V2 {"action":"error_handling","component":"trading_engine","data":{"error":"metrics.updateMetrics is not a function"},"service":"kronos-x-engine","success":false,"timestamp":"2025-10-29 00:11:23.037"}
[ERROR] trading_engine: Failed to initialize Complete Kronos-X Engine V2
✅ Sistema avançado inicializado com sucesso
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/time
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
[DEBUG] binance_api: API Response: GET /api/v3/time
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.71114648,"equity":10.19578064},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.464"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
[DEBUG] binance_api: API Response: GET /api/v3/ping
 ✓ Compiled /api/binance/balance in 400ms (719 modules)
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.748"}
[INFO] trading_engine: Status geral solicitado via API
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
✅ Credenciais Binance configuradas (keys sanitizadas no log)
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
✅ Credenciais Binance configuradas (keys sanitizadas no log)
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.71114648,"equity":10.19578064},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.872"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:23.911"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 710ms
✅ Supabase client inicializado
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707483859&signature=07d2ab413c86270c46c5aa6a45f8bfed5a281e71d2f3f2ade4e5809ea3d6f2f3
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/time
 GET /api/binance/balance 200 in 1112ms
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.71221889,"equity":10.19606938},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:24.531"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:24.583"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 669ms
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707485271&signature=2a091b238d87739e038399fb22086c36bf82415a3abbd5fd355bc6b506de928d
 GET /api/binance/balance 200 in 579ms
info: Conexão WebSocket estabelecida {"action":"system_start","component":"websocket","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:25.253"}
[INFO] websocket: Conexão WebSocket estabelecida
info: WebSocket conectado com sucesso {"action":"system_start","component":"websocket","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:25.255"}
[INFO] websocket: WebSocket conectado com sucesso
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.70414167,"equity":10.19604593},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:28.957"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:29.063"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 692ms
info: Monte Carlo Engine initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"confidence_level":0.95,"drift_factor":0,"forecast_period_minutes":60,"num_simulations":10000,"parallel_threads":4,"volatility_factor":1}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.107"}
[INFO] trading_engine: Monte Carlo Engine initialized
info: Order Manager initialized {"action":"data_processing","component":"trading_engine","data":{"riskConfig":{"max_daily_loss_percent":0.05,"max_drawdown_percent":0.1,"max_open_positions":5,"max_position_size_usd":1000,"position_size_percent":0.1,"stop_loss_percent":0.01,"take_profit_percent":0.02}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.109"}
[INFO] trading_engine: Order Manager initialized
info: Account Balance Manager initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"balance_change_threshold_percent":5,"high_balance_threshold_usdt":50000,"low_balance_threshold_usdt":100,"max_retry_attempts":3,"refresh_interval_ms":30000,"retry_delay_ms":1000}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.110"}
[INFO] trading_engine: Account Balance Manager initialized
info: Auto refresh started {"action":"data_processing","component":"trading_engine","data":{"intervalMs":30000},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.111"}
[INFO] trading_engine: Auto refresh started
info: Backes Trader AI Agent initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"analysis_depth":"ADVANCED","decision_confidence_threshold":0.7,"max_analysis_time_ms":30000,"max_tokens":2000,"model":"gpt-4","retry_attempts":3,"system_prompt":"You are Backes Trader V2, an advanced AI trading agent specializing in cryptocurrency markets. \n\nYour capabilities:\n- Advanced technical analysis using multiple indicators\n- Fundamental analysis of market conditions\n- Risk assessment and management\n- Sentiment analysis from multiple sources\n- Pattern recognition and trend analysis\n- Portfolio optimization recommendations\n\nYour objectives:\n- Achieve 90%+ accuracy in trading decisions\n- Maximize risk-adjusted returns\n- Minimize drawdowns\n- Provide clear, actionable insights\n- Maintain consistent performance\n\nAlways provide:\n1. Clear reasoning for your analysis\n2. Confidence levels for your predictions\n3. Risk assessments\n4. Specific price targets and stop-loss levels\n5. Time horizons for recommendations\n\nBe precise, data-driven, and conservative in your approach.","temperature":0.3}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.111"}
[INFO] trading_engine: Backes Trader AI Agent initialized
info: Database Manager initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"connection_pool_size":10,"connection_timeout_ms":30000,"database":"kronos_x.db","host":"localhost","port":5432,"retry_attempts":3,"ssl":false,"type":"SQLITE"}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.113"}
[INFO] trading_engine: Database Manager initialized
info: Sentiment Analysis Engine initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"api_keys":{},"confidence_threshold":0.6,"engagement_weight":0.2,"keywords_weight":0.3,"max_history_days":7,"sources":["news","social","fear_greed","market"],"time_decay_factor":0.95,"update_interval_ms":300000}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.114"}
[INFO] trading_engine: Sentiment Analysis Engine initialized
info: On-Chain Analysis Engine initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"api_keys":{},"defi_protocols":[],"exchange_addresses":[],"metrics":{"active_addresses":true,"defi_metrics":true,"exchange_flows":true,"mining_data":true,"network_health":true,"transaction_count":true,"whale_movements":true},"mining_pools":[],"networks":["bitcoin","ethereum","bsc","polygon"],"update_interval_ms":300000,"whale_threshold_usd":1000000}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.115"}
[INFO] trading_engine: On-Chain Analysis Engine initialized
info: Neural network model initialized {"action":"data_processing","component":"trading_engine","data":{"model":{"activation":"relu","layers":[128,64,32],"loss":"mse","optimizer":"adam"}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.116"}
[INFO] trading_engine: Neural network model initialized
info: RL Agent initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"activation_function":"relu","batch_size":32,"discount_factor":0.95,"evaluation_frequency":50,"exploration_decay":0.995,"exploration_rate":0.1,"learning_rate":0.001,"loss_function":"mse","max_episode_length":1000,"memory_size":10000,"min_exploration_rate":0.01,"network_layers":[128,64,32],"optimizer":"adam","reward_scaling":1,"target_update_frequency":100,"training_frequency":10}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.116"}
[INFO] trading_engine: RL Agent initialized
info: Trading Integration Engine initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"alerts":{"channels":["console","email"],"enabled":true,"thresholds":{"position_size":0.05,"profit_loss":1000,"risk_level":0.8}},"enabled_strategies":["signal_engine","monte_carlo","confidence_model"],"execution":{"execution_mode":"PAPER","max_execution_delay":5000,"retry_attempts":3,"slippage_tolerance":0.001},"integration":{"ai_agent":true,"confidence_model":true,"ml_models":true,"monte_carlo":true,"onchain_analysis":true,"reinforcement_learning":true,"sentiment_analysis":true,"signal_engine":true},"risk_management":{"max_daily_loss":0.05,"max_drawdown":0.1,"max_position_size":0.1,"stop_loss_percent":0.02,"take_profit_percent":0.04}}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.117"}
[INFO] trading_engine: Trading Integration Engine initialized
info: Symbol Analyzer initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"analysis_interval_ms":60000,"patterns":{"candlestick_patterns":true,"chart_patterns":true,"price_patterns":true,"volume_patterns":true},"ranking":{"criteria":["technical_score","volume_score","momentum_score"],"enabled":true,"update_frequency_ms":300000,"weights":{"momentum_score":0.3,"technical_score":0.4,"volume_score":0.3}},"symbols":["BTCUSDT","ETHUSDT","BNBUSDT","ADAUSDT","SOLUSDT"],"technical_indicators":{"adx_period":14,"atr_period":14,"bollinger_period":20,"bollinger_std":2,"cci_period":20,"ema_periods":[12,26],"macd_fast":12,"macd_signal":9,"macd_slow":26,"momentum_period":10,"roc_period":10,"rsi_period":14,"sma_periods":[20,50,200],"stochastic_d_period":3,"stochastic_k_period":14,"williams_r_period":14}}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.119"}
[INFO] trading_engine: Symbol Analyzer initialized
info: Derivatives Trading Engine initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"enabled_derivatives":["BTCUSDT","ETHUSDT","BNBUSDT"],"execution":{"execution_mode":"PAPER","max_execution_delay":5000,"slippage_tolerance":0.001},"leverage_limits":{"default_leverage":5,"max_leverage":20,"risk_multiplier":1.5},"margin_requirements":{"initial_margin":0.1,"maintenance_margin":0.05,"margin_call_threshold":0.15},"position_limits":{"max_daily_trades":100,"max_position_size":0.2,"max_positions":10},"risk_management":{"liquidation_threshold":0.02,"max_drawdown":0.1,"stop_loss_percent":0.02,"take_profit_percent":0.04}}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.120"}
[INFO] trading_engine: Derivatives Trading Engine initialized
info: Analysis Integration Engine initialized {"action":"data_processing","component":"trading_engine","data":{"config":{"conflict_resolution":"WEIGHTED","consensus_threshold":0.7,"data_sources":{"macro_data":true,"news_data":true,"onchain_data":true,"orderbook_data":true,"price_data":true,"social_data":true,"volume_data":true},"enabled_analyses":["technical_analysis","fundamental_analysis","sentiment_analysis","onchain_analysis","market_structure","volume_analysis","momentum_analysis","volatility_analysis"],"integration_weights":{"fundamental_analysis":0.2,"market_structure":0.1,"momentum_analysis":0.04,"onchain_analysis":0.15,"sentiment_analysis":0.15,"technical_analysis":0.25,"volatility_analysis":0.03,"volume_analysis":0.08},"update_frequency_ms":300000}},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.121"}
[INFO] trading_engine: Analysis Integration Engine initialized
🚀 Inicializando Sistema Kronos-X Engine V2 Avançado...
info: Initializing Kronos-X Engine V2 with Advanced Components... {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.127"}
[INFO] trading_engine: Initializing Kronos-X Engine V2 with Advanced Components...
info: Configuration loaded successfully. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.127"}
[INFO] trading_engine: Configuration loaded successfully.
info: Conectando ao WebSocket {"action":"system_start","component":"websocket","data":{"url":"wss://stream.binance.com:9443/ws"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.128"}
[INFO] websocket: Conectando ao WebSocket
info: Monte Carlo Engine initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.130"}
[INFO] trading_engine: Monte Carlo Engine initialized.
info: Trade Orchestrator initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.131"}
[INFO] trading_engine: Trade Orchestrator initialized.
info: Confidence Model initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.131"}
[INFO] trading_engine: Confidence Model initialized.
info: Order Manager initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.131"}
[INFO] trading_engine: Order Manager initialized.
info: Risk Manager initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.132"}
[INFO] trading_engine: Risk Manager initialized.
info: Account Balance Manager initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.132"}
[INFO] trading_engine: Account Balance Manager initialized.
info: Advanced Trading System initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.132"}
[INFO] trading_engine: Advanced Trading System initialized.
info: ML Models initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.133"}
[INFO] trading_engine: ML Models initialized.
info: AI Agent initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.133"}
[INFO] trading_engine: AI Agent initialized.
info: Connecting to database {"action":"data_processing","component":"trading_engine","data":{"database":"kronos_x.db","type":"SQLITE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.133"}
[INFO] trading_engine: Connecting to database
 GET / 200 in 169ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Database tables initialized {"action":"data_processing","component":"trading_engine","data":{"queryTime":"281ms"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.515"}
[INFO] trading_engine: Database tables initialized
info: Database connected successfully {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.517"}
[INFO] trading_engine: Database connected successfully
info: Database Manager initialized and connected. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.518"}
[INFO] trading_engine: Database Manager initialized and connected.
info: Backtest Engine initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.519"}
[INFO] trading_engine: Backtest Engine initialized.
info: Data Processor initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.519"}
[INFO] trading_engine: Data Processor initialized.
info: Starting sentiment analysis engine {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.520"}
[INFO] trading_engine: Starting sentiment analysis engine
info: Sentiment Analysis Engine initialized and started. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.520"}
[INFO] trading_engine: Sentiment Analysis Engine initialized and started.
info: Starting on-chain analysis engine {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.521"}
[INFO] trading_engine: Starting on-chain analysis engine
info: On-Chain Analysis Engine initialized and started. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.521"}
[INFO] trading_engine: On-Chain Analysis Engine initialized and started.
info: Reinforcement Learning Agent initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.521"}
[INFO] trading_engine: Reinforcement Learning Agent initialized.
info: Trading Integration Engine SKIPPED (usando Advanced Trading Engine) {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.522"}
[INFO] trading_engine: Trading Integration Engine SKIPPED (usando Advanced Trading Engine)
info: Starting symbol analysis engine {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.522"}
[INFO] trading_engine: Starting symbol analysis engine
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"2ms","overallScore":"0.690","patternsDetected":2,"symbol":"BTCUSDT","technicalScore":"0.500"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.525"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.311","patternsDetected":2,"symbol":"ETHUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.527"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.322","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.527"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.281","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.528"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.757","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"0.800"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.529"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol Analyzer initialized and started. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.529"}
[INFO] trading_engine: Symbol Analyzer initialized and started.
info: Derivatives Trading Engine initialized. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.530"}
[INFO] trading_engine: Derivatives Trading Engine initialized.
info: Starting analysis integration engine {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.530"}
[INFO] trading_engine: Starting analysis integration engine
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"BTCUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.530"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.739","overallScore":"-0.027","processingTime":"2ms","recommendation":"HOLD","symbol":"BTCUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.532"}
[INFO] trading_engine: Integrated analysis completed
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"ETHUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.532"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.781","overallScore":"-0.018","processingTime":"4ms","recommendation":"HOLD","symbol":"ETHUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.536"}
[INFO] trading_engine: Integrated analysis completed
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"BNBUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.537"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.809","overallScore":"-0.064","processingTime":"0ms","recommendation":"HOLD","symbol":"BNBUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.537"}
[INFO] trading_engine: Integrated analysis completed
info: Analysis Integration Engine initialized and started. {"action":"data_processing","component":"trading_engine","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.537"}
[INFO] trading_engine: Analysis Integration Engine initialized and started.
error: Failed to initialize Complete Kronos-X Engine V2 {"action":"error_handling","component":"trading_engine","data":{"error":"metrics.updateMetrics is not a function"},"service":"kronos-x-engine","success":false,"timestamp":"2025-10-29 00:11:33.538"}
[ERROR] trading_engine: Failed to initialize Complete Kronos-X Engine V2
✅ Sistema avançado inicializado com sucesso
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707494394&signature=3d1defeebc075c150fdc53ebf98cbfc35c09b10d56aec60d9433193349a59a1c
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.70064992,"equity":10.19602727},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.850"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:33.939"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/binance/balance 200 in 595ms
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.70064992,"equity":10.19602727},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:34.178"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:34.238"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 703ms
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707495024&signature=a4b047aabbf3a2427bf92bbfa51809a1fca9d3c9c6635d1fb7faf2e0692975b2
[DEBUG] binance_api: API Response: GET /api/v3/ping
 GET /api/binance/balance 200 in 602ms
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.7027736,"equity":10.19609823},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:34.841"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:34.893"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 644ms
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 303ms
 ✓ Compiled /api/trading/metrics in 217ms (722 modules)
info: Conexão WebSocket estabelecida {"action":"system_start","component":"websocket","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:35.819"}
[INFO] websocket: Conexão WebSocket estabelecida
info: WebSocket conectado com sucesso {"action":"system_start","component":"websocket","service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:35.821"}
[INFO] websocket: WebSocket conectado com sucesso
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
✅ Credenciais Binance configuradas (keys sanitizadas no log)
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
✅ Credenciais Binance configuradas (keys sanitizadas no log)
✅ Supabase client inicializado
[DEBUG] binance_api: API Response: GET /api/v3/time
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 741ms
[DEBUG] binance_api: API Response: GET /api/v3/time
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 293ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 1271ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 729ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 734ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.70317587,"equity":10.19566543},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:39.100"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:39.150"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 634ms
 ✓ Compiled /api/trading/start in 470ms (741 modules)
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
✅ Credenciais Binance configuradas (keys sanitizadas no log)
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
✅ Credenciais Binance configuradas (keys sanitizadas no log)
✅ Logger: Initialized - Log file: C:\Users\Pichau\Downloads\kronos-x_starter_with_db\engine-v2\logs.txt
⚠️ TradeAnalysisCapture: Supabase credentials not found, using fallback
✅ Supabase client inicializado
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
⚠️⚠️⚠️  ADVANCED TRADING ENGINE ATIVADO  ⚠️⚠️⚠️
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🧠 Sistema de IA com 8 análises simultâneas
📊 Technical, Sentiment, On-Chain, Derivatives
📊 Macro, Smart Money, Predictive, HFT
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707502615&signature=b57472b193cd1b22d7963225781fecbae661941c958d589ebdecc2549377882a
💰 Saldos → Spot: $0.00 | Futures: $9.70
↪️ Spot sem saldo suficiente. Alternando automaticamente para FUTURES.

🚀 INICIANDO TRADING FUTURES com leverage 5x
📊 Equity registrado: USDT_FUTURES = $10.20
✅ Trading Futures iniciado com sucesso! Saldo: $10.20
🔄 Iniciando loop principal de trading...
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 0
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade

📊 STATUS COMPLETO DO SISTEMA KRONOS-X:
============================================================
🔧 CONFIGURAÇÕES:
   Trading ativo: ✅ SIM
   Modo Futures: ✅ SIM
   Trading pausado: ✅ NÃO
   Permitir novos trades: ✅ SIM
   Máximo trades ativas: Sem limite
   Pode abrir nova trade: ✅ SIM

📈 TRADES:
   Trades abertas: 0
     Nenhuma trade aberta

🚫 SÍMBOLOS BLOQUEADOS:
   ENAUSDT

⭐ SÍMBOLOS PRIORITÁRIOS:
   BTCUSDT, ETHUSDT
============================================================


🔄 CICLO 1 - Iniciando verificação de oportunidades...
📊 DEBUG - Status do ciclo 1:
   isRunning: true
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 0
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade
   canOpenNewTrade: true
   openTrades.size: 0
💰 Obtendo saldo atual...
🔄 Loop principal de trading iniciado!
✅ Advanced Trading iniciado com IA!
 POST /api/trading/start 200 in 1629ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
💰 Saldo atual: $10.20
🔍 Verificando se pode abrir novas trades...
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 0
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade
🔍 Resultado canOpenNewTrade: true
🔍 Buscando oportunidades...

🔍 Analisando oportunidades em 15 símbolos...
💰 Capital disponível: $10.20
🚫 Símbolos bloqueados: ENAUSDT
⭐ Símbolos prioritários: BTCUSDT, ETHUSDT
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.70234084,"equity":10.19541767},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:44.116"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:44.164"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 645ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BTCUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.00001, stepSize: 0.00001
⚠️ BTCUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.00001) × price($112596.5) = $1.13
📊 BTCUSDT: Preço $112596.5000, Custo mínimo $1.13

🚀 Iniciando análise V2 para BTCUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BTCUSDT tecnicamente (1h)...
📱 Analisando sentimento de BTCUSDT...
🔍 Analisando Twitter para BTCUSDT...
🔍 Analisando Reddit para BTCUSDT...
⛓️  Analisando on-chain de BTCUSDT...
📊 Analisando derivativos de BTCUSDT...
🌍 Analisando macro de BTCUSDT...
🐋 Analisando smart money de BTCUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 300ms
⚠️ CoinGecko: Símbolo BTCUSDT não mapeado
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 699ms
⚠️ CryptoPanic API falhou para BTCUSDT: Request failed with status code 400
🔄 Usando fallback para BTCUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BTCUSDT nas últimas 6h
📊 Fear & Greed: 51 (Neutral)
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BTCUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:11:47.233Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BTCUSDT
Nenhum dado de equity encontrado para BTCUSDT
📊 BTCUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:11:47.293Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BTCUSDT
🔍 [2025-10-29T03:11:47.294Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BTCUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: VWAP = $111287.9030
✅ BTCUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.16%
✅ BTCUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $831.9936 (14 períodos)
🔍 [2025-10-29T03:11:48.125Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BTCUSDT
✅ BTCUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BTCUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $831.9936 (14 períodos)
✅ BTCUSDT: ATR baixo (0.74%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.000023 → Notional: $2.55
[DEBUG] binance_api: API Response: GET /api/v3/ping
⏸️ BTCUSDT: Quantidade muito pequena (0 < minQty 0.001)
⏸️ BTCUSDT: REJEITADO - Sem decision retornada
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.71628268,"equity":10.19588902},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:49.101"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:49.170"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 660ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ETHUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.0001, stepSize: 0.0001
⚠️ ETHUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.0001) × price($4000.16) = $0.40
📊 ETHUSDT: Preço $4000.1600, Custo mínimo $0.40

🚀 Iniciando análise V2 para ETHUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ETHUSDT tecnicamente (1h)...
📱 Analisando sentimento de ETHUSDT...
🔍 Analisando Twitter para ETHUSDT...
🔍 Analisando Reddit para ETHUSDT...
⛓️  Analisando on-chain de ETHUSDT...
📊 Analisando derivativos de ETHUSDT...
🌍 Analisando macro de ETHUSDT...
🐋 Analisando smart money de ETHUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo ETHUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para ETHUSDT: Request failed with status code 400
🔄 Usando fallback para ETHUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ETHUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ETHUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:11:50.869Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ETHUSDT
Nenhum dado de equity encontrado para ETHUSDT
📊 ETHUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:11:50.908Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ETHUSDT
🔍 [2025-10-29T03:11:50.909Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ETHUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: VWAP = $3974.5059
✅ ETHUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 0.65%
✅ ETHUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $47.6457 (14 períodos)
🔍 [2025-10-29T03:11:51.735Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ETHUSDT
✅ ETHUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ ETHUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $47.6457 (14 períodos)
✅ ETHUSDT: ATR baixo (1.19%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.000637 → Notional: $2.55
⏸️ ETHUSDT: Quantidade muito pequena (0 < minQty 0.001)
⏸️ ETHUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707512412&signature=e66a7477308db5783d400c55f4a85e5a169cabd7d2547a2bed926be96d6f7853
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:52.691"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BNBUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ BNBUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($1103.29) = $1.10
📊 BNBUSDT: Preço $1103.2900, Custo mínimo $1.10

🚀 Iniciando análise V2 para BNBUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BNBUSDT tecnicamente (1h)...
📱 Analisando sentimento de BNBUSDT...
🔍 Analisando Twitter para BNBUSDT...
🔍 Analisando Reddit para BNBUSDT...
⛓️  Analisando on-chain de BNBUSDT...
📊 Analisando derivativos de BNBUSDT...
🌍 Analisando macro de BNBUSDT...
🐋 Analisando smart money de BNBUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.72309149,"equity":10.19619785},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:54.321"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:54.362"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 643ms
⚠️ CoinGecko: Símbolo BNBUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para BNBUSDT: Request failed with status code 400
🔄 Usando fallback para BNBUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BNBUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: -7.08 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 5 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 80%
🔍 [DEBUG CONFIANÇA] Base técnico: 68%
🔍 [DEBUG CONFIANÇA] Sem penalidade (44% ativos é aceitável) = 68%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -2 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] -10% (conflito forte: 2) = 58%
🔍 [DEBUG CONFIANÇA] FINAL: 58%
✅ Score ponderado: -4.11 (Confiança: 58%)
📋 Sinal: STRONG_SELL moderate
🧠 [V2] BNBUSDT: Score ponderado -4.11 (58% confiança)
📊 Sinal técnico V2: SELL (68%)
   Técnico: SELL (50.1 RSI, DOWN, Tendência de baixa, Padrão bearish, Volume acima da média). Score ponderado: -4.11. Confiança: 58%.
🔍 [2025-10-29T03:11:54.797Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BNBUSDT
Nenhum dado de equity encontrado para BNBUSDT
📊 BNBUSDT: Confiança original: 58%, Ajuste equity: 0, Confiança final: 62.9%
🔍 [2025-10-29T03:11:54.852Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BNBUSDT
🔍 [2025-10-29T03:11:54.853Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BNBUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: VWAP = $1111.9294
✅ BNBUSDT: 4 confirmações - Confiança: 58%, Sinal: STRONG_SELL, VWAP dev: -0.79%
✅ BNBUSDT: Dados de volume não disponíveis
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.8236 (14 períodos)
🔍 [2025-10-29T03:11:55.684Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BNBUSDT
✅ BNBUSDT: SELL AUTORIZADO - STRONG_SELL, Conf: 58%, Trend: DOWN
✅ BNBUSDT: AUTORIZADO - STRONG_SELL, Confiança 58%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.8236 (14 períodos)
✅ BNBUSDT: ATR baixo (1.25%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.002311 → Notional: $2.55
⏸️ BNBUSDT: Quantidade muito pequena (0 < minQty 0.01)
⏸️ BNBUSDT: REJEITADO - Sem decision retornada
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 298ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 737ms
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 SOLUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ SOLUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($193.75) = $0.19
📊 SOLUSDT: Preço $193.7500, Custo mínimo $0.19

🚀 Iniciando análise V2 para SOLUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando SOLUSDT tecnicamente (1h)...
📱 Analisando sentimento de SOLUSDT...
🔍 Analisando Twitter para SOLUSDT...
🔍 Analisando Reddit para SOLUSDT...
⛓️  Analisando on-chain de SOLUSDT...
📊 Analisando derivativos de SOLUSDT...
🌍 Analisando macro de SOLUSDT...
🐋 Analisando smart money de SOLUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo SOLUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para SOLUSDT: Request failed with status code 400
🔄 Usando fallback para SOLUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de SOLUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] SOLUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:11:58.731Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for SOLUSDT
📊 SOLUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:11:59.069Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for SOLUSDT
🔍 [2025-10-29T03:11:59.070Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for SOLUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: VWAP = $192.7882
✅ SOLUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 0.52%
✅ SOLUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.6750 (14 períodos)
🔍 [2025-10-29T03:11:59.907Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for SOLUSDT
✅ SOLUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ SOLUSDT: AUTORIZADO - SELL, Confiança 50%
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.72529816,"equity":10.19654328},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:59.941"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:11:59.981"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 633ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.6750 (14 períodos)
✅ SOLUSDT: ATR baixo (1.38%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.013153 → Notional: $2.55
⚠️ SOLUSDT: Valor da ordem ($1.94) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.030000 → Notional: $5.81
   💰 Margem ajustada: $1.16
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.16 (22.8% do saldo)
   Nocional (5x): $5.81
   Quantidade ajustada: 0.030000 SOL
   Valor da ordem: $5.81
🔍 Verificando margem: disponível=$5.10, necessária=$1.16, posições abertas=0
💰 Trade aprovado: Margem $1.16 @ 5x
   Notional: $5.81
   Risco: LOW
📊 SELL: SL=$196.6968 (+1.5%), TP=$187.8600 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:12:00.767Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for SOLUSDT
🔍 [2025-10-29T03:12:00.768Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for SOLUSDT
🔍 [2025-10-29T03:12:00.768Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for SOLUSDT
⚠️ [2025-10-29T03:12:00.769Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ SOLUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.03

📝 ADICIONANDO SOLUSDT ao array opportunities (total agora: 1)
✅ SOLUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.03}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 DOGEUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 1, stepSize: 1
⚠️ DOGEUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(1) × price($0.19336) = $0.19
📊 DOGEUSDT: Preço $0.1934, Custo mínimo $0.19

🚀 Iniciando análise V2 para DOGEUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando DOGEUSDT tecnicamente (1h)...
📱 Analisando sentimento de DOGEUSDT...
🔍 Analisando Twitter para DOGEUSDT...
🔍 Analisando Reddit para DOGEUSDT...
⛓️  Analisando on-chain de DOGEUSDT...
📊 Analisando derivativos de DOGEUSDT...
🌍 Analisando macro de DOGEUSDT...
🐋 Analisando smart money de DOGEUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo DOGEUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para DOGEUSDT: Request failed with status code 400
🔄 Usando fallback para DOGEUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de DOGEUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] DOGEUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:12:02.650Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for DOGEUSDT
📊 DOGEUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:12:02.994Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for DOGEUSDT
🔍 [2025-10-29T03:12:02.997Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for DOGEUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707523117&signature=51eee7d6dfa88028cc8de6b907a24821cd7f23d348816c3a106544c58ab39b3e
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:03.418"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: VWAP = $0.1975
✅ DOGEUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -2.11%
✅ DOGEUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0026 (14 períodos)
🔍 [2025-10-29T03:12:03.835Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for DOGEUSDT
✅ DOGEUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ DOGEUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0026 (14 períodos)
✅ DOGEUSDT: ATR baixo (1.34%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 13.183275 → Notional: $2.55
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707525192&signature=4f8f90a960de713bf0183a2c2e597078c0677605bb40628d3bcd8b646e2515cf
⚠️ DOGEUSDT: Valor da ordem ($2.51) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 26.000000 → Notional: $5.03
   💰 Margem ajustada: $1.01
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.01 (19.7% do saldo)
   Nocional (5x): $5.03
   Quantidade ajustada: 26.000000 DOGE
   Valor da ordem: $5.03
🔍 Verificando margem: disponível=$5.10, necessária=$1.01, posições abertas=0
💰 Trade aprovado: Margem $1.01 @ 5x
   Notional: $5.03
   Risco: LOW
📊 SELL: SL=$0.1962 (+1.5%), TP=$0.1874 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:12:04.697Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for DOGEUSDT
🔍 [2025-10-29T03:12:04.698Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for DOGEUSDT
🔍 [2025-10-29T03:12:04.698Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for DOGEUSDT
⚠️ [2025-10-29T03:12:04.699Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ DOGEUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=26

📝 ADICIONANDO DOGEUSDT ao array opportunities (total agora: 2)
✅ DOGEUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":26}
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.73784007,"equity":10.19666889},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:04.948"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
 GET /api/binance/balance 200 in 606ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:04.995"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 650ms
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ADAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ ADAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($0.6428) = $0.06
📊 ADAUSDT: Preço $0.6428, Custo mínimo $0.06

🚀 Iniciando análise V2 para ADAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ADAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ADAUSDT...
🔍 Analisando Twitter para ADAUSDT...
🔍 Analisando Reddit para ADAUSDT...
⛓️  Analisando on-chain de ADAUSDT...
📊 Analisando derivativos de ADAUSDT...
🌍 Analisando macro de ADAUSDT...
🐋 Analisando smart money de ADAUSDT...
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 292ms
⚠️ CoinGecko: Símbolo ADAUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
Nenhum dado de equity encontrado para BTCUSDT
⚠️ CryptoPanic API falhou para ADAUSDT: Request failed with status code 400
🔄 Usando fallback para ADAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ADAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: -7.08 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 5 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 80%
🔍 [DEBUG CONFIANÇA] Base técnico: 68%
🔍 [DEBUG CONFIANÇA] Sem penalidade (44% ativos é aceitável) = 68%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -2 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] -10% (conflito forte: 2) = 58%
🔍 [DEBUG CONFIANÇA] FINAL: 58%
✅ Score ponderado: -4.11 (Confiança: 58%)
📋 Sinal: STRONG_SELL moderate
🧠 [V2] ADAUSDT: Score ponderado -4.11 (58% confiança)
📊 Sinal técnico V2: SELL (68%)
   Técnico: SELL (47.9 RSI, STRONG_DOWN, Tendência de baixa, Padrão bearish, Volume acima da média). Score ponderado: -4.11. Confiança: 58%.
🔍 [2025-10-29T03:12:07.398Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ADAUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 767ms
Nenhum dado de equity encontrado para ADAUSDT
📊 ADAUSDT: Confiança original: 58%, Ajuste equity: 0, Confiança final: 62.9%
🔍 [2025-10-29T03:12:07.436Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ADAUSDT
🔍 [2025-10-29T03:12:07.436Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ADAUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: VWAP = $0.6541
✅ ADAUSDT: 4 confirmações - Confiança: 58%, Sinal: STRONG_SELL, VWAP dev: -1.73%
✅ ADAUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0086 (14 períodos)
🔍 [2025-10-29T03:12:08.261Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ADAUSDT
✅ ADAUSDT: SELL AUTORIZADO - STRONG_SELL, Conf: 58%, Trend: STRONG_DOWN
✅ ADAUSDT: AUTORIZADO - STRONG_SELL, Confiança 58%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0086 (14 períodos)
✅ ADAUSDT: ATR baixo (1.33%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 3.965237 → Notional: $2.55
⚠️ ADAUSDT: Valor da ordem ($1.93) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 8.000000 → Notional: $5.14
   💰 Margem ajustada: $1.03
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.03 (20.2% do saldo)
   Nocional (5x): $5.14
   Quantidade ajustada: 8.000000 ADA
   Valor da ordem: $5.14
🔍 Verificando margem: disponível=$5.10, necessária=$1.03, posições abertas=0
💰 Trade aprovado: Margem $1.03 @ 5x
   Notional: $5.14
   Risco: LOW
📊 SELL: SL=$0.6524 (+1.5%), TP=$0.6231 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:12:09.114Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ADAUSDT
🔍 [2025-10-29T03:12:09.114Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ADAUSDT
🔍 [2025-10-29T03:12:09.115Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ADAUSDT
⚠️ [2025-10-29T03:12:09.115Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ADAUSDT: APROVADO para trade (Score: -4.11, Conf: 58%, Signal: STRONG_SELL)
✅ Decision retornado: action=SELL, size=8

📝 ADICIONANDO ADAUSDT ao array opportunities (total agora: 3)
✅ ADAUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":8}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.74820119,"equity":10.19717572},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:09.909"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:09.957"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 614ms
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 XRPUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ XRPUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($2.6058) = $0.26
📊 XRPUSDT: Preço $2.6058, Custo mínimo $0.26

🚀 Iniciando análise V2 para XRPUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando XRPUSDT tecnicamente (1h)...
📱 Analisando sentimento de XRPUSDT...
🔍 Analisando Twitter para XRPUSDT...
🔍 Analisando Reddit para XRPUSDT...
⛓️  Analisando on-chain de XRPUSDT...
📊 Analisando derivativos de XRPUSDT...
🌍 Analisando macro de XRPUSDT...
🐋 Analisando smart money de XRPUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo XRPUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para XRPUSDT: Request failed with status code 400
🔄 Usando fallback para XRPUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de XRPUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] XRPUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:12:11.997Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for XRPUSDT
Nenhum dado de equity encontrado para XRPUSDT
📊 XRPUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:12:12.050Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for XRPUSDT
🔍 [2025-10-29T03:12:12.051Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for XRPUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: VWAP = $2.5229
✅ XRPUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 3.28%
✅ XRPUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0303 (14 períodos)
🔍 [2025-10-29T03:12:12.894Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for XRPUSDT
✅ XRPUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ XRPUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0303 (14 períodos)
✅ XRPUSDT: ATR baixo (1.16%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.978222 → Notional: $2.55
⚠️ XRPUSDT: Valor da ordem ($2.35) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 2.000000 → Notional: $5.21
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.04 (20.4% do saldo)
   Nocional (5x): $5.21
   Quantidade ajustada: 2.000000 XRP
   Valor da ordem: $5.21
🔍 Verificando margem: disponível=$5.10, necessária=$1.04, posições abertas=0
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.21
   Risco: LOW
📊 SELL: SL=$2.6447 (+1.5%), TP=$2.5259 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:12:13.774Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for XRPUSDT
🔍 [2025-10-29T03:12:13.774Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for XRPUSDT
🔍 [2025-10-29T03:12:13.775Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for XRPUSDT
⚠️ [2025-10-29T03:12:13.775Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ XRPUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=2

📝 ADICIONANDO XRPUSDT ao array opportunities (total agora: 4)
✅ XRPUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":2}
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.75062757,"equity":10.19733477},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:14.078"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:14.139"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 631ms
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 AVAXUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ AVAXUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($19.46) = $0.19
📊 AVAXUSDT: Preço $19.4600, Custo mínimo $0.19

🚀 Iniciando análise V2 para AVAXUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando AVAXUSDT tecnicamente (1h)...
📱 Analisando sentimento de AVAXUSDT...
🔍 Analisando Twitter para AVAXUSDT...
🔍 Analisando Reddit para AVAXUSDT...
⛓️  Analisando on-chain de AVAXUSDT...
📊 Analisando derivativos de AVAXUSDT...
🌍 Analisando macro de AVAXUSDT...
🐋 Analisando smart money de AVAXUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 321ms
⚠️ CoinGecko: Símbolo AVAXUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para AVAXUSDT: Request failed with status code 400
🔄 Usando fallback para AVAXUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de AVAXUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] AVAXUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:12:16.126Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for AVAXUSDT
Nenhum dado de equity encontrado para AVAXUSDT
📊 AVAXUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:12:16.182Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for AVAXUSDT
🔍 [2025-10-29T03:12:16.182Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for AVAXUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 822ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 AVAXUSDT: VWAP = $19.8573
✅ AVAXUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -2.00%
✅ AVAXUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 AVAXUSDT: ATR = $0.2671 (14 períodos)
🔍 [2025-10-29T03:12:17.010Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for AVAXUSDT
✅ AVAXUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ AVAXUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 AVAXUSDT: ATR = $0.2671 (14 períodos)
✅ AVAXUSDT: ATR baixo (1.37%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.130979 → Notional: $2.55
⏸️ AVAXUSDT: Quantidade muito pequena (0 < minQty 1)
⏸️ AVAXUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 MATICUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ MATICUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($0.3794) = $0.04
📊 MATICUSDT: Preço $0.3794, Custo mínimo $0.04

🚀 Iniciando análise V2 para MATICUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando MATICUSDT tecnicamente (1h)...
📱 Analisando sentimento de MATICUSDT...
🔍 Analisando Twitter para MATICUSDT...
🔍 Analisando Reddit para MATICUSDT...
⛓️  Analisando on-chain de MATICUSDT...
📊 Analisando derivativos de MATICUSDT...
🌍 Analisando macro de MATICUSDT...
🐋 Analisando smart money de MATICUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
Erro ao buscar Open Interest: AxiosError: Request failed with status code 400
    at settle (webpack-internal:///(rsc)/./node_modules/axios/lib/core/settle.js:24:12)
    at IncomingMessage.handleStreamEnd (webpack-internal:///(rsc)/./node_modules/axios/lib/adapters/http.js:648:71)
    at IncomingMessage.emit (node:events:530:35)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (webpack-internal:///(rsc)/./node_modules/axios/lib/core/Axios.js:57:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async BinanceApiClient.getOpenInterest (webpack-internal:///(rsc)/./src/services/binance-api.ts:400:26)
    at async DerivativesAnalyzer.getOpenInterest (webpack-internal:///(rsc)/./src/services/analyzers/derivatives-analyzer.ts:50:24)
    at async DerivativesAnalyzer.analyze (webpack-internal:///(rsc)/./src/services/analyzers/derivatives-analyzer.ts:17:30)
    at async Promise.all (index 3)
    at async PredictiveAnalyzerV2.consolidate (webpack-internal:///(rsc)/./src/services/analyzers/predictive-analyzer-v2.ts:33:81)
    at async AdvancedTradingEngine.getOptimalSymbols (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:190:38)
    at async AdvancedTradingEngine.runTradingCycle (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:2024:39) {
  code: 'ERR_BAD_REQUEST',
  config: {
    transitional: {
      silentJSONParsing: true,
      forcedJSONParsing: true,
      clarifyTimeoutError: false
    },
    adapter: [ 'xhr', 'http', 'fetch' ],
    transformRequest: [ [Function: transformRequest] ],
    transformResponse: [ [Function: transformResponse] ],
    timeout: 10000,
    xsrfCookieName: 'XSRF-TOKEN',
    xsrfHeaderName: 'X-XSRF-TOKEN',
    maxContentLength: -1,
    maxBodyLength: -1,
    env: { FormData: [Function [FormData]], Blob: [class Blob] },
    validateStatus: [Function: validateStatus],
    headers: Object [AxiosHeaders] {
      Accept: 'application/json, text/plain, */*',
      'Content-Type': 'application/json',
      'User-Agent': 'Kronos-X-Engine/1.0.0',
      'Accept-Encoding': 'gzip, compress, deflate, br'
    },
    baseURL: 'https://fapi.binance.com',
    params: { symbol: 'MATICUSDT' },
    method: 'get',
    url: '/fapi/v1/openInterest',
    allowAbsoluteUrls: true,
    data: undefined
  },
  request: <ref *1> ClientRequest {
    _events: [Object: null prototype] {
      abort: [Function (anonymous)],
      aborted: [Function (anonymous)],
      connect: [Function (anonymous)],
      error: [Function (anonymous)],
      socket: [Function (anonymous)],
      timeout: [Function (anonymous)],
      finish: [Function: requestOnFinish]
    },
    _eventsCount: 7,
    _maxListeners: undefined,
    outputData: [],
    outputSize: 0,
    writable: true,
    destroyed: true,
    _last: true,
    chunkedEncoding: false,
    shouldKeepAlive: true,
    maxRequestsOnConnectionReached: false,
    _defaultKeepAlive: true,
    useChunkedEncodingByDefault: false,
    sendDate: false,
    _removedConnection: false,
    _removedContLen: false,
    _removedTE: false,
    strictContentLength: false,
    _contentLength: 0,
    _hasBody: true,
    _trailer: '',
    finished: true,
    _headerSent: true,
    _closed: true,
    _header: 'GET /fapi/v1/openInterest?symbol=MATICUSDT HTTP/1.1\r\n' +
      'Accept: application/json, text/plain, */*\r\n' +
      'Content-Type: application/json\r\n' +
      'User-Agent: Kronos-X-Engine/1.0.0\r\n' +
      'Accept-Encoding: gzip, compress, deflate, br\r\n' +
      'Host: fapi.binance.com\r\n' +
      'Connection: keep-alive\r\n' +
      '\r\n',
    _keepAliveTimeout: 0,
    _onPendingData: [Function: nop],
    agent: Agent {
      _events: [Object: null prototype],
      _eventsCount: 2,
      _maxListeners: undefined,
      defaultPort: 443,
      protocol: 'https:',
      options: [Object: null prototype],
      requests: [Object: null prototype] {},
      sockets: [Object: null prototype] {},
      freeSockets: [Object: null prototype],
      keepAliveMsecs: 1000,
      keepAlive: true,
      maxSockets: Infinity,
      maxFreeSockets: 256,
      scheduling: 'lifo',
      maxTotalSockets: Infinity,
      totalSocketCount: 4,
      maxCachedSessions: 100,
      _sessionCache: [Object],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false
    },
    socketPath: undefined,
    method: 'GET',
    maxHeaderSize: undefined,
    insecureHTTPParser: undefined,
    joinDuplicateHeaders: undefined,
    path: '/fapi/v1/openInterest?symbol=MATICUSDT',
    _ended: true,
    res: IncomingMessage {
      _events: [Object],
      _readableState: [ReadableState],
      _maxListeners: undefined,
      socket: null,
      httpVersionMajor: 1,
      httpVersionMinor: 1,
      httpVersion: '1.1',
      complete: true,
      rawHeaders: [Array],
      rawTrailers: [],
      joinDuplicateHeaders: undefined,
      aborted: false,
      upgrade: false,
      url: '',
      method: null,
      statusCode: 400,
      statusMessage: 'Bad Request',
      client: [TLSSocket],
      _consuming: false,
      _dumped: false,
      req: [Circular *1],
      _eventsCount: 4,
      responseUrl: 'https://fapi.binance.com/fapi/v1/openInterest?symbol=MATICUSDT',
      redirects: [],
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false,
      [Symbol(kHeaders)]: [Object],
      [Symbol(kHeadersCount)]: 26,
      [Symbol(kTrailers)]: null,
      [Symbol(kTrailersCount)]: 0
    },
    aborted: false,
    timeoutCb: null,
    upgradeOrConnect: false,
    parser: null,
    maxHeadersCount: null,
    reusedSocket: true,
    host: 'fapi.binance.com',
    protocol: 'https:',
    _redirectable: Writable {
      _events: [Object],
      _writableState: [WritableState],
      _maxListeners: undefined,
      _options: [Object],
      _ended: true,
      _ending: true,
      _redirectCount: 0,
      _redirects: [],
      _requestBodyLength: 0,
      _requestBodyBuffers: [],
      _eventsCount: 3,
      _onNativeResponse: [Function (anonymous)],
      _currentRequest: [Circular *1],
      _currentUrl: 'https://fapi.binance.com/fapi/v1/openInterest?symbol=MATICUSDT',
      _timeout: null,
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false
    },
    [Symbol(shapeMode)]: false,
    [Symbol(kCapture)]: false,
    [Symbol(kBytesWritten)]: 0,
    [Symbol(kNeedDrain)]: false,
    [Symbol(corked)]: 0,
    [Symbol(kChunkedBuffer)]: [],
    [Symbol(kChunkedLength)]: 0,
    [Symbol(kSocket)]: TLSSocket {
      _tlsOptions: [Object],
      _secureEstablished: true,
      _securePending: false,
      _newSessionPending: false,
      _controlReleased: true,
      secureConnecting: false,
      _SNICallback: null,
      servername: 'fapi.binance.com',
      alpnProtocol: false,
      authorized: true,
      authorizationError: null,
      encrypted: true,
      _events: [Object: null prototype],
      _eventsCount: 9,
      connecting: false,
      _hadError: false,
      _parent: null,
      _host: 'fapi.binance.com',
      _closeAfterHandlingError: false,
      _readableState: [ReadableState],
      _writableState: [WritableState],
      allowHalfOpen: false,
      _maxListeners: undefined,
      _sockname: null,
      _pendingData: null,
      _pendingEncoding: '',
      server: undefined,
      _server: null,
      ssl: [TLSWrap],
      _requestCert: true,
      _rejectUnauthorized: true,
      timeout: 5000,
      parser: null,
      _httpMessage: null,
      [Symbol(alpncallback)]: null,
      [Symbol(res)]: [TLSWrap],
      [Symbol(verified)]: true,
      [Symbol(pendingSession)]: null,
      [Symbol(async_id_symbol)]: -1,
      [Symbol(kHandle)]: [TLSWrap],
      [Symbol(lastWriteQueueSize)]: 0,
      [Symbol(timeout)]: Timeout {
        _idleTimeout: 5000,
        _idlePrev: [TimersList],
        _idleNext: [Timeout],
        _idleStart: 62512,
        _onTimeout: [Function: bound ],
        _timerArgs: undefined,
        _repeat: null,
        _destroyed: false,
        [Symbol(refed)]: false,
        [Symbol(kHasPrimitive)]: false,
        [Symbol(asyncId)]: 123537,
        [Symbol(triggerId)]: 123535,
        [Symbol(kAsyncContextFrame)]: undefined,
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined
      },
      [Symbol(kBuffer)]: null,
      [Symbol(kBufferCb)]: null,
      [Symbol(kBufferGen)]: null,
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false,
      [Symbol(kSetNoDelay)]: false,
      [Symbol(kSetKeepAlive)]: true,
      [Symbol(kSetKeepAliveInitialDelay)]: 1,
      [Symbol(kBytesRead)]: 0,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(connect-options)]: [Object]
    },
    [Symbol(kOutHeaders)]: [Object: null prototype] {
      accept: [Array],
      'content-type': [Array],
      'user-agent': [Array],
      'accept-encoding': [Array],
      host: [Array]
    },
    [Symbol(errored)]: null,
    [Symbol(kHighWaterMark)]: 16384,
    [Symbol(kRejectNonStandardBodyWrites)]: false,
    [Symbol(kUniqueHeaders)]: null
  },
  response: {
    status: 400,
    statusText: 'Bad Request',
    headers: Object [AxiosHeaders] {
      'content-type': 'application/json',
      'content-length': '97',
      connection: 'keep-alive',
      date: 'Wed, 29 Oct 2025 03:12:20 GMT',
      'access-control-allow-methods': 'GET, POST, PUT, DELETE, OPTIONS',
      server: 'Tengine',
      'x-mbx-used-weight-1m': '75',
      'x-response-time': '0ms',
      'access-control-allow-origin': '*',
      'x-cache': 'Error from cloudfront',
      via: '1.1 855dfb252649f6a4e8e07fb67cc85722.cloudfront.net (CloudFront)',
      'x-amz-cf-pop': 'GRU1-P1',
      'x-amz-cf-id': 'hZ_Bsyt-pHh52zbvj82Yer5PmkSv5-nUFJ2ryrw_9w3-BZvW14JxHA=='
    },
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 10000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://fapi.binance.com',
      params: [Object],
      method: 'get',
      url: '/fapi/v1/openInterest',
      allowAbsoluteUrls: true,
      data: undefined
    },
    request: <ref *1> ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: true,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: false,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 0,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'GET /fapi/v1/openInterest?symbol=MATICUSDT HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'User-Agent: Kronos-X-Engine/1.0.0\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: fapi.binance.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'GET',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/fapi/v1/openInterest?symbol=MATICUSDT',
      _ended: true,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: null,
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: true,
      host: 'fapi.binance.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 16384,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    data: {
      code: -4108,
      msg: 'Symbol is on delivering or delivered or settling or closed or pre-trading.'
    }
  },
  status: 400
}
⚠️ CoinGecko: Símbolo MATICUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
[DEBUG] binance_api: API Response: GET /api/v3/ping
⚠️ CryptoPanic API falhou para MATICUSDT: Request failed with status code 400
🔄 Usando fallback para MATICUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de MATICUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 11.80 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: 0.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 53%
🔍 [DEBUG CONFIANÇA] Base técnico: 68%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 58%
🔍 [DEBUG CONFIANÇA] Convergência: +3 positivos, -0 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] FINAL: 58%
✅ Score ponderado: 10.59 (Confiança: 58%)
📋 Sinal: STRONG_BUY strong
🧠 [V2] MATICUSDT: Score ponderado 10.59 (58% confiança)
📊 Sinal técnico V2: STRONG_BUY (68%)
   Técnico: STRONG_BUY (46.0 RSI, UP, Tendência de alta, Padrão: hammer, Volume acima da média). Score ponderado: 10.59. Confiança: 58%.
🔍 [2025-10-29T03:12:19.894Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for MATICUSDT
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.76807713,"equity":10.19707733},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:19.945"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:20.006"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 665ms
📊 MATICUSDT: Confiança original: 58%, Ajuste equity: 0, Confiança final: 53.1%
🔍 [2025-10-29T03:12:20.255Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for MATICUSDT
🔍 [2025-10-29T03:12:20.257Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for MATICUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 MATICUSDT: VWAP = $0.3865
✅ MATICUSDT: 4 confirmações - Confiança: 58%, Sinal: STRONG_BUY, VWAP dev: -1.83%
✅ MATICUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 MATICUSDT: ATR = $0.0038 (14 períodos)
🔍 [2025-10-29T03:12:21.105Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for MATICUSDT
✅ MATICUSDT: BUY AUTORIZADO - STRONG_BUY, Conf: 58%, Trend: UP
✅ MATICUSDT: AUTORIZADO - STRONG_BUY, Confiança 58%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 MATICUSDT: ATR = $0.0038 (14 períodos)
✅ MATICUSDT: ATR baixo (0.99%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 6.718119 → Notional: $2.55
⚠️ MATICUSDT: Valor da ordem ($2.55) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 13.178703 → Notional: $5.00
   💰 Margem ajustada: $1.00
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.00 (19.6% do saldo)
   Nocional (5x): $5.00
   Quantidade ajustada: 13.178703 MATIC
   Valor da ordem: $5.00
🔍 Verificando margem: disponível=$5.10, necessária=$1.00, posições abertas=0
💰 Trade aprovado: Margem $1.00 @ 5x
   Notional: $5.00
   Risco: LOW
📊 BUY: SL=$0.3737 (-1.5%), TP=$0.3910 (+3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:12:21.982Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for MATICUSDT
🔍 [2025-10-29T03:12:21.983Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for MATICUSDT
🔍 [2025-10-29T03:12:21.983Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for MATICUSDT
⚠️ [2025-10-29T03:12:21.983Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ MATICUSDT: APROVADO para trade (Score: 10.59, Conf: 58%, Signal: STRONG_BUY)
✅ Decision retornado: action=BUY, size=13.178703215603583

📝 ADICIONANDO MATICUSDT ao array opportunities (total agora: 5)
✅ MATICUSDT ADICIONADO com sucesso! Decision: {"action":"BUY","size":13.178703215603583}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707543246&signature=b4af9668fe289d9ff43642075fac77615120bacf36481dce102e1107a2b54a56
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:22.732"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:22.732"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.617","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:23.034"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.499","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.100"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:23.036"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.740","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"0.700"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:23.037"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.299","patternsDetected":2,"symbol":"ADAUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:23.037"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.837","patternsDetected":2,"symbol":"SOLUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:23.038"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 DOTUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ DOTUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($3.051) = $0.03
📊 DOTUSDT: Preço $3.0510, Custo mínimo $0.03

🚀 Iniciando análise V2 para DOTUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando DOTUSDT tecnicamente (1h)...
📱 Analisando sentimento de DOTUSDT...
🔍 Analisando Twitter para DOTUSDT...
🔍 Analisando Reddit para DOTUSDT...
⛓️  Analisando on-chain de DOTUSDT...
📊 Analisando derivativos de DOTUSDT...
🌍 Analisando macro de DOTUSDT...
🐋 Analisando smart money de DOTUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo DOTUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para DOTUSDT: Request failed with status code 400
🔄 Usando fallback para DOTUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de DOTUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] DOTUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:12:24.442Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for DOTUSDT
Nenhum dado de equity encontrado para DOTUSDT
📊 DOTUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:12:24.522Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for DOTUSDT
🔍 [2025-10-29T03:12:24.522Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for DOTUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.76485127,"equity":10.19644795},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:24.915"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:24.966"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 622ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOTUSDT: VWAP = $3.0633
⏸️ DOTUSDT: REJEITADO - Apenas 1 confirmações (necessário 2+)
   Detalhes: Confiança: 50%
⚠️ [2025-10-29T03:12:25.074Z] WARN [ANALYSIS_CAPTURE] ⚠️ Analysis warning recorded: Apenas 1 confirmações (necessário 2+)
⚠️ [2025-10-29T03:12:25.074Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save
⏸️ DOTUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 LINKUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ LINKUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($17.81) = $0.18
📊 LINKUSDT: Preço $17.8100, Custo mínimo $0.18

🚀 Iniciando análise V2 para LINKUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando LINKUSDT tecnicamente (1h)...
📱 Analisando sentimento de LINKUSDT...
🔍 Analisando Twitter para LINKUSDT...
🔍 Analisando Reddit para LINKUSDT...
⛓️  Analisando on-chain de LINKUSDT...
📊 Analisando derivativos de LINKUSDT...
🌍 Analisando macro de LINKUSDT...
🐋 Analisando smart money de LINKUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 344ms
⚠️ CoinGecko: Símbolo LINKUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para LINKUSDT: Request failed with status code 400
🔄 Usando fallback para LINKUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de LINKUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] LINKUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:12:27.015Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for LINKUSDT
Nenhum dado de equity encontrado para LINKUSDT
📊 LINKUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:12:27.073Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for LINKUSDT
🔍 [2025-10-29T03:12:27.074Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for LINKUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 831ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 LINKUSDT: VWAP = $17.9977
✅ LINKUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.04%
✅ LINKUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 LINKUSDT: ATR = $0.3029 (14 períodos)
🔍 [2025-10-29T03:12:27.915Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for LINKUSDT
✅ LINKUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ LINKUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 LINKUSDT: ATR = $0.3029 (14 períodos)
✅ LINKUSDT: ATR baixo (1.70%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.143114 → Notional: $2.55
⚠️ LINKUSDT: Valor da ordem ($2.49) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.290000 → Notional: $5.16
   💰 Margem ajustada: $1.03
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.03 (20.3% do saldo)
   Nocional (5x): $5.16
   Quantidade ajustada: 0.290000 LINK
   Valor da ordem: $5.16
🔍 Verificando margem: disponível=$5.10, necessária=$1.03, posições abertas=0
💰 Trade aprovado: Margem $1.03 @ 5x
   Notional: $5.16
   Risco: LOW
📊 SELL: SL=$18.0771 (+1.5%), TP=$17.2650 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:12:28.798Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for LINKUSDT
🔍 [2025-10-29T03:12:28.798Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for LINKUSDT
🔍 [2025-10-29T03:12:28.799Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for LINKUSDT
⚠️ [2025-10-29T03:12:28.799Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ LINKUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.29

📝 ADICIONANDO LINKUSDT ao array opportunities (total agora: 6)
✅ LINKUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.29}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.7692722,"equity":10.19587076},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:29.910"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 UNIUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ UNIUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($6.325) = $0.06
📊 UNIUSDT: Preço $6.3250, Custo mínimo $0.06

🚀 Iniciando análise V2 para UNIUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando UNIUSDT tecnicamente (1h)...
📱 Analisando sentimento de UNIUSDT...
🔍 Analisando Twitter para UNIUSDT...
🔍 Analisando Reddit para UNIUSDT...
⛓️  Analisando on-chain de UNIUSDT...
📊 Analisando derivativos de UNIUSDT...
🌍 Analisando macro de UNIUSDT...
🐋 Analisando smart money de UNIUSDT...
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:30.111"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 766ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo UNIUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para UNIUSDT: Request failed with status code 400
🔄 Usando fallback para UNIUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de UNIUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] UNIUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:12:31.167Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for UNIUSDT
Nenhum dado de equity encontrado para UNIUSDT
📊 UNIUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:12:31.213Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for UNIUSDT
🔍 [2025-10-29T03:12:31.214Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for UNIUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 UNIUSDT: VWAP = $6.3529
⏸️ UNIUSDT: REJEITADO - Apenas 1 confirmações (necessário 2+)
   Detalhes: Confiança: 50%
⚠️ [2025-10-29T03:12:31.769Z] WARN [ANALYSIS_CAPTURE] ⚠️ Analysis warning recorded: Apenas 1 confirmações (necessário 2+)
⚠️ [2025-10-29T03:12:31.770Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save
⏸️ UNIUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ATOMUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ ATOMUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($3.089) = $0.03
📊 ATOMUSDT: Preço $3.0890, Custo mínimo $0.03

🚀 Iniciando análise V2 para ATOMUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ATOMUSDT tecnicamente (1h)...
📱 Analisando sentimento de ATOMUSDT...
🔍 Analisando Twitter para ATOMUSDT...
🔍 Analisando Reddit para ATOMUSDT...
⛓️  Analisando on-chain de ATOMUSDT...
📊 Analisando derivativos de ATOMUSDT...
🌍 Analisando macro de ATOMUSDT...
🐋 Analisando smart money de ATOMUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707553954&signature=665fde3f2036b554615ea94631ad6ce692ee5956a3135c34fa9ee0dbf7ed7326
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:33.454"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:33.455"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"2ms","overallScore":"0.390","patternsDetected":2,"symbol":"BTCUSDT","technicalScore":"0.600"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:33.532"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.300","patternsDetected":2,"symbol":"ETHUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:33.535"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.793","patternsDetected":2,"symbol":"BNBUSDT","technicalScore":"0.800"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:33.536"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.185","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"0.100"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:33.537"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.862","patternsDetected":2,"symbol":"SOLUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:33.538"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo ATOMUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para ATOMUSDT: Request failed with status code 400
🔄 Usando fallback para ATOMUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ATOMUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ATOMUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:12:34.517Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ATOMUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707555077&signature=24e7535092d9ee07a4962d49b089b8da05a89a4e8645e853baaea17a653487a8
Nenhum dado de equity encontrado para ATOMUSDT
📊 ATOMUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:12:34.567Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ATOMUSDT
🔍 [2025-10-29T03:12:34.567Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ATOMUSDT
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.77085642,"equity":10.19535414},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:34.802"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:34.847"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 638ms
 GET /api/binance/balance 200 in 644ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ATOMUSDT: VWAP = $3.1926
✅ ATOMUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -3.24%
✅ ATOMUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ATOMUSDT: ATR = $0.0391 (14 períodos)
🔍 [2025-10-29T03:12:35.406Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ATOMUSDT
✅ ATOMUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ ATOMUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 306ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ATOMUSDT: ATR = $0.0391 (14 períodos)
✅ ATOMUSDT: ATR baixo (1.26%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.825139 → Notional: $2.55
[DEBUG] websocket: Pong recebido
⚠️ ATOMUSDT: Valor da ordem ($2.53) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 1.620000 → Notional: $5.00
   💰 Margem ajustada: $1.00
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.00 (19.6% do saldo)
   Nocional (5x): $5.00
   Quantidade ajustada: 1.620000 ATOM
   Valor da ordem: $5.00
🔍 Verificando margem: disponível=$5.10, necessária=$1.00, posições abertas=0
💰 Trade aprovado: Margem $1.00 @ 5x
   Notional: $5.00
   Risco: LOW
📊 SELL: SL=$3.1353 (+1.5%), TP=$2.9945 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:12:36.263Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ATOMUSDT
🔍 [2025-10-29T03:12:36.264Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ATOMUSDT
🔍 [2025-10-29T03:12:36.264Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ATOMUSDT
⚠️ [2025-10-29T03:12:36.265Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ATOMUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=1.62

📝 ADICIONANDO ATOMUSDT ao array opportunities (total agora: 7)
✅ ATOMUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":1.62}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 802ms
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 NEARUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ NEARUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($2.233) = $0.22
📊 NEARUSDT: Preço $2.2330, Custo mínimo $0.22

🚀 Iniciando análise V2 para NEARUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando NEARUSDT tecnicamente (1h)...
📱 Analisando sentimento de NEARUSDT...
🔍 Analisando Twitter para NEARUSDT...
🔍 Analisando Reddit para NEARUSDT...
⛓️  Analisando on-chain de NEARUSDT...
📊 Analisando derivativos de NEARUSDT...
🌍 Analisando macro de NEARUSDT...
🐋 Analisando smart money de NEARUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo NEARUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para NEARUSDT: Request failed with status code 400
🔄 Usando fallback para NEARUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de NEARUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] NEARUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:12:38.717Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for NEARUSDT
Nenhum dado de equity encontrado para NEARUSDT
📊 NEARUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:12:38.764Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for NEARUSDT
🔍 [2025-10-29T03:12:38.765Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for NEARUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 NEARUSDT: VWAP = $2.2643
✅ NEARUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.38%
✅ NEARUSDT: Dados de volume não disponíveis
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.76761868,"equity":10.19512148},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:39.345"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:39.394"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 882ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 NEARUSDT: ATR = $0.0334 (14 períodos)
🔍 [2025-10-29T03:12:39.593Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for NEARUSDT
✅ NEARUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ NEARUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 NEARUSDT: ATR = $0.0334 (14 períodos)
✅ NEARUSDT: ATR baixo (1.50%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 1.141448 → Notional: $2.55
⚠️ NEARUSDT: Valor da ordem ($2.23) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 3.000000 → Notional: $6.70
   💰 Margem ajustada: $1.34
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.34 (26.3% do saldo)
   Nocional (5x): $6.70
   Quantidade ajustada: 3.000000 NEAR
   Valor da ordem: $6.70
🔍 Verificando margem: disponível=$5.10, necessária=$1.34, posições abertas=0
💰 Trade aprovado: Margem $1.34 @ 5x
   Notional: $6.70
   Risco: LOW
📊 SELL: SL=$2.2665 (+1.5%), TP=$2.1647 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:12:40.505Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for NEARUSDT
🔍 [2025-10-29T03:12:40.505Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for NEARUSDT
🔍 [2025-10-29T03:12:40.506Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for NEARUSDT
⚠️ [2025-10-29T03:12:40.506Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ NEARUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=3

📝 ADICIONANDO NEARUSDT ao array opportunities (total agora: 8)
✅ NEARUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":3}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 FTMUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 1, stepSize: 1
⚠️ FTMUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(1) × price($0.6994) = $0.70
📊 FTMUSDT: Preço $0.6994, Custo mínimo $0.70

🚀 Iniciando análise V2 para FTMUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando FTMUSDT tecnicamente (1h)...
📱 Analisando sentimento de FTMUSDT...
🔍 Analisando Twitter para FTMUSDT...
🔍 Analisando Reddit para FTMUSDT...
⛓️  Analisando on-chain de FTMUSDT...
📊 Analisando derivativos de FTMUSDT...
🌍 Analisando macro de FTMUSDT...
🐋 Analisando smart money de FTMUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
Erro ao buscar Open Interest: AxiosError: Request failed with status code 400
    at settle (webpack-internal:///(rsc)/./node_modules/axios/lib/core/settle.js:24:12)
    at IncomingMessage.handleStreamEnd (webpack-internal:///(rsc)/./node_modules/axios/lib/adapters/http.js:648:71)
    at IncomingMessage.emit (node:events:530:35)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (webpack-internal:///(rsc)/./node_modules/axios/lib/core/Axios.js:57:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async BinanceApiClient.getOpenInterest (webpack-internal:///(rsc)/./src/services/binance-api.ts:400:26)
    at async DerivativesAnalyzer.getOpenInterest (webpack-internal:///(rsc)/./src/services/analyzers/derivatives-analyzer.ts:50:24)
    at async DerivativesAnalyzer.analyze (webpack-internal:///(rsc)/./src/services/analyzers/derivatives-analyzer.ts:17:30)
    at async Promise.all (index 3)
    at async PredictiveAnalyzerV2.consolidate (webpack-internal:///(rsc)/./src/services/analyzers/predictive-analyzer-v2.ts:33:81)
    at async AdvancedTradingEngine.getOptimalSymbols (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:190:38)
    at async AdvancedTradingEngine.runTradingCycle (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:2024:39) {
  code: 'ERR_BAD_REQUEST',
  config: {
    transitional: {
      silentJSONParsing: true,
      forcedJSONParsing: true,
      clarifyTimeoutError: false
    },
    adapter: [ 'xhr', 'http', 'fetch' ],
    transformRequest: [ [Function: transformRequest] ],
    transformResponse: [ [Function: transformResponse] ],
    timeout: 10000,
    xsrfCookieName: 'XSRF-TOKEN',
    xsrfHeaderName: 'X-XSRF-TOKEN',
    maxContentLength: -1,
    maxBodyLength: -1,
    env: { FormData: [Function [FormData]], Blob: [class Blob] },
    validateStatus: [Function: validateStatus],
    headers: Object [AxiosHeaders] {
      Accept: 'application/json, text/plain, */*',
      'Content-Type': 'application/json',
      'User-Agent': 'Kronos-X-Engine/1.0.0',
      'Accept-Encoding': 'gzip, compress, deflate, br'
    },
    baseURL: 'https://fapi.binance.com',
    params: { symbol: 'FTMUSDT' },
    method: 'get',
    url: '/fapi/v1/openInterest',
    allowAbsoluteUrls: true,
    data: undefined
  },
  request: <ref *1> ClientRequest {
    _events: [Object: null prototype] {
      abort: [Function (anonymous)],
      aborted: [Function (anonymous)],
      connect: [Function (anonymous)],
      error: [Function (anonymous)],
      socket: [Function (anonymous)],
      timeout: [Function (anonymous)],
      finish: [Function: requestOnFinish]
    },
    _eventsCount: 7,
    _maxListeners: undefined,
    outputData: [],
    outputSize: 0,
    writable: true,
    destroyed: true,
    _last: true,
    chunkedEncoding: false,
    shouldKeepAlive: true,
    maxRequestsOnConnectionReached: false,
    _defaultKeepAlive: true,
    useChunkedEncodingByDefault: false,
    sendDate: false,
    _removedConnection: false,
    _removedContLen: false,
    _removedTE: false,
    strictContentLength: false,
    _contentLength: 0,
    _hasBody: true,
    _trailer: '',
    finished: true,
    _headerSent: true,
    _closed: true,
    _header: 'GET /fapi/v1/openInterest?symbol=FTMUSDT HTTP/1.1\r\n' +
      'Accept: application/json, text/plain, */*\r\n' +
      'Content-Type: application/json\r\n' +
      'User-Agent: Kronos-X-Engine/1.0.0\r\n' +
      'Accept-Encoding: gzip, compress, deflate, br\r\n' +
      'Host: fapi.binance.com\r\n' +
      'Connection: keep-alive\r\n' +
      '\r\n',
    _keepAliveTimeout: 0,
    _onPendingData: [Function: nop],
    agent: Agent {
      _events: [Object: null prototype],
      _eventsCount: 2,
      _maxListeners: undefined,
      defaultPort: 443,
      protocol: 'https:',
      options: [Object: null prototype],
      requests: [Object: null prototype] {},
      sockets: [Object: null prototype] {},
      freeSockets: [Object: null prototype],
      keepAliveMsecs: 1000,
      keepAlive: true,
      maxSockets: Infinity,
      maxFreeSockets: 256,
      scheduling: 'lifo',
      maxTotalSockets: Infinity,
      totalSocketCount: 4,
      maxCachedSessions: 100,
      _sessionCache: [Object],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false
    },
    socketPath: undefined,
    method: 'GET',
    maxHeaderSize: undefined,
    insecureHTTPParser: undefined,
    joinDuplicateHeaders: undefined,
    path: '/fapi/v1/openInterest?symbol=FTMUSDT',
    _ended: true,
    res: IncomingMessage {
      _events: [Object],
      _readableState: [ReadableState],
      _maxListeners: undefined,
      socket: null,
      httpVersionMajor: 1,
      httpVersionMinor: 1,
      httpVersion: '1.1',
      complete: true,
      rawHeaders: [Array],
      rawTrailers: [],
      joinDuplicateHeaders: undefined,
      aborted: false,
      upgrade: false,
      url: '',
      method: null,
      statusCode: 400,
      statusMessage: 'Bad Request',
      client: [TLSSocket],
      _consuming: false,
      _dumped: false,
      req: [Circular *1],
      _eventsCount: 4,
      responseUrl: 'https://fapi.binance.com/fapi/v1/openInterest?symbol=FTMUSDT',
      redirects: [],
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false,
      [Symbol(kHeaders)]: [Object],
      [Symbol(kHeadersCount)]: 26,
      [Symbol(kTrailers)]: null,
      [Symbol(kTrailersCount)]: 0
    },
    aborted: false,
    timeoutCb: null,
    upgradeOrConnect: false,
    parser: null,
    maxHeadersCount: null,
    reusedSocket: true,
    host: 'fapi.binance.com',
    protocol: 'https:',
    _redirectable: Writable {
      _events: [Object],
      _writableState: [WritableState],
      _maxListeners: undefined,
      _options: [Object],
      _ended: true,
      _ending: true,
      _redirectCount: 0,
      _redirects: [],
      _requestBodyLength: 0,
      _requestBodyBuffers: [],
      _eventsCount: 3,
      _onNativeResponse: [Function (anonymous)],
      _currentRequest: [Circular *1],
      _currentUrl: 'https://fapi.binance.com/fapi/v1/openInterest?symbol=FTMUSDT',
      _timeout: null,
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false
    },
    [Symbol(shapeMode)]: false,
    [Symbol(kCapture)]: false,
    [Symbol(kBytesWritten)]: 0,
    [Symbol(kNeedDrain)]: false,
    [Symbol(corked)]: 0,
    [Symbol(kChunkedBuffer)]: [],
    [Symbol(kChunkedLength)]: 0,
    [Symbol(kSocket)]: TLSSocket {
      _tlsOptions: [Object],
      _secureEstablished: true,
      _securePending: false,
      _newSessionPending: false,
      _controlReleased: true,
      secureConnecting: false,
      _SNICallback: null,
      servername: 'fapi.binance.com',
      alpnProtocol: false,
      authorized: true,
      authorizationError: null,
      encrypted: true,
      _events: [Object: null prototype],
      _eventsCount: 9,
      connecting: false,
      _hadError: false,
      _parent: null,
      _host: 'fapi.binance.com',
      _closeAfterHandlingError: false,
      _readableState: [ReadableState],
      _writableState: [WritableState],
      allowHalfOpen: false,
      _maxListeners: undefined,
      _sockname: null,
      _pendingData: null,
      _pendingEncoding: '',
      server: undefined,
      _server: null,
      ssl: [TLSWrap],
      _requestCert: true,
      _rejectUnauthorized: true,
      timeout: 5000,
      parser: null,
      _httpMessage: null,
      [Symbol(alpncallback)]: null,
      [Symbol(res)]: [TLSWrap],
      [Symbol(verified)]: true,
      [Symbol(pendingSession)]: null,
      [Symbol(async_id_symbol)]: -1,
      [Symbol(kHandle)]: [TLSWrap],
      [Symbol(lastWriteQueueSize)]: 0,
      [Symbol(timeout)]: Timeout {
        _idleTimeout: 5000,
        _idlePrev: [TimersList],
        _idleNext: [Timeout],
        _idleStart: 85544,
        _onTimeout: [Function: bound ],
        _timerArgs: undefined,
        _repeat: null,
        _destroyed: false,
        [Symbol(refed)]: false,
        [Symbol(kHasPrimitive)]: false,
        [Symbol(asyncId)]: 154982,
        [Symbol(triggerId)]: 154980,
        [Symbol(kAsyncContextFrame)]: undefined,
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined
      },
      [Symbol(kBuffer)]: null,
      [Symbol(kBufferCb)]: null,
      [Symbol(kBufferGen)]: null,
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false,
      [Symbol(kSetNoDelay)]: false,
      [Symbol(kSetKeepAlive)]: true,
      [Symbol(kSetKeepAliveInitialDelay)]: 1,
      [Symbol(kBytesRead)]: 0,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(connect-options)]: [Object]
    },
    [Symbol(kOutHeaders)]: [Object: null prototype] {
      accept: [Array],
      'content-type': [Array],
      'user-agent': [Array],
      'accept-encoding': [Array],
      host: [Array]
    },
    [Symbol(errored)]: null,
    [Symbol(kHighWaterMark)]: 16384,
    [Symbol(kRejectNonStandardBodyWrites)]: false,
    [Symbol(kUniqueHeaders)]: null
  },
  response: {
    status: 400,
    statusText: 'Bad Request',
    headers: Object [AxiosHeaders] {
      'content-type': 'application/json',
      'content-length': '97',
      connection: 'keep-alive',
      date: 'Wed, 29 Oct 2025 03:12:43 GMT',
      'access-control-allow-methods': 'GET, POST, PUT, DELETE, OPTIONS',
      server: 'Tengine',
      'x-mbx-used-weight-1m': '157',
      'x-response-time': '0ms',
      'access-control-allow-origin': '*',
      'x-cache': 'Error from cloudfront',
      via: '1.1 5285ace3d26f1da69865981a87791a88.cloudfront.net (CloudFront)',
      'x-amz-cf-pop': 'GRU1-P1',
      'x-amz-cf-id': 'Da5qfVWhaFw9tACCniRpfw3KudZM7j58gjRQfpju7k7wXnyvkVnGnQ=='
    },
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 10000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://fapi.binance.com',
      params: [Object],
      method: 'get',
      url: '/fapi/v1/openInterest',
      allowAbsoluteUrls: true,
      data: undefined
    },
    request: <ref *1> ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: true,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: false,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 0,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'GET /fapi/v1/openInterest?symbol=FTMUSDT HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'User-Agent: Kronos-X-Engine/1.0.0\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: fapi.binance.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'GET',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/fapi/v1/openInterest?symbol=FTMUSDT',
      _ended: true,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: null,
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: true,
      host: 'fapi.binance.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 16384,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    data: {
      code: -4108,
      msg: 'Symbol is on delivering or delivered or settling or closed or pre-trading.'
    }
  },
  status: 400
}
⚠️ CoinGecko: Símbolo FTMUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para FTMUSDT: Request failed with status code 400
🔄 Usando fallback para FTMUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de FTMUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: 0.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 7 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 13%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (22% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -0 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: 6.88 (Confiança: 50%)
📋 Sinal: STRONG_BUY strong
🧠 [V2] FTMUSDT: Score ponderado 6.88 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: 6.88. Confiança: 50%.
🔍 [2025-10-29T03:12:42.939Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for FTMUSDT
Nenhum dado de equity encontrado para FTMUSDT
📊 FTMUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 45.8%
🔍 [2025-10-29T03:12:42.983Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for FTMUSDT
🔍 [2025-10-29T03:12:42.983Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for FTMUSDT
⏸️ FTMUSDT: REJEITADO - STRONG_BUY contra tendência DOWN
⏸️ FTMUSDT: REJEITADO - Sem decision retornada

🏁 LOOP TERMINOU! Total de 15 símbolos analisados, 8 oportunidades adicionadas ao array

💎 CAPITAL ALTO: Priorizando moedas com MELHOR SCORE para maximizar lucro

📊 Top oportunidades encontradas (8 total):
   1. MATICUSDT: Score 10.59, Confiança 58%, Custo mínimo $0.04
   2. SOLUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   3. DOGEUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   4. XRPUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.26
   5. LINKUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.18

✅ 8 oportunidades encontradas e prontas para execução!
📋 Detalhes das oportunidades:
   1. MATICUSDT: action=BUY, size=13.178703215603583, conf=58%
   2. SOLUSDT: action=SELL, size=0.03, conf=50%
   3. DOGEUSDT: action=SELL, size=26, conf=50%
   4. XRPUSDT: action=SELL, size=2, conf=50%
   5. LINKUSDT: action=SELL, size=0.29, conf=50%
   6. ATOMUSDT: action=SELL, size=1.62, conf=50%
   7. NEARUSDT: action=SELL, size=3, conf=50%
   8. ADAUSDT: action=SELL, size=8, conf=58%

🔚 RETORNANDO 8 oportunidades de getOptimalSymbols()
🎯 Encontradas 8 oportunidades

🚀 EXECUÇÃO DE TRADES - Ciclo 1:
📊 DEBUG - Status antes da execução:
   isRunning: true
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 0
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade
   canOpenNewTrade: true
   openTrades.size: 0
   opportunities.length: 8
🎯 Processando 2 oportunidades (máximo 2 por ciclo)...

🔍 OPORTUNIDADE 1/2: MATICUSDT
   Action: BUY
   Size: 13.178703215603583
   Confidence: 58%
   Score: 10.594339622641511
🔍 Verificando condições para execução:
   isRunning: true
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 0
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade
   canOpenNewTrade: true
❌ Erro no ciclo de trading: TypeError: this.configService.getSymbolSpecificConfig is not a function
    at AdvancedTradingEngine.canOpenTradeWithPriority (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:2189:49)
    at AdvancedTradingEngine.runTradingCycle (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:2049:58)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/time
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.76611474,"equity":10.19569376},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:44.073"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:44.128"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 620ms
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 303ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 759ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.76027405,"equity":10.19592286},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:49.943"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:50.002"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 657ms
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707573257&signature=17d1f52b8512e6bf2eaba8320287cc36d14d4b4a38f4bf2ec2cfa9ff5582f185
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:52.730"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:52.731"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.75992734,"equity":10.19623536},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:54.940"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:55.028"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 678ms
[DEBUG] websocket: Pong recebido
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 322ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 815ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.76811568,"equity":10.19656478},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:59.921"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:12:59.967"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 615ms
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707583955&signature=177bed97a3a2622a17f488468a6c2fbf11d83c41a4eea9cf976938c0d3c8e51c
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:03.402"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:03.407"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707585187&signature=067136318f191a2b20bbc102b7f5f9490d0be2e1cd9ae82487cbde9d52d8998a
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.76941966,"equity":10.19609425},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:04.931"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
 GET /api/binance/balance 200 in 630ms
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:05.003"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 652ms
[DEBUG] websocket: Pong recebido
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 319ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 748ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.76747113,"equity":10.19657202},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:09.910"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:09.964"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 623ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.75803688,"equity":10.19621313},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:14.912"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:14.995"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 653ms
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 286ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 758ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.75671547,"equity":10.19640104},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:19.930"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:19.973"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 625ms
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707603263&signature=1d8278ad8cc163d74f03ab078822fb8f914946b54da85b18a4411ccbf9fd957c
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:22.738"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:22.739"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.247","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"0.300"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:23.037"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.228","patternsDetected":2,"symbol":"ETHUSDT","technicalScore":"0.100"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:23.039"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.852","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:23.040"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.385","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:23.041"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.719","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"0.700"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:23.042"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.75710805,"equity":10.1968108},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:24.892"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:24.981"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 730ms
[DEBUG] websocket: Pong recebido
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 295ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 750ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.74870357,"equity":10.19653205},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:29.080"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:29.125"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 619ms
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707613959&signature=5ee1e9baf664c14458aa5c697610fb998e6130cb8e350d3b9e334c8159e65018
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:33.441"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:33.442"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.540","patternsDetected":2,"symbol":"BTCUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:33.542"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.641","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.500"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:33.544"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.765","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"0.700"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:33.545"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.616","patternsDetected":2,"symbol":"ADAUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:33.546"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.746","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"0.700"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:33.547"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707615173&signature=67e58a09ec6e7a2a64d2d48694d8c18ae520b9201407aef6a78c8dc519747477
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.74990281,"equity":10.19628246},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:34.940"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
 GET /api/binance/balance 200 in 605ms
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:35.021"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 682ms
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 294ms
[DEBUG] websocket: Pong recebido
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 767ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.75861918,"equity":10.1955761},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:39.911"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:39.966"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 621ms

🔄 CICLO 2 - Iniciando verificação de oportunidades...
📊 DEBUG - Status do ciclo 2:
   isRunning: true
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 0
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade
   canOpenNewTrade: true
   openTrades.size: 0
💰 Obtendo saldo atual...
💰 Saldo atual: $10.20
🔍 Verificando se pode abrir novas trades...
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 0
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade
🔍 Resultado canOpenNewTrade: true
🔍 Buscando oportunidades...

🔍 Analisando oportunidades em 15 símbolos...
💰 Capital disponível: $10.20
🚫 Símbolos bloqueados: ENAUSDT
⭐ Símbolos prioritários: BTCUSDT, ETHUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BTCUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.00001, stepSize: 0.00001
⚠️ BTCUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.00001) × price($112500) = $1.13
📊 BTCUSDT: Preço $112500.0000, Custo mínimo $1.13

🚀 Iniciando análise V2 para BTCUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BTCUSDT tecnicamente (1h)...
📱 Analisando sentimento de BTCUSDT...
🔍 Analisando Twitter para BTCUSDT...
🔍 Analisando Reddit para BTCUSDT...
⛓️  Analisando on-chain de BTCUSDT...
📊 Analisando derivativos de BTCUSDT...
🌍 Analisando macro de BTCUSDT...
🐋 Analisando smart money de BTCUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/time
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.75727202,"equity":10.19553053},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:44.971"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:45.077"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 736ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo BTCUSDT não mapeado
⚠️ CryptoPanic API falhou para BTCUSDT: Request failed with status code 400
🔄 Usando fallback para BTCUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BTCUSDT nas últimas 6h
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 298ms
📊 Fear & Greed: 51 (Neutral)
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BTCUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:13:46.669Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BTCUSDT
Nenhum dado de equity encontrado para BTCUSDT
📊 BTCUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:13:46.753Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BTCUSDT
🔍 [2025-10-29T03:13:46.753Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BTCUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
Nenhum dado de equity encontrado para BTCUSDT
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: VWAP = $111287.9764
✅ BTCUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.09%
✅ BTCUSDT: Dados de volume não disponíveis
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 705ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $831.9936 (14 períodos)
🔍 [2025-10-29T03:13:47.590Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BTCUSDT
✅ BTCUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BTCUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $831.9936 (14 períodos)
✅ BTCUSDT: ATR baixo (0.74%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.000023 → Notional: $2.55
⏸️ BTCUSDT: Quantidade muito pequena (0 < minQty 0.001)
⏸️ BTCUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ETHUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.0001, stepSize: 0.0001
⚠️ ETHUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.0001) × price($3997.09) = $0.40
📊 ETHUSDT: Preço $3997.0900, Custo mínimo $0.40

🚀 Iniciando análise V2 para ETHUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ETHUSDT tecnicamente (1h)...
📱 Analisando sentimento de ETHUSDT...
🔍 Analisando Twitter para ETHUSDT...
🔍 Analisando Reddit para ETHUSDT...
⛓️  Analisando on-chain de ETHUSDT...
📊 Analisando derivativos de ETHUSDT...
🌍 Analisando macro de ETHUSDT...
🐋 Analisando smart money de ETHUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.75752657,"equity":10.19583263},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:49.959"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:50.003"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 621ms
⚠️ CoinGecko: Símbolo ETHUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para ETHUSDT: Request failed with status code 400
🔄 Usando fallback para ETHUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ETHUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ETHUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:13:50.410Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ETHUSDT
Nenhum dado de equity encontrado para ETHUSDT
📊 ETHUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:13:50.504Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ETHUSDT
🔍 [2025-10-29T03:13:50.505Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ETHUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: VWAP = $3974.5061
✅ ETHUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 0.57%
✅ ETHUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $47.6457 (14 períodos)
🔍 [2025-10-29T03:13:51.335Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ETHUSDT
✅ ETHUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ ETHUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: ATR = $47.6457 (14 períodos)
✅ ETHUSDT: ATR baixo (1.19%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.000638 → Notional: $2.55
⏸️ ETHUSDT: Quantidade muito pequena (0 < minQty 0.001)
⏸️ ETHUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707633270&signature=62bb2f7be585ecc15a242643643b3a9e6b354792bed88273fc704c6b036e3059
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:52.722"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:52.724"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BNBUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ BNBUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($1102.44) = $1.10
📊 BNBUSDT: Preço $1102.4400, Custo mínimo $1.10

🚀 Iniciando análise V2 para BNBUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BNBUSDT tecnicamente (1h)...
📱 Analisando sentimento de BNBUSDT...
🔍 Analisando Twitter para BNBUSDT...
🔍 Analisando Reddit para BNBUSDT...
⛓️  Analisando on-chain de BNBUSDT...
📊 Analisando derivativos de BNBUSDT...
🌍 Analisando macro de BNBUSDT...
🐋 Analisando smart money de BNBUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo BNBUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para BNBUSDT: Request failed with status code 400
🔄 Usando fallback para BNBUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BNBUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: -7.08 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 5 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 80%
🔍 [DEBUG CONFIANÇA] Base técnico: 68%
🔍 [DEBUG CONFIANÇA] Sem penalidade (44% ativos é aceitável) = 68%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -2 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] -10% (conflito forte: 2) = 58%
🔍 [DEBUG CONFIANÇA] FINAL: 58%
✅ Score ponderado: -4.11 (Confiança: 58%)
📋 Sinal: STRONG_SELL moderate
🧠 [V2] BNBUSDT: Score ponderado -4.11 (58% confiança)
📊 Sinal técnico V2: SELL (68%)
   Técnico: SELL (50.0 RSI, DOWN, Tendência de baixa, Padrão bearish, Volume acima da média). Score ponderado: -4.11. Confiança: 58%.
🔍 [2025-10-29T03:13:54.128Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BNBUSDT
Nenhum dado de equity encontrado para BNBUSDT
📊 BNBUSDT: Confiança original: 58%, Ajuste equity: 0, Confiança final: 62.9%
🔍 [2025-10-29T03:13:54.171Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BNBUSDT
🔍 [2025-10-29T03:13:54.172Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BNBUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: VWAP = $1111.9289
✅ BNBUSDT: 4 confirmações - Confiança: 58%, Sinal: STRONG_SELL, VWAP dev: -0.85%
✅ BNBUSDT: Dados de volume não disponíveis
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.75715516,"equity":10.19624861},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:54.912"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:54.959"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 614ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.8236 (14 períodos)
🔍 [2025-10-29T03:13:55.044Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BNBUSDT
✅ BNBUSDT: SELL AUTORIZADO - STRONG_SELL, Conf: 58%, Trend: DOWN
✅ BNBUSDT: AUTORIZADO - STRONG_SELL, Confiança 58%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.8236 (14 períodos)
✅ BNBUSDT: ATR baixo (1.25%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.002312 → Notional: $2.55
[DEBUG] websocket: Pong recebido
⏸️ BNBUSDT: Quantidade muito pequena (0 < minQty 0.01)
⏸️ BNBUSDT: REJEITADO - Sem decision retornada
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 336ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 SOLUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ SOLUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($193.71) = $0.19
📊 SOLUSDT: Preço $193.7100, Custo mínimo $0.19

🚀 Iniciando análise V2 para SOLUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando SOLUSDT tecnicamente (1h)...
📱 Analisando sentimento de SOLUSDT...
🔍 Analisando Twitter para SOLUSDT...
🔍 Analisando Reddit para SOLUSDT...
⛓️  Analisando on-chain de SOLUSDT...
📊 Analisando derivativos de SOLUSDT...
🌍 Analisando macro de SOLUSDT...
🐋 Analisando smart money de SOLUSDT...
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 916ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo SOLUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para SOLUSDT: Request failed with status code 400
🔄 Usando fallback para SOLUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de SOLUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] SOLUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:13:58.583Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for SOLUSDT
📊 SOLUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:13:58.912Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for SOLUSDT
🔍 [2025-10-29T03:13:58.913Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for SOLUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: VWAP = $192.7884
⏸️ SOLUSDT: REJEITADO - Apenas 1 confirmações (necessário 2+)
   Detalhes: Confiança: 50%
⚠️ [2025-10-29T03:13:59.469Z] WARN [ANALYSIS_CAPTURE] ⚠️ Analysis warning recorded: Apenas 1 confirmações (necessário 2+)
⚠️ [2025-10-29T03:13:59.470Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save
⏸️ SOLUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.75794008,"equity":10.19594978},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:59.908"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:13:59.954"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 615ms
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 DOGEUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 1, stepSize: 1
⚠️ DOGEUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(1) × price($0.19313) = $0.19
📊 DOGEUSDT: Preço $0.1931, Custo mínimo $0.19

🚀 Iniciando análise V2 para DOGEUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando DOGEUSDT tecnicamente (1h)...
📱 Analisando sentimento de DOGEUSDT...
🔍 Analisando Twitter para DOGEUSDT...
🔍 Analisando Reddit para DOGEUSDT...
⛓️  Analisando on-chain de DOGEUSDT...
📊 Analisando derivativos de DOGEUSDT...
🌍 Analisando macro de DOGEUSDT...
🐋 Analisando smart money de DOGEUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo DOGEUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para DOGEUSDT: Request failed with status code 400
🔄 Usando fallback para DOGEUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de DOGEUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] DOGEUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:14:01.494Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for DOGEUSDT
📊 DOGEUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:14:01.819Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for DOGEUSDT
🔍 [2025-10-29T03:14:01.820Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for DOGEUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: VWAP = $0.1975
✅ DOGEUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -2.24%
✅ DOGEUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0026 (14 períodos)
🔍 [2025-10-29T03:14:02.664Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for DOGEUSDT
✅ DOGEUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ DOGEUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0026 (14 períodos)
✅ DOGEUSDT: ATR baixo (1.35%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 13.199920 → Notional: $2.55
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707643966&signature=3eef1e620c708f782a041e3fd325fb3a6cb69523d5a026ac2b4dbac93a292b35
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:03.431"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:03.435"}
[INFO] trading_engine: Account balance loaded
⚠️ DOGEUSDT: Valor da ordem ($2.51) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 26.000000 → Notional: $5.02
   💰 Margem ajustada: $1.00
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.00 (19.7% do saldo)
   Nocional (5x): $5.02
   Quantidade ajustada: 26.000000 DOGE
   Valor da ordem: $5.02
🔍 Verificando margem: disponível=$5.10, necessária=$1.00, posições abertas=0
💰 Trade aprovado: Margem $1.00 @ 5x
   Notional: $5.02
   Risco: LOW
📊 SELL: SL=$0.1960 (+1.5%), TP=$0.1872 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:14:03.529Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for DOGEUSDT
🔍 [2025-10-29T03:14:03.529Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for DOGEUSDT
🔍 [2025-10-29T03:14:03.530Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for DOGEUSDT
⚠️ [2025-10-29T03:14:03.530Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ DOGEUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=26

📝 ADICIONANDO DOGEUSDT ao array opportunities (total agora: 1)
✅ DOGEUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":26}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ADAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ ADAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($0.6419) = $0.06
📊 ADAUSDT: Preço $0.6419, Custo mínimo $0.06

🚀 Iniciando análise V2 para ADAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ADAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ADAUSDT...
🔍 Analisando Twitter para ADAUSDT...
🔍 Analisando Reddit para ADAUSDT...
⛓️  Analisando on-chain de ADAUSDT...
📊 Analisando derivativos de ADAUSDT...
🌍 Analisando macro de ADAUSDT...
🐋 Analisando smart money de ADAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707645163&signature=0915bad3cfe78874244e131e891b7b04b761312054e260cd4079425947e815d3
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.77120329,"equity":10.19690022},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:04.937"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:04.985"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 643ms
 GET /api/binance/balance 200 in 651ms
⚠️ CoinGecko: Símbolo ADAUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para ADAUSDT: Request failed with status code 400
🔄 Usando fallback para ADAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ADAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: -7.08 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 5 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 80%
🔍 [DEBUG CONFIANÇA] Base técnico: 68%
🔍 [DEBUG CONFIANÇA] Sem penalidade (44% ativos é aceitável) = 68%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -2 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] -10% (conflito forte: 2) = 58%
🔍 [DEBUG CONFIANÇA] FINAL: 58%
✅ Score ponderado: -4.11 (Confiança: 58%)
📋 Sinal: STRONG_SELL moderate
🧠 [V2] ADAUSDT: Score ponderado -4.11 (58% confiança)
📊 Sinal técnico V2: SELL (68%)
   Técnico: SELL (47.8 RSI, STRONG_DOWN, Tendência de baixa, Padrão bearish, Volume acima da média). Score ponderado: -4.11. Confiança: 58%.
🔍 [2025-10-29T03:14:05.392Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ADAUSDT
Nenhum dado de equity encontrado para ADAUSDT
📊 ADAUSDT: Confiança original: 58%, Ajuste equity: 0, Confiança final: 62.9%
🔍 [2025-10-29T03:14:05.436Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ADAUSDT
🔍 [2025-10-29T03:14:05.437Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ADAUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: VWAP = $0.6541
✅ ADAUSDT: 4 confirmações - Confiança: 58%, Sinal: STRONG_SELL, VWAP dev: -1.87%
✅ ADAUSDT: Dados de volume não disponíveis
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0086 (14 períodos)
🔍 [2025-10-29T03:14:06.276Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ADAUSDT
✅ ADAUSDT: SELL AUTORIZADO - STRONG_SELL, Conf: 58%, Trend: STRONG_DOWN
✅ ADAUSDT: AUTORIZADO - STRONG_SELL, Confiança 58%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 298ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0086 (14 períodos)
✅ ADAUSDT: ATR baixo (1.33%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 3.970875 → Notional: $2.55
⚠️ ADAUSDT: Valor da ordem ($1.93) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 8.000000 → Notional: $5.14
   💰 Margem ajustada: $1.03
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.03 (20.1% do saldo)
   Nocional (5x): $5.14
   Quantidade ajustada: 8.000000 ADA
   Valor da ordem: $5.14
🔍 Verificando margem: disponível=$5.10, necessária=$1.03, posições abertas=0
💰 Trade aprovado: Margem $1.03 @ 5x
   Notional: $5.14
   Risco: LOW
📊 SELL: SL=$0.6515 (+1.5%), TP=$0.6223 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:14:07.139Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ADAUSDT
🔍 [2025-10-29T03:14:07.140Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ADAUSDT
🔍 [2025-10-29T03:14:07.140Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ADAUSDT
⚠️ [2025-10-29T03:14:07.141Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ADAUSDT: APROVADO para trade (Score: -4.11, Conf: 58%, Signal: STRONG_SELL)
✅ Decision retornado: action=SELL, size=8

📝 ADICIONANDO ADAUSDT ao array opportunities (total agora: 2)
✅ ADAUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":8}
Nenhum dado de equity encontrado para BTCUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 768ms
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 XRPUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ XRPUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($2.6015) = $0.26
📊 XRPUSDT: Preço $2.6015, Custo mínimo $0.26

🚀 Iniciando análise V2 para XRPUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando XRPUSDT tecnicamente (1h)...
📱 Analisando sentimento de XRPUSDT...
🔍 Analisando Twitter para XRPUSDT...
🔍 Analisando Reddit para XRPUSDT...
⛓️  Analisando on-chain de XRPUSDT...
📊 Analisando derivativos de XRPUSDT...
🌍 Analisando macro de XRPUSDT...
🐋 Analisando smart money de XRPUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo XRPUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para XRPUSDT: Request failed with status code 400
🔄 Usando fallback para XRPUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de XRPUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: -6.90 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 5 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 80%
🔍 [DEBUG CONFIANÇA] Base técnico: 65%
🔍 [DEBUG CONFIANÇA] Sem penalidade (44% ativos é aceitável) = 65%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -2 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] -10% (conflito forte: 2) = 55%
🔍 [DEBUG CONFIANÇA] FINAL: 55%
✅ Score ponderado: -4.02 (Confiança: 55%)
📋 Sinal: STRONG_SELL moderate
🧠 [V2] XRPUSDT: Score ponderado -4.02 (55% confiança)
📊 Sinal técnico V2: SELL (65%)
   Técnico: SELL (51.5 RSI, DOWN, Tendência de baixa, Volume acima da média). Score ponderado: -4.02. Confiança: 55%.
🔍 [2025-10-29T03:14:09.029Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for XRPUSDT
Nenhum dado de equity encontrado para XRPUSDT
📊 XRPUSDT: Confiança original: 55%, Ajuste equity: 0, Confiança final: 59.7%
🔍 [2025-10-29T03:14:09.081Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for XRPUSDT
🔍 [2025-10-29T03:14:09.081Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for XRPUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: VWAP = $2.5229
✅ XRPUSDT: 4 confirmações - Confiança: 55%, Sinal: STRONG_SELL, VWAP dev: 3.12%
✅ XRPUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0304 (14 períodos)
🔍 [2025-10-29T03:14:09.913Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for XRPUSDT
✅ XRPUSDT: SELL AUTORIZADO - STRONG_SELL, Conf: 55%, Trend: DOWN
✅ XRPUSDT: AUTORIZADO - STRONG_SELL, Confiança 55%
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.78907056,"equity":10.19688003},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:09.928"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:09.982"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 631ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0304 (14 períodos)
✅ XRPUSDT: ATR baixo (1.17%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.979783 → Notional: $2.55
⚠️ XRPUSDT: Valor da ordem ($2.34) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 2.000000 → Notional: $5.20
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.04 (20.4% do saldo)
   Nocional (5x): $5.20
   Quantidade ajustada: 2.000000 XRP
   Valor da ordem: $5.20
🔍 Verificando margem: disponível=$5.10, necessária=$1.04, posições abertas=0
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.20
   Risco: LOW
📊 SELL: SL=$2.6405 (+1.5%), TP=$2.5219 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:14:10.777Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for XRPUSDT
🔍 [2025-10-29T03:14:10.777Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for XRPUSDT
🔍 [2025-10-29T03:14:10.778Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for XRPUSDT
⚠️ [2025-10-29T03:14:10.778Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ XRPUSDT: APROVADO para trade (Score: -4.02, Conf: 55%, Signal: STRONG_SELL)
✅ Decision retornado: action=SELL, size=2

📝 ADICIONANDO XRPUSDT ao array opportunities (total agora: 3)
✅ XRPUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":2}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 AVAXUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ AVAXUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($19.46) = $0.19
📊 AVAXUSDT: Preço $19.4600, Custo mínimo $0.19

🚀 Iniciando análise V2 para AVAXUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando AVAXUSDT tecnicamente (1h)...
📱 Analisando sentimento de AVAXUSDT...
🔍 Analisando Twitter para AVAXUSDT...
🔍 Analisando Reddit para AVAXUSDT...
⛓️  Analisando on-chain de AVAXUSDT...
📊 Analisando derivativos de AVAXUSDT...
🌍 Analisando macro de AVAXUSDT...
🐋 Analisando smart money de AVAXUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo AVAXUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para AVAXUSDT: Request failed with status code 400
🔄 Usando fallback para AVAXUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de AVAXUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] AVAXUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:14:13.243Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for AVAXUSDT
Nenhum dado de equity encontrado para AVAXUSDT
📊 AVAXUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:14:13.291Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for AVAXUSDT
🔍 [2025-10-29T03:14:13.292Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for AVAXUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 AVAXUSDT: VWAP = $19.8573
✅ AVAXUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -2.05%
✅ AVAXUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 AVAXUSDT: ATR = $0.2671 (14 períodos)
🔍 [2025-10-29T03:14:14.127Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for AVAXUSDT
✅ AVAXUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ AVAXUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 AVAXUSDT: ATR = $0.2671 (14 períodos)
✅ AVAXUSDT: ATR baixo (1.37%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.131049 → Notional: $2.55
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.77601232,"equity":10.19639604},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:14.912"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:14.971"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 628ms
⏸️ AVAXUSDT: Quantidade muito pequena (0 < minQty 1)
⏸️ AVAXUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 MATICUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ MATICUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($0.3794) = $0.04
📊 MATICUSDT: Preço $0.3794, Custo mínimo $0.04

🚀 Iniciando análise V2 para MATICUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando MATICUSDT tecnicamente (1h)...
📱 Analisando sentimento de MATICUSDT...
🔍 Analisando Twitter para MATICUSDT...
🔍 Analisando Reddit para MATICUSDT...
⛓️  Analisando on-chain de MATICUSDT...
📊 Analisando derivativos de MATICUSDT...
🌍 Analisando macro de MATICUSDT...
🐋 Analisando smart money de MATICUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
Erro ao buscar Open Interest: AxiosError: Request failed with status code 400
    at settle (webpack-internal:///(rsc)/./node_modules/axios/lib/core/settle.js:24:12)
    at IncomingMessage.handleStreamEnd (webpack-internal:///(rsc)/./node_modules/axios/lib/adapters/http.js:648:71)
    at IncomingMessage.emit (node:events:530:35)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (webpack-internal:///(rsc)/./node_modules/axios/lib/core/Axios.js:57:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async BinanceApiClient.getOpenInterest (webpack-internal:///(rsc)/./src/services/binance-api.ts:400:26)
    at async DerivativesAnalyzer.getOpenInterest (webpack-internal:///(rsc)/./src/services/analyzers/derivatives-analyzer.ts:50:24)
    at async DerivativesAnalyzer.analyze (webpack-internal:///(rsc)/./src/services/analyzers/derivatives-analyzer.ts:17:30)
    at async Promise.all (index 3)
    at async PredictiveAnalyzerV2.consolidate (webpack-internal:///(rsc)/./src/services/analyzers/predictive-analyzer-v2.ts:33:81)
    at async AdvancedTradingEngine.getOptimalSymbols (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:190:38)
    at async AdvancedTradingEngine.runTradingCycle (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:2024:39) {
  code: 'ERR_BAD_REQUEST',
  config: {
    transitional: {
      silentJSONParsing: true,
      forcedJSONParsing: true,
      clarifyTimeoutError: false
    },
    adapter: [ 'xhr', 'http', 'fetch' ],
    transformRequest: [ [Function: transformRequest] ],
    transformResponse: [ [Function: transformResponse] ],
    timeout: 10000,
    xsrfCookieName: 'XSRF-TOKEN',
    xsrfHeaderName: 'X-XSRF-TOKEN',
    maxContentLength: -1,
    maxBodyLength: -1,
    env: { FormData: [Function [FormData]], Blob: [class Blob] },
    validateStatus: [Function: validateStatus],
    headers: Object [AxiosHeaders] {
      Accept: 'application/json, text/plain, */*',
      'Content-Type': 'application/json',
      'User-Agent': 'Kronos-X-Engine/1.0.0',
      'Accept-Encoding': 'gzip, compress, deflate, br'
    },
    baseURL: 'https://fapi.binance.com',
    params: { symbol: 'MATICUSDT' },
    method: 'get',
    url: '/fapi/v1/openInterest',
    allowAbsoluteUrls: true,
    data: undefined
  },
  request: <ref *1> ClientRequest {
    _events: [Object: null prototype] {
      abort: [Function (anonymous)],
      aborted: [Function (anonymous)],
      connect: [Function (anonymous)],
      error: [Function (anonymous)],
      socket: [Function (anonymous)],
      timeout: [Function (anonymous)],
      finish: [Function: requestOnFinish]
    },
    _eventsCount: 7,
    _maxListeners: undefined,
    outputData: [],
    outputSize: 0,
    writable: true,
    destroyed: true,
    _last: true,
    chunkedEncoding: false,
    shouldKeepAlive: true,
    maxRequestsOnConnectionReached: false,
    _defaultKeepAlive: true,
    useChunkedEncodingByDefault: false,
    sendDate: false,
    _removedConnection: false,
    _removedContLen: false,
    _removedTE: false,
    strictContentLength: false,
    _contentLength: 0,
    _hasBody: true,
    _trailer: '',
    finished: true,
    _headerSent: true,
    _closed: true,
    _header: 'GET /fapi/v1/openInterest?symbol=MATICUSDT HTTP/1.1\r\n' +
      'Accept: application/json, text/plain, */*\r\n' +
      'Content-Type: application/json\r\n' +
      'User-Agent: Kronos-X-Engine/1.0.0\r\n' +
      'Accept-Encoding: gzip, compress, deflate, br\r\n' +
      'Host: fapi.binance.com\r\n' +
      'Connection: keep-alive\r\n' +
      '\r\n',
    _keepAliveTimeout: 0,
    _onPendingData: [Function: nop],
    agent: Agent {
      _events: [Object: null prototype],
      _eventsCount: 2,
      _maxListeners: undefined,
      defaultPort: 443,
      protocol: 'https:',
      options: [Object: null prototype],
      requests: [Object: null prototype] {},
      sockets: [Object: null prototype] {},
      freeSockets: [Object: null prototype],
      keepAliveMsecs: 1000,
      keepAlive: true,
      maxSockets: Infinity,
      maxFreeSockets: 256,
      scheduling: 'lifo',
      maxTotalSockets: Infinity,
      totalSocketCount: 5,
      maxCachedSessions: 100,
      _sessionCache: [Object],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false
    },
    socketPath: undefined,
    method: 'GET',
    maxHeaderSize: undefined,
    insecureHTTPParser: undefined,
    joinDuplicateHeaders: undefined,
    path: '/fapi/v1/openInterest?symbol=MATICUSDT',
    _ended: true,
    res: IncomingMessage {
      _events: [Object],
      _readableState: [ReadableState],
      _maxListeners: undefined,
      socket: null,
      httpVersionMajor: 1,
      httpVersionMinor: 1,
      httpVersion: '1.1',
      complete: true,
      rawHeaders: [Array],
      rawTrailers: [],
      joinDuplicateHeaders: undefined,
      aborted: false,
      upgrade: false,
      url: '',
      method: null,
      statusCode: 400,
      statusMessage: 'Bad Request',
      client: [TLSSocket],
      _consuming: false,
      _dumped: false,
      req: [Circular *1],
      _eventsCount: 4,
      responseUrl: 'https://fapi.binance.com/fapi/v1/openInterest?symbol=MATICUSDT',
      redirects: [],
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false,
      [Symbol(kHeaders)]: [Object],
      [Symbol(kHeadersCount)]: 26,
      [Symbol(kTrailers)]: null,
      [Symbol(kTrailersCount)]: 0
    },
    aborted: false,
    timeoutCb: null,
    upgradeOrConnect: false,
    parser: null,
    maxHeadersCount: null,
    reusedSocket: true,
    host: 'fapi.binance.com',
    protocol: 'https:',
    _redirectable: Writable {
      _events: [Object],
      _writableState: [WritableState],
      _maxListeners: undefined,
      _options: [Object],
      _ended: true,
      _ending: true,
      _redirectCount: 0,
      _redirects: [],
      _requestBodyLength: 0,
      _requestBodyBuffers: [],
      _eventsCount: 3,
      _onNativeResponse: [Function (anonymous)],
      _currentRequest: [Circular *1],
      _currentUrl: 'https://fapi.binance.com/fapi/v1/openInterest?symbol=MATICUSDT',
      _timeout: null,
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false
    },
    [Symbol(shapeMode)]: false,
    [Symbol(kCapture)]: false,
    [Symbol(kBytesWritten)]: 0,
    [Symbol(kNeedDrain)]: false,
    [Symbol(corked)]: 0,
    [Symbol(kChunkedBuffer)]: [],
    [Symbol(kChunkedLength)]: 0,
    [Symbol(kSocket)]: TLSSocket {
      _tlsOptions: [Object],
      _secureEstablished: true,
      _securePending: false,
      _newSessionPending: false,
      _controlReleased: true,
      secureConnecting: false,
      _SNICallback: null,
      servername: 'fapi.binance.com',
      alpnProtocol: false,
      authorized: true,
      authorizationError: null,
      encrypted: true,
      _events: [Object: null prototype],
      _eventsCount: 9,
      connecting: false,
      _hadError: false,
      _parent: null,
      _host: 'fapi.binance.com',
      _closeAfterHandlingError: false,
      _readableState: [ReadableState],
      _writableState: [WritableState],
      allowHalfOpen: false,
      _maxListeners: undefined,
      _sockname: null,
      _pendingData: null,
      _pendingEncoding: '',
      server: undefined,
      _server: null,
      ssl: [TLSWrap],
      _requestCert: true,
      _rejectUnauthorized: true,
      timeout: 5000,
      parser: null,
      _httpMessage: null,
      [Symbol(alpncallback)]: null,
      [Symbol(res)]: [TLSWrap],
      [Symbol(verified)]: true,
      [Symbol(pendingSession)]: null,
      [Symbol(async_id_symbol)]: -1,
      [Symbol(kHandle)]: [TLSWrap],
      [Symbol(lastWriteQueueSize)]: 0,
      [Symbol(timeout)]: Timeout {
        _idleTimeout: 5000,
        _idlePrev: [TimersList],
        _idleNext: [Timeout],
        _idleStart: 179799,
        _onTimeout: [Function: bound ],
        _timerArgs: undefined,
        _repeat: null,
        _destroyed: false,
        [Symbol(refed)]: false,
        [Symbol(kHasPrimitive)]: false,
        [Symbol(asyncId)]: 253636,
        [Symbol(triggerId)]: 253634,
        [Symbol(kAsyncContextFrame)]: undefined,
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined
      },
      [Symbol(kBuffer)]: null,
      [Symbol(kBufferCb)]: null,
      [Symbol(kBufferGen)]: null,
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false,
      [Symbol(kSetNoDelay)]: false,
      [Symbol(kSetKeepAlive)]: true,
      [Symbol(kSetKeepAliveInitialDelay)]: 1,
      [Symbol(kBytesRead)]: 0,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(connect-options)]: [Object]
    },
    [Symbol(kOutHeaders)]: [Object: null prototype] {
      accept: [Array],
      'content-type': [Array],
      'user-agent': [Array],
      'accept-encoding': [Array],
      host: [Array]
    },
    [Symbol(errored)]: null,
    [Symbol(kHighWaterMark)]: 16384,
    [Symbol(kRejectNonStandardBodyWrites)]: false,
    [Symbol(kUniqueHeaders)]: null
  },
  response: {
    status: 400,
    statusText: 'Bad Request',
    headers: Object [AxiosHeaders] {
      'content-type': 'application/json',
      'content-length': '97',
      connection: 'keep-alive',
      date: 'Wed, 29 Oct 2025 03:14:17 GMT',
      'access-control-allow-methods': 'GET, POST, PUT, DELETE, OPTIONS',
      server: 'Tengine',
      'x-mbx-used-weight-1m': '64',
      'x-response-time': '0ms',
      'access-control-allow-origin': '*',
      'x-cache': 'Error from cloudfront',
      via: '1.1 c19984d26e95530bbe8f7ca368e00916.cloudfront.net (CloudFront)',
      'x-amz-cf-pop': 'GRU1-P1',
      'x-amz-cf-id': 'QqrZhb5sfF0Ggr8oN369fYvDhKewimDhPpJXFfNoMTX4Jwf3hgRcUA=='
    },
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 10000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://fapi.binance.com',
      params: [Object],
      method: 'get',
      url: '/fapi/v1/openInterest',
      allowAbsoluteUrls: true,
      data: undefined
    },
    request: <ref *1> ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: true,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: false,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 0,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'GET /fapi/v1/openInterest?symbol=MATICUSDT HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'User-Agent: Kronos-X-Engine/1.0.0\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: fapi.binance.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'GET',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/fapi/v1/openInterest?symbol=MATICUSDT',
      _ended: true,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: null,
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: true,
      host: 'fapi.binance.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 16384,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    data: {
      code: -4108,
      msg: 'Symbol is on delivering or delivered or settling or closed or pre-trading.'
    }
  },
  status: 400
}
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 311ms
⚠️ CoinGecko: Símbolo MATICUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para MATICUSDT: Request failed with status code 400
🔄 Usando fallback para MATICUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de MATICUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 11.80 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: 0.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 53%
🔍 [DEBUG CONFIANÇA] Base técnico: 68%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 58%
🔍 [DEBUG CONFIANÇA] Convergência: +3 positivos, -0 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] FINAL: 58%
✅ Score ponderado: 10.59 (Confiança: 58%)
📋 Sinal: STRONG_BUY strong
🧠 [V2] MATICUSDT: Score ponderado 10.59 (58% confiança)
📊 Sinal técnico V2: STRONG_BUY (68%)
   Técnico: STRONG_BUY (46.0 RSI, UP, Tendência de alta, Padrão: hammer, Volume acima da média). Score ponderado: 10.59. Confiança: 58%.
🔍 [2025-10-29T03:14:17.162Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for MATICUSDT
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 771ms
📊 MATICUSDT: Confiança original: 58%, Ajuste equity: 0, Confiança final: 53.1%
🔍 [2025-10-29T03:14:17.503Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for MATICUSDT
🔍 [2025-10-29T03:14:17.504Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for MATICUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 MATICUSDT: VWAP = $0.3865
✅ MATICUSDT: 4 confirmações - Confiança: 58%, Sinal: STRONG_BUY, VWAP dev: -1.83%
✅ MATICUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 MATICUSDT: ATR = $0.0038 (14 períodos)
🔍 [2025-10-29T03:14:18.329Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for MATICUSDT
✅ MATICUSDT: BUY AUTORIZADO - STRONG_BUY, Conf: 58%, Trend: UP
✅ MATICUSDT: AUTORIZADO - STRONG_BUY, Confiança 58%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 MATICUSDT: ATR = $0.0038 (14 períodos)
✅ MATICUSDT: ATR baixo (0.99%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 6.718251 → Notional: $2.55
[DEBUG] binance_api: API Response: GET /api/v3/ping
⚠️ MATICUSDT: Valor da ordem ($2.55) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 13.178703 → Notional: $5.00
   💰 Margem ajustada: $1.00
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.00 (19.6% do saldo)
   Nocional (5x): $5.00
   Quantidade ajustada: 13.178703 MATIC
   Valor da ordem: $5.00
🔍 Verificando margem: disponível=$5.10, necessária=$1.00, posições abertas=0
💰 Trade aprovado: Margem $1.00 @ 5x
   Notional: $5.00
   Risco: LOW
📊 BUY: SL=$0.3737 (-1.5%), TP=$0.3910 (+3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:14:19.191Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for MATICUSDT
🔍 [2025-10-29T03:14:19.192Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for MATICUSDT
🔍 [2025-10-29T03:14:19.192Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for MATICUSDT
⚠️ [2025-10-29T03:14:19.193Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ MATICUSDT: APROVADO para trade (Score: 10.59, Conf: 58%, Signal: STRONG_BUY)
✅ Decision retornado: action=BUY, size=13.178703215603583

📝 ADICIONANDO MATICUSDT ao array opportunities (total agora: 4)
✅ MATICUSDT ADICIONADO com sucesso! Decision: {"action":"BUY","size":13.178703215603583}
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.77397033,"equity":10.19653215},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:19.392"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:19.442"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 627ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 DOTUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ DOTUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($3.049) = $0.03
📊 DOTUSDT: Preço $3.0490, Custo mínimo $0.03

🚀 Iniciando análise V2 para DOTUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando DOTUSDT tecnicamente (1h)...
📱 Analisando sentimento de DOTUSDT...
🔍 Analisando Twitter para DOTUSDT...
🔍 Analisando Reddit para DOTUSDT...
⛓️  Analisando on-chain de DOTUSDT...
📊 Analisando derivativos de DOTUSDT...
🌍 Analisando macro de DOTUSDT...
🐋 Analisando smart money de DOTUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo DOTUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para DOTUSDT: Request failed with status code 400
🔄 Usando fallback para DOTUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de DOTUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] DOTUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:14:21.432Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for DOTUSDT
Nenhum dado de equity encontrado para DOTUSDT
📊 DOTUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:14:21.509Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for DOTUSDT
🔍 [2025-10-29T03:14:21.509Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for DOTUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOTUSDT: VWAP = $3.0633
⏸️ DOTUSDT: REJEITADO - Apenas 1 confirmações (necessário 2+)
   Detalhes: Confiança: 50%
⚠️ [2025-10-29T03:14:22.067Z] WARN [ANALYSIS_CAPTURE] ⚠️ Analysis warning recorded: Apenas 1 confirmações (necessário 2+)
⚠️ [2025-10-29T03:14:22.068Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save
⏸️ DOTUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707663272&signature=785dfa59f4443d065890ebf61cad851169bd631512239c0ca950439003559510
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:22.724"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:22.726"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 LINKUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ LINKUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($17.79) = $0.18
📊 LINKUSDT: Preço $17.7900, Custo mínimo $0.18

🚀 Iniciando análise V2 para LINKUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando LINKUSDT tecnicamente (1h)...
📱 Analisando sentimento de LINKUSDT...
🔍 Analisando Twitter para LINKUSDT...
🔍 Analisando Reddit para LINKUSDT...
⛓️  Analisando on-chain de LINKUSDT...
📊 Analisando derivativos de LINKUSDT...
🌍 Analisando macro de LINKUSDT...
🐋 Analisando smart money de LINKUSDT...
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.311","patternsDetected":2,"symbol":"BTCUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:23.043"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.618","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:23.046"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.877","patternsDetected":2,"symbol":"BNBUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:23.046"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.860","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:23.047"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.559","patternsDetected":2,"symbol":"SOLUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:23.048"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo LINKUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para LINKUSDT: Request failed with status code 400
🔄 Usando fallback para LINKUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de LINKUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] LINKUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:14:23.962Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for LINKUSDT
Nenhum dado de equity encontrado para LINKUSDT
📊 LINKUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:14:24.022Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for LINKUSDT
🔍 [2025-10-29T03:14:24.022Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for LINKUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 LINKUSDT: VWAP = $17.9977
✅ LINKUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.15%
✅ LINKUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 LINKUSDT: ATR = $0.3029 (14 períodos)
🔍 [2025-10-29T03:14:24.863Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for LINKUSDT
✅ LINKUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ LINKUSDT: AUTORIZADO - SELL, Confiança 50%
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.75875018,"equity":10.19571976},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:24.925"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:25.006"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 669ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 LINKUSDT: ATR = $0.3029 (14 períodos)
✅ LINKUSDT: ATR baixo (1.70%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.143277 → Notional: $2.55
[DEBUG] websocket: Pong recebido
⚠️ LINKUSDT: Valor da ordem ($2.49) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.290000 → Notional: $5.16
   💰 Margem ajustada: $1.03
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.03 (20.2% do saldo)
   Nocional (5x): $5.16
   Quantidade ajustada: 0.290000 LINK
   Valor da ordem: $5.16
🔍 Verificando margem: disponível=$5.10, necessária=$1.03, posições abertas=0
💰 Trade aprovado: Margem $1.03 @ 5x
   Notional: $5.16
   Risco: LOW
📊 SELL: SL=$18.0568 (+1.5%), TP=$17.2456 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:14:25.726Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for LINKUSDT
🔍 [2025-10-29T03:14:25.727Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for LINKUSDT
🔍 [2025-10-29T03:14:25.729Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for LINKUSDT
⚠️ [2025-10-29T03:14:25.730Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ LINKUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.29

📝 ADICIONANDO LINKUSDT ao array opportunities (total agora: 5)
✅ LINKUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.29}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 UNIUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ UNIUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($6.325) = $0.06
📊 UNIUSDT: Preço $6.3250, Custo mínimo $0.06

🚀 Iniciando análise V2 para UNIUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando UNIUSDT tecnicamente (1h)...
📱 Analisando sentimento de UNIUSDT...
🔍 Analisando Twitter para UNIUSDT...
🔍 Analisando Reddit para UNIUSDT...
⛓️  Analisando on-chain de UNIUSDT...
📊 Analisando derivativos de UNIUSDT...
🌍 Analisando macro de UNIUSDT...
🐋 Analisando smart money de UNIUSDT...
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 294ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
Nenhum dado de equity encontrado para BTCUSDT
⚠️ CoinGecko: Símbolo UNIUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 930ms
⚠️ CryptoPanic API falhou para UNIUSDT: Request failed with status code 400
🔄 Usando fallback para UNIUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de UNIUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] UNIUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:14:27.680Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for UNIUSDT
Nenhum dado de equity encontrado para UNIUSDT
📊 UNIUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:14:27.751Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for UNIUSDT
🔍 [2025-10-29T03:14:27.751Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for UNIUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 UNIUSDT: VWAP = $6.3529
⏸️ UNIUSDT: REJEITADO - Apenas 1 confirmações (necessário 2+)
   Detalhes: Confiança: 50%
⚠️ [2025-10-29T03:14:28.312Z] WARN [ANALYSIS_CAPTURE] ⚠️ Analysis warning recorded: Apenas 1 confirmações (necessário 2+)
⚠️ [2025-10-29T03:14:28.312Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save
⏸️ UNIUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ATOMUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ ATOMUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($3.088) = $0.03
📊 ATOMUSDT: Preço $3.0880, Custo mínimo $0.03

🚀 Iniciando análise V2 para ATOMUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ATOMUSDT tecnicamente (1h)...
📱 Analisando sentimento de ATOMUSDT...
🔍 Analisando Twitter para ATOMUSDT...
🔍 Analisando Reddit para ATOMUSDT...
⛓️  Analisando on-chain de ATOMUSDT...
📊 Analisando derivativos de ATOMUSDT...
🌍 Analisando macro de ATOMUSDT...
🐋 Analisando smart money de ATOMUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.76510452,"equity":10.19609231},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:30.002"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:30.074"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 664ms
⚠️ CoinGecko: Símbolo ATOMUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para ATOMUSDT: Request failed with status code 400
🔄 Usando fallback para ATOMUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ATOMUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ATOMUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:14:30.474Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ATOMUSDT
Nenhum dado de equity encontrado para ATOMUSDT
📊 ATOMUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:14:30.537Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ATOMUSDT
🔍 [2025-10-29T03:14:30.538Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ATOMUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ATOMUSDT: VWAP = $3.1926
✅ ATOMUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -3.28%
✅ ATOMUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ATOMUSDT: ATR = $0.0391 (14 períodos)
🔍 [2025-10-29T03:14:31.368Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ATOMUSDT
✅ ATOMUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ ATOMUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ATOMUSDT: ATR = $0.0391 (14 períodos)
✅ ATOMUSDT: ATR baixo (1.27%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.825422 → Notional: $2.55
⚠️ ATOMUSDT: Valor da ordem ($2.53) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 1.620000 → Notional: $5.00
   💰 Margem ajustada: $1.00
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.00 (19.6% do saldo)
   Nocional (5x): $5.00
   Quantidade ajustada: 1.620000 ATOM
   Valor da ordem: $5.00
🔍 Verificando margem: disponível=$5.10, necessária=$1.00, posições abertas=0
💰 Trade aprovado: Margem $1.00 @ 5x
   Notional: $5.00
   Risco: LOW
📊 SELL: SL=$3.1343 (+1.5%), TP=$2.9935 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:14:32.236Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ATOMUSDT
🔍 [2025-10-29T03:14:32.237Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ATOMUSDT
🔍 [2025-10-29T03:14:32.237Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ATOMUSDT
⚠️ [2025-10-29T03:14:32.237Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ATOMUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=1.62

📝 ADICIONANDO ATOMUSDT ao array opportunities (total agora: 6)
✅ ATOMUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":1.62}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707673975&signature=0bfa23fece2b2b5c7bc71d29bdb607e70dcbce5e29b87808fe6669a5e5e24cc8
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:33.426"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:33.427"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.616","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:33.552"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.624","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:33.554"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.330","patternsDetected":2,"symbol":"BNBUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:33.555"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.836","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:33.556"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.824","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:33.557"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 NEARUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ NEARUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($2.234) = $0.22
📊 NEARUSDT: Preço $2.2340, Custo mínimo $0.22

🚀 Iniciando análise V2 para NEARUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando NEARUSDT tecnicamente (1h)...
📱 Analisando sentimento de NEARUSDT...
🔍 Analisando Twitter para NEARUSDT...
🔍 Analisando Reddit para NEARUSDT...
⛓️  Analisando on-chain de NEARUSDT...
📊 Analisando derivativos de NEARUSDT...
🌍 Analisando macro de NEARUSDT...
🐋 Analisando smart money de NEARUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707675180&signature=80af5c1f7c10774372e4326558ad3f87d265f66e2c40fcfd33fcdef5c75acba1
[DEBUG] binance_api: API Response: GET /api/v3/ping
⚠️ CoinGecko: Símbolo NEARUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para NEARUSDT: Request failed with status code 400
🔄 Usando fallback para NEARUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de NEARUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] NEARUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:14:34.907Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for NEARUSDT
 GET /api/binance/balance 200 in 601ms
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.76445357,"equity":10.19622853},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:34.985"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
Nenhum dado de equity encontrado para NEARUSDT
📊 NEARUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:14:35.024Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for NEARUSDT
🔍 [2025-10-29T03:14:35.024Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for NEARUSDT
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:35.107"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 758ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 NEARUSDT: VWAP = $2.2643
✅ NEARUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.34%
✅ NEARUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 NEARUSDT: ATR = $0.0334 (14 períodos)
🔍 [2025-10-29T03:14:35.861Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for NEARUSDT
✅ NEARUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ NEARUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 NEARUSDT: ATR = $0.0334 (14 períodos)
✅ NEARUSDT: ATR baixo (1.50%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 1.140960 → Notional: $2.55
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 315ms
⚠️ NEARUSDT: Valor da ordem ($2.23) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 3.000000 → Notional: $6.70
   💰 Margem ajustada: $1.34
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.34 (26.3% do saldo)
   Nocional (5x): $6.70
   Quantidade ajustada: 3.000000 NEAR
   Valor da ordem: $6.70
🔍 Verificando margem: disponível=$5.10, necessária=$1.34, posições abertas=0
💰 Trade aprovado: Margem $1.34 @ 5x
   Notional: $6.70
   Risco: LOW
📊 SELL: SL=$2.2675 (+1.5%), TP=$2.1656 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:14:36.731Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for NEARUSDT
🔍 [2025-10-29T03:14:36.732Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for NEARUSDT
🔍 [2025-10-29T03:14:36.732Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for NEARUSDT
⚠️ [2025-10-29T03:14:36.733Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ NEARUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=3

📝 ADICIONANDO NEARUSDT ao array opportunities (total agora: 7)
✅ NEARUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":3}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
Nenhum dado de equity encontrado para BTCUSDT
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 FTMUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 1, stepSize: 1
⚠️ FTMUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(1) × price($0.6994) = $0.70
📊 FTMUSDT: Preço $0.6994, Custo mínimo $0.70

🚀 Iniciando análise V2 para FTMUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando FTMUSDT tecnicamente (1h)...
📱 Analisando sentimento de FTMUSDT...
🔍 Analisando Twitter para FTMUSDT...
🔍 Analisando Reddit para FTMUSDT...
⛓️  Analisando on-chain de FTMUSDT...
📊 Analisando derivativos de FTMUSDT...
🌍 Analisando macro de FTMUSDT...
🐋 Analisando smart money de FTMUSDT...
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 1022ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
Erro ao buscar Open Interest: AxiosError: Request failed with status code 400
    at settle (webpack-internal:///(rsc)/./node_modules/axios/lib/core/settle.js:24:12)
    at IncomingMessage.handleStreamEnd (webpack-internal:///(rsc)/./node_modules/axios/lib/adapters/http.js:648:71)
    at IncomingMessage.emit (node:events:530:35)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (webpack-internal:///(rsc)/./node_modules/axios/lib/core/Axios.js:57:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async BinanceApiClient.getOpenInterest (webpack-internal:///(rsc)/./src/services/binance-api.ts:400:26)
    at async DerivativesAnalyzer.getOpenInterest (webpack-internal:///(rsc)/./src/services/analyzers/derivatives-analyzer.ts:50:24)
    at async DerivativesAnalyzer.analyze (webpack-internal:///(rsc)/./src/services/analyzers/derivatives-analyzer.ts:17:30)
    at async Promise.all (index 3)
    at async PredictiveAnalyzerV2.consolidate (webpack-internal:///(rsc)/./src/services/analyzers/predictive-analyzer-v2.ts:33:81)
    at async AdvancedTradingEngine.getOptimalSymbols (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:190:38)
    at async AdvancedTradingEngine.runTradingCycle (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:2024:39) {
  code: 'ERR_BAD_REQUEST',
  config: {
    transitional: {
      silentJSONParsing: true,
      forcedJSONParsing: true,
      clarifyTimeoutError: false
    },
    adapter: [ 'xhr', 'http', 'fetch' ],
    transformRequest: [ [Function: transformRequest] ],
    transformResponse: [ [Function: transformResponse] ],
    timeout: 10000,
    xsrfCookieName: 'XSRF-TOKEN',
    xsrfHeaderName: 'X-XSRF-TOKEN',
    maxContentLength: -1,
    maxBodyLength: -1,
    env: { FormData: [Function [FormData]], Blob: [class Blob] },
    validateStatus: [Function: validateStatus],
    headers: Object [AxiosHeaders] {
      Accept: 'application/json, text/plain, */*',
      'Content-Type': 'application/json',
      'User-Agent': 'Kronos-X-Engine/1.0.0',
      'Accept-Encoding': 'gzip, compress, deflate, br'
    },
    baseURL: 'https://fapi.binance.com',
    params: { symbol: 'FTMUSDT' },
    method: 'get',
    url: '/fapi/v1/openInterest',
    allowAbsoluteUrls: true,
    data: undefined
  },
  request: <ref *1> ClientRequest {
    _events: [Object: null prototype] {
      abort: [Function (anonymous)],
      aborted: [Function (anonymous)],
      connect: [Function (anonymous)],
      error: [Function (anonymous)],
      socket: [Function (anonymous)],
      timeout: [Function (anonymous)],
      finish: [Function: requestOnFinish]
    },
    _eventsCount: 7,
    _maxListeners: undefined,
    outputData: [],
    outputSize: 0,
    writable: true,
    destroyed: true,
    _last: true,
    chunkedEncoding: false,
    shouldKeepAlive: true,
    maxRequestsOnConnectionReached: false,
    _defaultKeepAlive: true,
    useChunkedEncodingByDefault: false,
    sendDate: false,
    _removedConnection: false,
    _removedContLen: false,
    _removedTE: false,
    strictContentLength: false,
    _contentLength: 0,
    _hasBody: true,
    _trailer: '',
    finished: true,
    _headerSent: true,
    _closed: true,
    _header: 'GET /fapi/v1/openInterest?symbol=FTMUSDT HTTP/1.1\r\n' +
      'Accept: application/json, text/plain, */*\r\n' +
      'Content-Type: application/json\r\n' +
      'User-Agent: Kronos-X-Engine/1.0.0\r\n' +
      'Accept-Encoding: gzip, compress, deflate, br\r\n' +
      'Host: fapi.binance.com\r\n' +
      'Connection: keep-alive\r\n' +
      '\r\n',
    _keepAliveTimeout: 0,
    _onPendingData: [Function: nop],
    agent: Agent {
      _events: [Object: null prototype],
      _eventsCount: 2,
      _maxListeners: undefined,
      defaultPort: 443,
      protocol: 'https:',
      options: [Object: null prototype],
      requests: [Object: null prototype] {},
      sockets: [Object: null prototype] {},
      freeSockets: [Object: null prototype],
      keepAliveMsecs: 1000,
      keepAlive: true,
      maxSockets: Infinity,
      maxFreeSockets: 256,
      scheduling: 'lifo',
      maxTotalSockets: Infinity,
      totalSocketCount: 6,
      maxCachedSessions: 100,
      _sessionCache: [Object],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false
    },
    socketPath: undefined,
    method: 'GET',
    maxHeaderSize: undefined,
    insecureHTTPParser: undefined,
    joinDuplicateHeaders: undefined,
    path: '/fapi/v1/openInterest?symbol=FTMUSDT',
    _ended: true,
    res: IncomingMessage {
      _events: [Object],
      _readableState: [ReadableState],
      _maxListeners: undefined,
      socket: null,
      httpVersionMajor: 1,
      httpVersionMinor: 1,
      httpVersion: '1.1',
      complete: true,
      rawHeaders: [Array],
      rawTrailers: [],
      joinDuplicateHeaders: undefined,
      aborted: false,
      upgrade: false,
      url: '',
      method: null,
      statusCode: 400,
      statusMessage: 'Bad Request',
      client: [TLSSocket],
      _consuming: false,
      _dumped: false,
      req: [Circular *1],
      _eventsCount: 4,
      responseUrl: 'https://fapi.binance.com/fapi/v1/openInterest?symbol=FTMUSDT',
      redirects: [],
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false,
      [Symbol(kHeaders)]: [Object],
      [Symbol(kHeadersCount)]: 26,
      [Symbol(kTrailers)]: null,
      [Symbol(kTrailersCount)]: 0
    },
    aborted: false,
    timeoutCb: null,
    upgradeOrConnect: false,
    parser: null,
    maxHeadersCount: null,
    reusedSocket: true,
    host: 'fapi.binance.com',
    protocol: 'https:',
    _redirectable: Writable {
      _events: [Object],
      _writableState: [WritableState],
      _maxListeners: undefined,
      _options: [Object],
      _ended: true,
      _ending: true,
      _redirectCount: 0,
      _redirects: [],
      _requestBodyLength: 0,
      _requestBodyBuffers: [],
      _eventsCount: 3,
      _onNativeResponse: [Function (anonymous)],
      _currentRequest: [Circular *1],
      _currentUrl: 'https://fapi.binance.com/fapi/v1/openInterest?symbol=FTMUSDT',
      _timeout: null,
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false
    },
    [Symbol(shapeMode)]: false,
    [Symbol(kCapture)]: false,
    [Symbol(kBytesWritten)]: 0,
    [Symbol(kNeedDrain)]: false,
    [Symbol(corked)]: 0,
    [Symbol(kChunkedBuffer)]: [],
    [Symbol(kChunkedLength)]: 0,
    [Symbol(kSocket)]: TLSSocket {
      _tlsOptions: [Object],
      _secureEstablished: true,
      _securePending: false,
      _newSessionPending: false,
      _controlReleased: true,
      secureConnecting: false,
      _SNICallback: null,
      servername: 'fapi.binance.com',
      alpnProtocol: false,
      authorized: true,
      authorizationError: null,
      encrypted: true,
      _events: [Object: null prototype],
      _eventsCount: 9,
      connecting: false,
      _hadError: false,
      _parent: null,
      _host: 'fapi.binance.com',
      _closeAfterHandlingError: false,
      _readableState: [ReadableState],
      _writableState: [WritableState],
      allowHalfOpen: false,
      _maxListeners: undefined,
      _sockname: null,
      _pendingData: null,
      _pendingEncoding: '',
      server: undefined,
      _server: null,
      ssl: [TLSWrap],
      _requestCert: true,
      _rejectUnauthorized: true,
      timeout: 5000,
      parser: null,
      _httpMessage: null,
      [Symbol(alpncallback)]: null,
      [Symbol(res)]: [TLSWrap],
      [Symbol(verified)]: true,
      [Symbol(pendingSession)]: null,
      [Symbol(async_id_symbol)]: -1,
      [Symbol(kHandle)]: [TLSWrap],
      [Symbol(lastWriteQueueSize)]: 0,
      [Symbol(timeout)]: Timeout {
        _idleTimeout: 5000,
        _idlePrev: [TimersList],
        _idleNext: [Timeout],
        _idleStart: 201394,
        _onTimeout: [Function: bound ],
        _timerArgs: undefined,
        _repeat: null,
        _destroyed: false,
        [Symbol(refed)]: false,
        [Symbol(kHasPrimitive)]: false,
        [Symbol(asyncId)]: 285620,
        [Symbol(triggerId)]: 285618,
        [Symbol(kAsyncContextFrame)]: undefined,
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined
      },
      [Symbol(kBuffer)]: null,
      [Symbol(kBufferCb)]: null,
      [Symbol(kBufferGen)]: null,
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false,
      [Symbol(kSetNoDelay)]: false,
      [Symbol(kSetKeepAlive)]: true,
      [Symbol(kSetKeepAliveInitialDelay)]: 1,
      [Symbol(kBytesRead)]: 0,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(connect-options)]: [Object]
    },
    [Symbol(kOutHeaders)]: [Object: null prototype] {
      accept: [Array],
      'content-type': [Array],
      'user-agent': [Array],
      'accept-encoding': [Array],
      host: [Array]
    },
    [Symbol(errored)]: null,
    [Symbol(kHighWaterMark)]: 16384,
    [Symbol(kRejectNonStandardBodyWrites)]: false,
    [Symbol(kUniqueHeaders)]: null
  },
  response: {
    status: 400,
    statusText: 'Bad Request',
    headers: Object [AxiosHeaders] {
      'content-type': 'application/json',
      'content-length': '97',
      connection: 'keep-alive',
      date: 'Wed, 29 Oct 2025 03:14:38 GMT',
      'access-control-allow-methods': 'GET, POST, PUT, DELETE, OPTIONS',
      server: 'Tengine',
      'x-mbx-used-weight-1m': '150',
      'x-response-time': '0ms',
      'access-control-allow-origin': '*',
      'x-cache': 'Error from cloudfront',
      via: '1.1 1a2310c32b9c004ce6eef53759c3a3ac.cloudfront.net (CloudFront)',
      'x-amz-cf-pop': 'GRU1-P1',
      'x-amz-cf-id': 'yJWzBZV2ZIbMF86M81--4TfPJO0cChYEKB5AUlhZ-Fytb4BaO6VZPQ=='
    },
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 10000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://fapi.binance.com',
      params: [Object],
      method: 'get',
      url: '/fapi/v1/openInterest',
      allowAbsoluteUrls: true,
      data: undefined
    },
    request: <ref *1> ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: true,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: false,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 0,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'GET /fapi/v1/openInterest?symbol=FTMUSDT HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'User-Agent: Kronos-X-Engine/1.0.0\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: fapi.binance.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'GET',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/fapi/v1/openInterest?symbol=FTMUSDT',
      _ended: true,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: null,
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: true,
      host: 'fapi.binance.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 16384,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    data: {
      code: -4108,
      msg: 'Symbol is on delivering or delivered or settling or closed or pre-trading.'
    }
  },
  status: 400
}
⚠️ CoinGecko: Símbolo FTMUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para FTMUSDT: Request failed with status code 400
🔄 Usando fallback para FTMUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de FTMUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: 0.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 7 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 13%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (22% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -0 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: 6.88 (Confiança: 50%)
📋 Sinal: STRONG_BUY strong
🧠 [V2] FTMUSDT: Score ponderado 6.88 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: 6.88. Confiança: 50%.
🔍 [2025-10-29T03:14:38.766Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for FTMUSDT
Nenhum dado de equity encontrado para FTMUSDT
📊 FTMUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 45.8%
🔍 [2025-10-29T03:14:38.832Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for FTMUSDT
🔍 [2025-10-29T03:14:38.832Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for FTMUSDT
⏸️ FTMUSDT: REJEITADO - STRONG_BUY contra tendência DOWN
⏸️ FTMUSDT: REJEITADO - Sem decision retornada

🏁 LOOP TERMINOU! Total de 15 símbolos analisados, 7 oportunidades adicionadas ao array

💎 CAPITAL ALTO: Priorizando moedas com MELHOR SCORE para maximizar lucro

📊 Top oportunidades encontradas (7 total):
   1. MATICUSDT: Score 10.59, Confiança 58%, Custo mínimo $0.04
   2. DOGEUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   3. LINKUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.18
   4. ATOMUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.03
   5. NEARUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.22

✅ 7 oportunidades encontradas e prontas para execução!
📋 Detalhes das oportunidades:
   1. MATICUSDT: action=BUY, size=13.178703215603583, conf=58%
   2. DOGEUSDT: action=SELL, size=26, conf=50%
   3. LINKUSDT: action=SELL, size=0.29, conf=50%
   4. ATOMUSDT: action=SELL, size=1.62, conf=50%
   5. NEARUSDT: action=SELL, size=3, conf=50%
   6. XRPUSDT: action=SELL, size=2, conf=55%
   7. ADAUSDT: action=SELL, size=8, conf=58%

🔚 RETORNANDO 7 oportunidades de getOptimalSymbols()
🎯 Encontradas 7 oportunidades

🚀 EXECUÇÃO DE TRADES - Ciclo 2:
📊 DEBUG - Status antes da execução:
   isRunning: true
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 0
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade
   canOpenNewTrade: true
   openTrades.size: 0
   opportunities.length: 7
🎯 Processando 2 oportunidades (máximo 2 por ciclo)...

🔍 OPORTUNIDADE 1/2: MATICUSDT
   Action: BUY
   Size: 13.178703215603583
   Confidence: 58%
   Score: 10.594339622641511
🔍 Verificando condições para execução:
   isRunning: true
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 0
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade
   canOpenNewTrade: true
❌ Erro no ciclo de trading: TypeError: this.configService.getSymbolSpecificConfig is not a function
    at AdvancedTradingEngine.canOpenTradeWithPriority (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:2189:49)
    at AdvancedTradingEngine.runTradingCycle (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:2049:58)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.76532241,"equity":10.19628389},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:39.918"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:39.979"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 632ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.759448,"equity":10.19631131},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:44.917"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:45.090"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 750ms
[DEBUG] binance_api: API Response: GET /api/v3/time
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 294ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 843ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.76750528,"equity":10.19606091},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:49.915"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:49.969"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 628ms
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707693276&signature=45e8f8d3825652fa6634075110652723314b55ac6196faa0c915c27b990e5983
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:52.758"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:52.760"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.76872056,"equity":10.19636392},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:54.923"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:14:55.015"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 665ms
[DEBUG] websocket: Pong recebido
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 297ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 769ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.76942206,"equity":10.19598189},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:00.848"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:00.940"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 1593ms
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707703987&signature=34b23dc9b8f284d57547b162246e6bd9f24859ec890e048cdfac49b6695e3f7c
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:03.467"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:03.467"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707705199&signature=2424e186215f38faa833794823ec53c3003c6934c5a2997d85f62c5cb936f904
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.7983705,"equity":10.19589023},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:04.921"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
 GET /api/binance/balance 200 in 597ms
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:04.970"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 618ms
[DEBUG] websocket: Pong recebido
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 298ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 761ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.81017439,"equity":10.19710852},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:09.913"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:09.961"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 618ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.83326734,"equity":10.19750941},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:14.908"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:15.021"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 677ms
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 290ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 761ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.83818684,"equity":10.19766093},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:19.924"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:19.970"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 626ms
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707723281&signature=a2977c142a4022cf4b4c9e4818842c84cc6910051d6ceaae44f34e1359fec2ba
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:22.739"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:22.740"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"2ms","overallScore":"0.590","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:23.058"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.312","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:23.061"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.852","patternsDetected":2,"symbol":"BNBUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:23.062"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.566","patternsDetected":2,"symbol":"ADAUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:23.063"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.569","patternsDetected":2,"symbol":"SOLUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:23.064"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.83685469,"equity":10.19703551},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:24.914"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:24.997"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 656ms
[DEBUG] websocket: Pong recebido
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 293ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 743ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.83991736,"equity":10.19704937},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:29.913"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:29.956"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 615ms
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707733999&signature=d131752a03e307fcd4df5a4588eda9b3f48fcc0ccfeec3faa136592aba56b19a
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:33.445"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:33.448"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.635","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:33.554"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.406","patternsDetected":2,"symbol":"ETHUSDT","technicalScore":"0.600"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:33.557"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.545","patternsDetected":2,"symbol":"BNBUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:33.558"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.753","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"0.700"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:33.559"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"2ms","overallScore":"0.642","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:33.561"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707735185&signature=74ee9cd35c7d2184ded33371393c2778821434b1551f372fa50ca9e013ed459c
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.80740708,"equity":10.19700034},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:34.914"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
 GET /api/binance/balance 200 in 650ms
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:35.003"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 661ms
[DEBUG] websocket: Pong recebido
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 559ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 789ms

🔄 CICLO 3 - Iniciando verificação de oportunidades...
📊 DEBUG - Status do ciclo 3:
   isRunning: true
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 0
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade
   canOpenNewTrade: true
   openTrades.size: 0
💰 Obtendo saldo atual...
💰 Saldo atual: $10.20
🔍 Verificando se pode abrir novas trades...
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 0
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade
🔍 Resultado canOpenNewTrade: true
🔍 Buscando oportunidades...

🔍 Analisando oportunidades em 15 símbolos...
💰 Capital disponível: $10.20
🚫 Símbolos bloqueados: ENAUSDT
⭐ Símbolos prioritários: BTCUSDT, ETHUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BTCUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.00001, stepSize: 0.00001
⚠️ BTCUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.00001) × price($112451.22) = $1.12
📊 BTCUSDT: Preço $112451.2200, Custo mínimo $1.12

🚀 Iniciando análise V2 para BTCUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BTCUSDT tecnicamente (1h)...
📱 Analisando sentimento de BTCUSDT...
🔍 Analisando Twitter para BTCUSDT...
🔍 Analisando Reddit para BTCUSDT...
⛓️  Analisando on-chain de BTCUSDT...
📊 Analisando derivativos de BTCUSDT...
🌍 Analisando macro de BTCUSDT...
🐋 Analisando smart money de BTCUSDT...
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.80983013,"equity":10.19684842},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:40.062"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:40.118"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 770ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo BTCUSDT não mapeado
⚠️ CryptoPanic API falhou para BTCUSDT: Request failed with status code 400
🔄 Usando fallback para BTCUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BTCUSDT nas últimas 6h
📊 Fear & Greed: 51 (Neutral)
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BTCUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:15:41.735Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BTCUSDT
Nenhum dado de equity encontrado para BTCUSDT
📊 BTCUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:15:41.783Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BTCUSDT
🔍 [2025-10-29T03:15:41.785Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BTCUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: VWAP = $111288.2107
✅ BTCUSDT: 2 confirmações - Confiança: 50%, VWAP dev: 1.05%
✅ BTCUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $831.9936 (14 períodos)
🔍 [2025-10-29T03:15:42.632Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BTCUSDT
✅ BTCUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ BTCUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BTCUSDT: ATR = $831.9936 (14 períodos)
✅ BTCUSDT: ATR baixo (0.74%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.000023 → Notional: $2.55
⏸️ BTCUSDT: Quantidade muito pequena (0 < minQty 0.001)
⏸️ BTCUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ETHUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.0001, stepSize: 0.0001
⚠️ ETHUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.0001) × price($3992.59) = $0.40
📊 ETHUSDT: Preço $3992.5900, Custo mínimo $0.40

🚀 Iniciando análise V2 para ETHUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ETHUSDT tecnicamente (1h)...
📱 Analisando sentimento de ETHUSDT...
🔍 Analisando Twitter para ETHUSDT...
🔍 Analisando Reddit para ETHUSDT...
⛓️  Analisando on-chain de ETHUSDT...
📊 Analisando derivativos de ETHUSDT...
🌍 Analisando macro de ETHUSDT...
🐋 Analisando smart money de ETHUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo ETHUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para ETHUSDT: Request failed with status code 400
🔄 Usando fallback para ETHUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ETHUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ETHUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:15:45.433Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ETHUSDT
Nenhum dado de equity encontrado para ETHUSDT
📊 ETHUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:15:45.474Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ETHUSDT
🔍 [2025-10-29T03:15:45.475Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ETHUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ETHUSDT: VWAP = $3974.5059
⏸️ ETHUSDT: REJEITADO - Apenas 1 confirmações (necessário 2+)
   Detalhes: Confiança: 50%
⚠️ [2025-10-29T03:15:46.023Z] WARN [ANALYSIS_CAPTURE] ⚠️ Analysis warning recorded: Apenas 1 confirmações (necessário 2+)
⚠️ [2025-10-29T03:15:46.024Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save
⏸️ ETHUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BNBUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ BNBUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($1102.28) = $1.10
📊 BNBUSDT: Preço $1102.2800, Custo mínimo $1.10

🚀 Iniciando análise V2 para BNBUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BNBUSDT tecnicamente (1h)...
📱 Analisando sentimento de BNBUSDT...
🔍 Analisando Twitter para BNBUSDT...
🔍 Analisando Reddit para BNBUSDT...
⛓️  Analisando on-chain de BNBUSDT...
📊 Analisando derivativos de BNBUSDT...
🌍 Analisando macro de BNBUSDT...
🐋 Analisando smart money de BNBUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo BNBUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para BNBUSDT: Request failed with status code 400
🔄 Usando fallback para BNBUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BNBUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: -7.08 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 5 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 80%
🔍 [DEBUG CONFIANÇA] Base técnico: 68%
🔍 [DEBUG CONFIANÇA] Sem penalidade (44% ativos é aceitável) = 68%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -2 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] -10% (conflito forte: 2) = 58%
🔍 [DEBUG CONFIANÇA] FINAL: 58%
✅ Score ponderado: -4.11 (Confiança: 58%)
📋 Sinal: STRONG_SELL moderate
🧠 [V2] BNBUSDT: Score ponderado -4.11 (58% confiança)
📊 Sinal técnico V2: SELL (68%)
   Técnico: SELL (50.0 RSI, DOWN, Tendência de baixa, Padrão bearish, Volume acima da média). Score ponderado: -4.11. Confiança: 58%.
🔍 [2025-10-29T03:15:47.968Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BNBUSDT
Nenhum dado de equity encontrado para BNBUSDT
📊 BNBUSDT: Confiança original: 58%, Ajuste equity: 0, Confiança final: 62.9%
🔍 [2025-10-29T03:15:48.047Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for BNBUSDT
🔍 [2025-10-29T03:15:48.048Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for BNBUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: VWAP = $1111.9284
✅ BNBUSDT: 4 confirmações - Confiança: 58%, Sinal: STRONG_SELL, VWAP dev: -0.87%
✅ BNBUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.8557 (14 períodos)
🔍 [2025-10-29T03:15:48.883Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for BNBUSDT
✅ BNBUSDT: SELL AUTORIZADO - STRONG_SELL, Conf: 58%, Trend: DOWN
✅ BNBUSDT: AUTORIZADO - STRONG_SELL, Confiança 58%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 BNBUSDT: ATR = $13.8557 (14 períodos)
✅ BNBUSDT: ATR baixo (1.26%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.002313 → Notional: $2.55
⏸️ BNBUSDT: Quantidade muito pequena (0 < minQty 0.01)
⏸️ BNBUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 SOLUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.001, stepSize: 0.001
⚠️ SOLUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.001) × price($193.61) = $0.19
📊 SOLUSDT: Preço $193.6100, Custo mínimo $0.19

🚀 Iniciando análise V2 para SOLUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando SOLUSDT tecnicamente (1h)...
📱 Analisando sentimento de SOLUSDT...
🔍 Analisando Twitter para SOLUSDT...
🔍 Analisando Reddit para SOLUSDT...
⛓️  Analisando on-chain de SOLUSDT...
📊 Analisando derivativos de SOLUSDT...
🌍 Analisando macro de SOLUSDT...
🐋 Analisando smart money de SOLUSDT...
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 313ms
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/klines
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.79896208,"equity":10.19719283},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:51.002"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:51.051"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 678ms
Nenhum dado de equity encontrado para BTCUSDT
⚠️ CoinGecko: Símbolo SOLUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 790ms
⚠️ CryptoPanic API falhou para SOLUSDT: Request failed with status code 400
🔄 Usando fallback para SOLUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de SOLUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: -6.90 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 5 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 80%
🔍 [DEBUG CONFIANÇA] Base técnico: 65%
🔍 [DEBUG CONFIANÇA] Sem penalidade (44% ativos é aceitável) = 65%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -2 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] -10% (conflito forte: 2) = 55%
🔍 [DEBUG CONFIANÇA] FINAL: 55%
✅ Score ponderado: -4.02 (Confiança: 55%)
📋 Sinal: STRONG_SELL moderate
🧠 [V2] SOLUSDT: Score ponderado -4.02 (55% confiança)
📊 Sinal técnico V2: SELL (65%)
   Técnico: SELL (50.8 RSI, STRONG_DOWN, Tendência de baixa, Volume acima da média). Score ponderado: -4.02. Confiança: 55%.
🔍 [2025-10-29T03:15:51.700Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for SOLUSDT
📊 SOLUSDT: Confiança original: 55%, Ajuste equity: 0, Confiança final: 59.7%
🔍 [2025-10-29T03:15:52.036Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for SOLUSDT
🔍 [2025-10-29T03:15:52.038Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for SOLUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: VWAP = $192.7885
✅ SOLUSDT: 3 confirmações - Confiança: 55%, Sinal: STRONG_SELL
✅ SOLUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707753291&signature=e91d8429a2c4596d40b7aeb12b59f7496fa93ce346e6936dbbf52ed1275f2163
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:52.753"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:52.754"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.6807 (14 períodos)
🔍 [2025-10-29T03:15:52.875Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for SOLUSDT
✅ SOLUSDT: SELL AUTORIZADO - STRONG_SELL, Conf: 55%, Trend: STRONG_DOWN
✅ SOLUSDT: AUTORIZADO - STRONG_SELL, Confiança 55%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 SOLUSDT: ATR = $2.6807 (14 períodos)
✅ SOLUSDT: ATR baixo (1.38%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.013169 → Notional: $2.55
⚠️ SOLUSDT: Valor da ordem ($1.94) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.030000 → Notional: $5.81
   💰 Margem ajustada: $1.16
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.16 (22.8% do saldo)
   Nocional (5x): $5.81
   Quantidade ajustada: 0.030000 SOL
   Valor da ordem: $5.81
🔍 Verificando margem: disponível=$5.10, necessária=$1.16, posições abertas=0
💰 Trade aprovado: Margem $1.16 @ 5x
   Notional: $5.81
   Risco: LOW
📊 SELL: SL=$196.4735 (+1.5%), TP=$187.6468 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:15:53.738Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for SOLUSDT
🔍 [2025-10-29T03:15:53.739Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for SOLUSDT
🔍 [2025-10-29T03:15:53.739Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for SOLUSDT
⚠️ [2025-10-29T03:15:53.740Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ SOLUSDT: APROVADO para trade (Score: -4.02, Conf: 55%, Signal: STRONG_SELL)
✅ Decision retornado: action=SELL, size=0.03

📝 ADICIONANDO SOLUSDT ao array opportunities (total agora: 1)
✅ SOLUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.03}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 DOGEUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 1, stepSize: 1
⚠️ DOGEUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(1) × price($0.19293) = $0.19
📊 DOGEUSDT: Preço $0.1929, Custo mínimo $0.19

🚀 Iniciando análise V2 para DOGEUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando DOGEUSDT tecnicamente (1h)...
📱 Analisando sentimento de DOGEUSDT...
🔍 Analisando Twitter para DOGEUSDT...
🔍 Analisando Reddit para DOGEUSDT...
⛓️  Analisando on-chain de DOGEUSDT...
📊 Analisando derivativos de DOGEUSDT...
🌍 Analisando macro de DOGEUSDT...
🐋 Analisando smart money de DOGEUSDT...
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.79951898,"equity":10.19666113},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:54.910"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:54.965"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 618ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo DOGEUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
[DEBUG] websocket: Pong recebido
⚠️ CryptoPanic API falhou para DOGEUSDT: Request failed with status code 400
🔄 Usando fallback para DOGEUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de DOGEUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] DOGEUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:15:55.834Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for DOGEUSDT
📊 DOGEUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:15:56.177Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for DOGEUSDT
🔍 [2025-10-29T03:15:56.179Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for DOGEUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 293ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: VWAP = $0.1975
✅ DOGEUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -2.32%
✅ DOGEUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0026 (14 períodos)
🔍 [2025-10-29T03:15:57.021Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for DOGEUSDT
✅ DOGEUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ DOGEUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 755ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOGEUSDT: ATR = $0.0026 (14 períodos)
✅ DOGEUSDT: ATR baixo (1.35%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 13.212429 → Notional: $2.55
⚠️ DOGEUSDT: Valor da ordem ($2.51) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 26.000000 → Notional: $5.02
   💰 Margem ajustada: $1.00
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.00 (19.7% do saldo)
   Nocional (5x): $5.02
   Quantidade ajustada: 26.000000 DOGE
   Valor da ordem: $5.02
🔍 Verificando margem: disponível=$5.10, necessária=$1.00, posições abertas=0
💰 Trade aprovado: Margem $1.00 @ 5x
   Notional: $5.02
   Risco: LOW
📊 SELL: SL=$0.1958 (+1.5%), TP=$0.1870 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:15:57.874Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for DOGEUSDT
🔍 [2025-10-29T03:15:57.875Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for DOGEUSDT
🔍 [2025-10-29T03:15:57.875Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for DOGEUSDT
⚠️ [2025-10-29T03:15:57.875Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ DOGEUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=26

📝 ADICIONANDO DOGEUSDT ao array opportunities (total agora: 2)
✅ DOGEUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":26}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ADAUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ ADAUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($0.6416) = $0.06
📊 ADAUSDT: Preço $0.6416, Custo mínimo $0.06

🚀 Iniciando análise V2 para ADAUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ADAUSDT tecnicamente (1h)...
📱 Analisando sentimento de ADAUSDT...
🔍 Analisando Twitter para ADAUSDT...
🔍 Analisando Reddit para ADAUSDT...
⛓️  Analisando on-chain de ADAUSDT...
📊 Analisando derivativos de ADAUSDT...
🌍 Analisando macro de ADAUSDT...
🐋 Analisando smart money de ADAUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ping
⚠️ CoinGecko: Símbolo ADAUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para ADAUSDT: Request failed with status code 400
🔄 Usando fallback para ADAUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ADAUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: -7.08 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 5 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 80%
🔍 [DEBUG CONFIANÇA] Base técnico: 68%
🔍 [DEBUG CONFIANÇA] Sem penalidade (44% ativos é aceitável) = 68%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -2 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] -10% (conflito forte: 2) = 58%
🔍 [DEBUG CONFIANÇA] FINAL: 58%
✅ Score ponderado: -4.11 (Confiança: 58%)
📋 Sinal: STRONG_SELL moderate
🧠 [V2] ADAUSDT: Score ponderado -4.11 (58% confiança)
📊 Sinal técnico V2: SELL (68%)
   Técnico: SELL (47.8 RSI, STRONG_DOWN, Tendência de baixa, Padrão bearish, Volume acima da média). Score ponderado: -4.11. Confiança: 58%.
🔍 [2025-10-29T03:15:59.891Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ADAUSDT
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.79955421,"equity":10.19719212},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:59.943"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
Nenhum dado de equity encontrado para ADAUSDT
📊 ADAUSDT: Confiança original: 58%, Ajuste equity: 0, Confiança final: 62.9%
🔍 [2025-10-29T03:15:59.953Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ADAUSDT
🔍 [2025-10-29T03:15:59.954Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ADAUSDT
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:15:59.998"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 648ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: VWAP = $0.6541
✅ ADAUSDT: 4 confirmações - Confiança: 58%, Sinal: STRONG_SELL, VWAP dev: -1.91%
✅ ADAUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0086 (14 períodos)
🔍 [2025-10-29T03:16:00.793Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ADAUSDT
✅ ADAUSDT: SELL AUTORIZADO - STRONG_SELL, Conf: 58%, Trend: STRONG_DOWN
✅ ADAUSDT: AUTORIZADO - STRONG_SELL, Confiança 58%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ADAUSDT: ATR = $0.0086 (14 períodos)
✅ ADAUSDT: ATR baixo (1.33%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 3.972996 → Notional: $2.55
⚠️ ADAUSDT: Valor da ordem ($1.92) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 8.000000 → Notional: $5.13
   💰 Margem ajustada: $1.03
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.03 (20.1% do saldo)
   Nocional (5x): $5.13
   Quantidade ajustada: 8.000000 ADA
   Valor da ordem: $5.13
🔍 Verificando margem: disponível=$5.10, necessária=$1.03, posições abertas=0
💰 Trade aprovado: Margem $1.03 @ 5x
   Notional: $5.13
   Risco: LOW
📊 SELL: SL=$0.6512 (+1.5%), TP=$0.6220 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:16:02.433Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ADAUSDT
🔍 [2025-10-29T03:16:02.434Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ADAUSDT
🔍 [2025-10-29T03:16:02.434Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ADAUSDT
⚠️ [2025-10-29T03:16:02.435Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ADAUSDT: APROVADO para trade (Score: -4.11, Conf: 58%, Signal: STRONG_SELL)
✅ Decision retornado: action=SELL, size=8

📝 ADICIONANDO ADAUSDT ao array opportunities (total agora: 3)
✅ ADAUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":8}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 XRPUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ XRPUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($2.6003) = $0.26
📊 XRPUSDT: Preço $2.6003, Custo mínimo $0.26

🚀 Iniciando análise V2 para XRPUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando XRPUSDT tecnicamente (1h)...
📱 Analisando sentimento de XRPUSDT...
🔍 Analisando Twitter para XRPUSDT...
🔍 Analisando Reddit para XRPUSDT...
⛓️  Analisando on-chain de XRPUSDT...
📊 Analisando derivativos de XRPUSDT...
🌍 Analisando macro de XRPUSDT...
🐋 Analisando smart money de XRPUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707764081&signature=89c8eaa031b1b3e06ad838080ccc57910590610f68805e48ae39b6164bdcb214
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:03.552"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:03.552"}
[INFO] trading_engine: Account balance loaded
⚠️ CoinGecko: Símbolo XRPUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para XRPUSDT: Request failed with status code 400
🔄 Usando fallback para XRPUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de XRPUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: -6.90 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 5 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 80%
🔍 [DEBUG CONFIANÇA] Base técnico: 65%
🔍 [DEBUG CONFIANÇA] Sem penalidade (44% ativos é aceitável) = 65%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -2 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] -10% (conflito forte: 2) = 55%
🔍 [DEBUG CONFIANÇA] FINAL: 55%
✅ Score ponderado: -4.02 (Confiança: 55%)
📋 Sinal: STRONG_SELL moderate
🧠 [V2] XRPUSDT: Score ponderado -4.02 (55% confiança)
📊 Sinal técnico V2: SELL (65%)
   Técnico: SELL (51.5 RSI, DOWN, Tendência de baixa, Volume acima da média). Score ponderado: -4.02. Confiança: 55%.
🔍 [2025-10-29T03:16:04.309Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for XRPUSDT
Nenhum dado de equity encontrado para XRPUSDT
📊 XRPUSDT: Confiança original: 55%, Ajuste equity: 0, Confiança final: 59.7%
🔍 [2025-10-29T03:16:04.390Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for XRPUSDT
🔍 [2025-10-29T03:16:04.391Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for XRPUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707765212&signature=3f7db5f268493641ad584e7069656d71e207435b677918062822dc25191ecef0
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.79652444,"equity":10.19669834},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:04.912"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
 GET /api/binance/balance 200 in 585ms
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:04.959"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 609ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: VWAP = $2.5229
✅ XRPUSDT: 4 confirmações - Confiança: 55%, Sinal: STRONG_SELL, VWAP dev: 3.08%
✅ XRPUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0306 (14 períodos)
🔍 [2025-10-29T03:16:05.256Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for XRPUSDT
✅ XRPUSDT: SELL AUTORIZADO - STRONG_SELL, Conf: 55%, Trend: DOWN
✅ XRPUSDT: AUTORIZADO - STRONG_SELL, Confiança 55%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 XRPUSDT: ATR = $0.0306 (14 períodos)
✅ XRPUSDT: ATR baixo (1.18%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.980225 → Notional: $2.55
⚠️ XRPUSDT: Valor da ordem ($2.34) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 2.000000 → Notional: $5.20
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.04 (20.4% do saldo)
   Nocional (5x): $5.20
   Quantidade ajustada: 2.000000 XRP
   Valor da ordem: $5.20
🔍 Verificando margem: disponível=$5.10, necessária=$1.04, posições abertas=0
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.20
   Risco: LOW
📊 SELL: SL=$2.6395 (+1.5%), TP=$2.5209 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:16:06.112Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for XRPUSDT
🔍 [2025-10-29T03:16:06.114Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for XRPUSDT
🔍 [2025-10-29T03:16:06.115Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for XRPUSDT
⚠️ [2025-10-29T03:16:06.115Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ XRPUSDT: APROVADO para trade (Score: -4.02, Conf: 55%, Signal: STRONG_SELL)
✅ Decision retornado: action=SELL, size=2

📝 ADICIONANDO XRPUSDT ao array opportunities (total agora: 4)
✅ XRPUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":2}
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 295ms
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 AVAXUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ AVAXUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($19.44) = $0.19
📊 AVAXUSDT: Preço $19.4400, Custo mínimo $0.19

🚀 Iniciando análise V2 para AVAXUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando AVAXUSDT tecnicamente (1h)...
📱 Analisando sentimento de AVAXUSDT...
🔍 Analisando Twitter para AVAXUSDT...
🔍 Analisando Reddit para AVAXUSDT...
⛓️  Analisando on-chain de AVAXUSDT...
📊 Analisando derivativos de AVAXUSDT...
🌍 Analisando macro de AVAXUSDT...
🐋 Analisando smart money de AVAXUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 749ms
⚠️ CoinGecko: Símbolo AVAXUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para AVAXUSDT: Request failed with status code 400
🔄 Usando fallback para AVAXUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de AVAXUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] AVAXUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:16:08.015Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for AVAXUSDT
Nenhum dado de equity encontrado para AVAXUSDT
📊 AVAXUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:16:08.059Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for AVAXUSDT
🔍 [2025-10-29T03:16:08.059Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for AVAXUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 AVAXUSDT: VWAP = $19.8572
✅ AVAXUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -2.10%
✅ AVAXUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 AVAXUSDT: ATR = $0.2671 (14 períodos)
🔍 [2025-10-29T03:16:08.892Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for AVAXUSDT
✅ AVAXUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ AVAXUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 AVAXUSDT: ATR = $0.2671 (14 períodos)
✅ AVAXUSDT: ATR baixo (1.37%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.131125 → Notional: $2.55
[DEBUG] binance_api: API Response: GET /api/v3/ping
⏸️ AVAXUSDT: Quantidade muito pequena (0 < minQty 1)
⏸️ AVAXUSDT: REJEITADO - Sem decision retornada
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.7805003,"equity":10.19717632},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:10.002"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:10.061"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 718ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 MATICUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ MATICUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($0.3794) = $0.04
📊 MATICUSDT: Preço $0.3794, Custo mínimo $0.04

🚀 Iniciando análise V2 para MATICUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando MATICUSDT tecnicamente (1h)...
📱 Analisando sentimento de MATICUSDT...
🔍 Analisando Twitter para MATICUSDT...
🔍 Analisando Reddit para MATICUSDT...
⛓️  Analisando on-chain de MATICUSDT...
📊 Analisando derivativos de MATICUSDT...
🌍 Analisando macro de MATICUSDT...
🐋 Analisando smart money de MATICUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
Erro ao buscar Open Interest: AxiosError: Request failed with status code 400
    at settle (webpack-internal:///(rsc)/./node_modules/axios/lib/core/settle.js:24:12)
    at IncomingMessage.handleStreamEnd (webpack-internal:///(rsc)/./node_modules/axios/lib/adapters/http.js:648:71)
    at IncomingMessage.emit (node:events:530:35)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (webpack-internal:///(rsc)/./node_modules/axios/lib/core/Axios.js:57:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async BinanceApiClient.getOpenInterest (webpack-internal:///(rsc)/./src/services/binance-api.ts:400:26)
    at async DerivativesAnalyzer.getOpenInterest (webpack-internal:///(rsc)/./src/services/analyzers/derivatives-analyzer.ts:50:24)
    at async DerivativesAnalyzer.analyze (webpack-internal:///(rsc)/./src/services/analyzers/derivatives-analyzer.ts:17:30)
    at async Promise.all (index 3)
    at async PredictiveAnalyzerV2.consolidate (webpack-internal:///(rsc)/./src/services/analyzers/predictive-analyzer-v2.ts:33:81)
    at async AdvancedTradingEngine.getOptimalSymbols (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:190:38)
    at async AdvancedTradingEngine.runTradingCycle (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:2024:39) {
  code: 'ERR_BAD_REQUEST',
  config: {
    transitional: {
      silentJSONParsing: true,
      forcedJSONParsing: true,
      clarifyTimeoutError: false
    },
    adapter: [ 'xhr', 'http', 'fetch' ],
    transformRequest: [ [Function: transformRequest] ],
    transformResponse: [ [Function: transformResponse] ],
    timeout: 10000,
    xsrfCookieName: 'XSRF-TOKEN',
    xsrfHeaderName: 'X-XSRF-TOKEN',
    maxContentLength: -1,
    maxBodyLength: -1,
    env: { FormData: [Function [FormData]], Blob: [class Blob] },
    validateStatus: [Function: validateStatus],
    headers: Object [AxiosHeaders] {
      Accept: 'application/json, text/plain, */*',
      'Content-Type': 'application/json',
      'User-Agent': 'Kronos-X-Engine/1.0.0',
      'Accept-Encoding': 'gzip, compress, deflate, br'
    },
    baseURL: 'https://fapi.binance.com',
    params: { symbol: 'MATICUSDT' },
    method: 'get',
    url: '/fapi/v1/openInterest',
    allowAbsoluteUrls: true,
    data: undefined
  },
  request: <ref *1> ClientRequest {
    _events: [Object: null prototype] {
      abort: [Function (anonymous)],
      aborted: [Function (anonymous)],
      connect: [Function (anonymous)],
      error: [Function (anonymous)],
      socket: [Function (anonymous)],
      timeout: [Function (anonymous)],
      finish: [Function: requestOnFinish]
    },
    _eventsCount: 7,
    _maxListeners: undefined,
    outputData: [],
    outputSize: 0,
    writable: true,
    destroyed: true,
    _last: true,
    chunkedEncoding: false,
    shouldKeepAlive: true,
    maxRequestsOnConnectionReached: false,
    _defaultKeepAlive: true,
    useChunkedEncodingByDefault: false,
    sendDate: false,
    _removedConnection: false,
    _removedContLen: false,
    _removedTE: false,
    strictContentLength: false,
    _contentLength: 0,
    _hasBody: true,
    _trailer: '',
    finished: true,
    _headerSent: true,
    _closed: true,
    _header: 'GET /fapi/v1/openInterest?symbol=MATICUSDT HTTP/1.1\r\n' +
      'Accept: application/json, text/plain, */*\r\n' +
      'Content-Type: application/json\r\n' +
      'User-Agent: Kronos-X-Engine/1.0.0\r\n' +
      'Accept-Encoding: gzip, compress, deflate, br\r\n' +
      'Host: fapi.binance.com\r\n' +
      'Connection: keep-alive\r\n' +
      '\r\n',
    _keepAliveTimeout: 0,
    _onPendingData: [Function: nop],
    agent: Agent {
      _events: [Object: null prototype],
      _eventsCount: 2,
      _maxListeners: undefined,
      defaultPort: 443,
      protocol: 'https:',
      options: [Object: null prototype],
      requests: [Object: null prototype] {},
      sockets: [Object: null prototype] {},
      freeSockets: [Object: null prototype],
      keepAliveMsecs: 1000,
      keepAlive: true,
      maxSockets: Infinity,
      maxFreeSockets: 256,
      scheduling: 'lifo',
      maxTotalSockets: Infinity,
      totalSocketCount: 5,
      maxCachedSessions: 100,
      _sessionCache: [Object],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false
    },
    socketPath: undefined,
    method: 'GET',
    maxHeaderSize: undefined,
    insecureHTTPParser: undefined,
    joinDuplicateHeaders: undefined,
    path: '/fapi/v1/openInterest?symbol=MATICUSDT',
    _ended: true,
    res: IncomingMessage {
      _events: [Object],
      _readableState: [ReadableState],
      _maxListeners: undefined,
      socket: null,
      httpVersionMajor: 1,
      httpVersionMinor: 1,
      httpVersion: '1.1',
      complete: true,
      rawHeaders: [Array],
      rawTrailers: [],
      joinDuplicateHeaders: undefined,
      aborted: false,
      upgrade: false,
      url: '',
      method: null,
      statusCode: 400,
      statusMessage: 'Bad Request',
      client: [TLSSocket],
      _consuming: false,
      _dumped: false,
      req: [Circular *1],
      _eventsCount: 4,
      responseUrl: 'https://fapi.binance.com/fapi/v1/openInterest?symbol=MATICUSDT',
      redirects: [],
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false,
      [Symbol(kHeaders)]: [Object],
      [Symbol(kHeadersCount)]: 26,
      [Symbol(kTrailers)]: null,
      [Symbol(kTrailersCount)]: 0
    },
    aborted: false,
    timeoutCb: null,
    upgradeOrConnect: false,
    parser: null,
    maxHeadersCount: null,
    reusedSocket: true,
    host: 'fapi.binance.com',
    protocol: 'https:',
    _redirectable: Writable {
      _events: [Object],
      _writableState: [WritableState],
      _maxListeners: undefined,
      _options: [Object],
      _ended: true,
      _ending: true,
      _redirectCount: 0,
      _redirects: [],
      _requestBodyLength: 0,
      _requestBodyBuffers: [],
      _eventsCount: 3,
      _onNativeResponse: [Function (anonymous)],
      _currentRequest: [Circular *1],
      _currentUrl: 'https://fapi.binance.com/fapi/v1/openInterest?symbol=MATICUSDT',
      _timeout: null,
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false
    },
    [Symbol(shapeMode)]: false,
    [Symbol(kCapture)]: false,
    [Symbol(kBytesWritten)]: 0,
    [Symbol(kNeedDrain)]: false,
    [Symbol(corked)]: 0,
    [Symbol(kChunkedBuffer)]: [],
    [Symbol(kChunkedLength)]: 0,
    [Symbol(kSocket)]: TLSSocket {
      _tlsOptions: [Object],
      _secureEstablished: true,
      _securePending: false,
      _newSessionPending: false,
      _controlReleased: true,
      secureConnecting: false,
      _SNICallback: null,
      servername: 'fapi.binance.com',
      alpnProtocol: false,
      authorized: true,
      authorizationError: null,
      encrypted: true,
      _events: [Object: null prototype],
      _eventsCount: 9,
      connecting: false,
      _hadError: false,
      _parent: null,
      _host: 'fapi.binance.com',
      _closeAfterHandlingError: false,
      _readableState: [ReadableState],
      _writableState: [WritableState],
      allowHalfOpen: false,
      _maxListeners: undefined,
      _sockname: null,
      _pendingData: null,
      _pendingEncoding: '',
      server: undefined,
      _server: null,
      ssl: [TLSWrap],
      _requestCert: true,
      _rejectUnauthorized: true,
      timeout: 5000,
      parser: null,
      _httpMessage: null,
      [Symbol(alpncallback)]: null,
      [Symbol(res)]: [TLSWrap],
      [Symbol(verified)]: true,
      [Symbol(pendingSession)]: null,
      [Symbol(async_id_symbol)]: -1,
      [Symbol(kHandle)]: [TLSWrap],
      [Symbol(lastWriteQueueSize)]: 0,
      [Symbol(timeout)]: Timeout {
        _idleTimeout: 5000,
        _idlePrev: [TimersList],
        _idleNext: [Timeout],
        _idleStart: 294630,
        _onTimeout: [Function: bound ],
        _timerArgs: undefined,
        _repeat: null,
        _destroyed: false,
        [Symbol(refed)]: false,
        [Symbol(kHasPrimitive)]: false,
        [Symbol(asyncId)]: 380243,
        [Symbol(triggerId)]: 380241,
        [Symbol(kAsyncContextFrame)]: undefined,
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined
      },
      [Symbol(kBuffer)]: null,
      [Symbol(kBufferCb)]: null,
      [Symbol(kBufferGen)]: null,
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false,
      [Symbol(kSetNoDelay)]: false,
      [Symbol(kSetKeepAlive)]: true,
      [Symbol(kSetKeepAliveInitialDelay)]: 1,
      [Symbol(kBytesRead)]: 0,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(connect-options)]: [Object]
    },
    [Symbol(kOutHeaders)]: [Object: null prototype] {
      accept: [Array],
      'content-type': [Array],
      'user-agent': [Array],
      'accept-encoding': [Array],
      host: [Array]
    },
    [Symbol(errored)]: null,
    [Symbol(kHighWaterMark)]: 16384,
    [Symbol(kRejectNonStandardBodyWrites)]: false,
    [Symbol(kUniqueHeaders)]: null
  },
  response: {
    status: 400,
    statusText: 'Bad Request',
    headers: Object [AxiosHeaders] {
      'content-type': 'application/json',
      'content-length': '97',
      connection: 'keep-alive',
      date: 'Wed, 29 Oct 2025 03:16:12 GMT',
      'access-control-allow-methods': 'GET, POST, PUT, DELETE, OPTIONS',
      server: 'Tengine',
      'x-mbx-used-weight-1m': '45',
      'x-response-time': '0ms',
      'access-control-allow-origin': '*',
      'x-cache': 'Error from cloudfront',
      via: '1.1 a4be3e7cfe38da5d5948ca15edca44ba.cloudfront.net (CloudFront)',
      'x-amz-cf-pop': 'GRU1-P1',
      'x-amz-cf-id': '96bjMafoR7LT2Kf3eSOaBkXVo8RMJr1m5P_o9cPqpDWgCIIgbnfRXQ=='
    },
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 10000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://fapi.binance.com',
      params: [Object],
      method: 'get',
      url: '/fapi/v1/openInterest',
      allowAbsoluteUrls: true,
      data: undefined
    },
    request: <ref *1> ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: true,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: false,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 0,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'GET /fapi/v1/openInterest?symbol=MATICUSDT HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'User-Agent: Kronos-X-Engine/1.0.0\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: fapi.binance.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'GET',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/fapi/v1/openInterest?symbol=MATICUSDT',
      _ended: true,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: null,
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: true,
      host: 'fapi.binance.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 16384,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    data: {
      code: -4108,
      msg: 'Symbol is on delivering or delivered or settling or closed or pre-trading.'
    }
  },
  status: 400
}
⚠️ CoinGecko: Símbolo MATICUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para MATICUSDT: Request failed with status code 400
🔄 Usando fallback para MATICUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de MATICUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 11.80 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: 0.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 53%
🔍 [DEBUG CONFIANÇA] Base técnico: 68%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 58%
🔍 [DEBUG CONFIANÇA] Convergência: +3 positivos, -0 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] FINAL: 58%
✅ Score ponderado: 10.59 (Confiança: 58%)
📋 Sinal: STRONG_BUY strong
🧠 [V2] MATICUSDT: Score ponderado 10.59 (58% confiança)
📊 Sinal técnico V2: STRONG_BUY (68%)
   Técnico: STRONG_BUY (46.0 RSI, UP, Tendência de alta, Padrão: hammer, Volume acima da média). Score ponderado: 10.59. Confiança: 58%.
🔍 [2025-10-29T03:16:12.026Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for MATICUSDT
📊 MATICUSDT: Confiança original: 58%, Ajuste equity: 0, Confiança final: 53.1%
🔍 [2025-10-29T03:16:12.369Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for MATICUSDT
🔍 [2025-10-29T03:16:12.370Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for MATICUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 MATICUSDT: VWAP = $0.3865
✅ MATICUSDT: 4 confirmações - Confiança: 58%, Sinal: STRONG_BUY, VWAP dev: -1.83%
✅ MATICUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 MATICUSDT: ATR = $0.0038 (14 períodos)
🔍 [2025-10-29T03:16:13.218Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for MATICUSDT
✅ MATICUSDT: BUY AUTORIZADO - STRONG_BUY, Conf: 58%, Trend: UP
✅ MATICUSDT: AUTORIZADO - STRONG_BUY, Confiança 58%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 MATICUSDT: ATR = $0.0038 (14 períodos)
✅ MATICUSDT: ATR baixo (0.99%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 6.718698 → Notional: $2.55
⚠️ MATICUSDT: Valor da ordem ($2.55) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 13.178703 → Notional: $5.00
   💰 Margem ajustada: $1.00
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.00 (19.6% do saldo)
   Nocional (5x): $5.00
   Quantidade ajustada: 13.178703 MATIC
   Valor da ordem: $5.00
🔍 Verificando margem: disponível=$5.10, necessária=$1.00, posições abertas=0
💰 Trade aprovado: Margem $1.00 @ 5x
   Notional: $5.00
   Risco: LOW
📊 BUY: SL=$0.3737 (-1.5%), TP=$0.3910 (+3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:16:14.095Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for MATICUSDT
🔍 [2025-10-29T03:16:14.095Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for MATICUSDT
🔍 [2025-10-29T03:16:14.095Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for MATICUSDT
⚠️ [2025-10-29T03:16:14.096Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ MATICUSDT: APROVADO para trade (Score: 10.59, Conf: 58%, Signal: STRONG_BUY)
✅ Decision retornado: action=BUY, size=13.178703215603583

📝 ADICIONANDO MATICUSDT ao array opportunities (total agora: 5)
✅ MATICUSDT ADICIONADO com sucesso! Decision: {"action":"BUY","size":13.178703215603583}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 DOTUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ DOTUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($3.047) = $0.03
📊 DOTUSDT: Preço $3.0470, Custo mínimo $0.03

🚀 Iniciando análise V2 para DOTUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando DOTUSDT tecnicamente (1h)...
📱 Analisando sentimento de DOTUSDT...
🔍 Analisando Twitter para DOTUSDT...
🔍 Analisando Reddit para DOTUSDT...
⛓️  Analisando on-chain de DOTUSDT...
📊 Analisando derivativos de DOTUSDT...
🌍 Analisando macro de DOTUSDT...
🐋 Analisando smart money de DOTUSDT...
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.78059102,"equity":10.19662911},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:14.970"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:15.029"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 688ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo DOTUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para DOTUSDT: Request failed with status code 400
🔄 Usando fallback para DOTUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de DOTUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] DOTUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:16:15.997Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for DOTUSDT
Nenhum dado de equity encontrado para DOTUSDT
📊 DOTUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:16:16.065Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for DOTUSDT
🔍 [2025-10-29T03:16:16.066Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for DOTUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOTUSDT: VWAP = $3.0633
✅ DOTUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -0.53%
✅ DOTUSDT: Dados de volume não disponíveis
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 297ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOTUSDT: ATR = $0.0421 (14 períodos)
🔍 [2025-10-29T03:16:16.903Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for DOTUSDT
✅ DOTUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ DOTUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 773ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 DOTUSDT: ATR = $0.0421 (14 períodos)
✅ DOTUSDT: ATR baixo (1.38%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.836585 → Notional: $2.55
⚠️ DOTUSDT: Valor da ordem ($2.44) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 1.700000 → Notional: $5.18
   💰 Margem ajustada: $1.04
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.04 (20.3% do saldo)
   Nocional (5x): $5.18
   Quantidade ajustada: 1.700000 DOT
   Valor da ordem: $5.18
🔍 Verificando margem: disponível=$5.10, necessária=$1.04, posições abertas=0
💰 Trade aprovado: Margem $1.04 @ 5x
   Notional: $5.18
   Risco: LOW
📊 SELL: SL=$3.0927 (+1.5%), TP=$2.9538 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:16:17.753Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for DOTUSDT
🔍 [2025-10-29T03:16:17.753Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for DOTUSDT
🔍 [2025-10-29T03:16:17.754Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for DOTUSDT
⚠️ [2025-10-29T03:16:17.754Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ DOTUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=1.7000000000000002

📝 ADICIONANDO DOTUSDT ao array opportunities (total agora: 6)
✅ DOTUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":1.7000000000000002}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 LINKUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ LINKUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($17.78) = $0.18
📊 LINKUSDT: Preço $17.7800, Custo mínimo $0.18

🚀 Iniciando análise V2 para LINKUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando LINKUSDT tecnicamente (1h)...
📱 Analisando sentimento de LINKUSDT...
🔍 Analisando Twitter para LINKUSDT...
🔍 Analisando Reddit para LINKUSDT...
⛓️  Analisando on-chain de LINKUSDT...
📊 Analisando derivativos de LINKUSDT...
🌍 Analisando macro de LINKUSDT...
🐋 Analisando smart money de LINKUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.78172993,"equity":10.19663258},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:19.911"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:19.965"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 626ms
⚠️ CoinGecko: Símbolo LINKUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para LINKUSDT: Request failed with status code 400
🔄 Usando fallback para LINKUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de LINKUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] LINKUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:16:20.239Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for LINKUSDT
Nenhum dado de equity encontrado para LINKUSDT
📊 LINKUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:16:20.298Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for LINKUSDT
🔍 [2025-10-29T03:16:20.299Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for LINKUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 LINKUSDT: VWAP = $17.9976
✅ LINKUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.21%
✅ LINKUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 LINKUSDT: ATR = $0.3029 (14 períodos)
🔍 [2025-10-29T03:16:21.154Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for LINKUSDT
✅ LINKUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ LINKUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 LINKUSDT: ATR = $0.3029 (14 períodos)
✅ LINKUSDT: ATR baixo (1.70%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.143367 → Notional: $2.55
⚠️ LINKUSDT: Valor da ordem ($2.49) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 0.290000 → Notional: $5.16
   💰 Margem ajustada: $1.03
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.03 (20.2% do saldo)
   Nocional (5x): $5.16
   Quantidade ajustada: 0.290000 LINK
   Valor da ordem: $5.16
🔍 Verificando margem: disponível=$5.10, necessária=$1.03, posições abertas=0
💰 Trade aprovado: Margem $1.03 @ 5x
   Notional: $5.16
   Risco: LOW
📊 SELL: SL=$18.0467 (+1.5%), TP=$17.2359 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:16:22.017Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for LINKUSDT
🔍 [2025-10-29T03:16:22.017Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for LINKUSDT
🔍 [2025-10-29T03:16:22.018Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for LINKUSDT
⚠️ [2025-10-29T03:16:22.018Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ LINKUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=0.29

📝 ADICIONANDO LINKUSDT ao array opportunities (total agora: 7)
✅ LINKUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":0.29}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 UNIUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ UNIUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($6.319) = $0.06
📊 UNIUSDT: Preço $6.3190, Custo mínimo $0.06

🚀 Iniciando análise V2 para UNIUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando UNIUSDT tecnicamente (1h)...
📱 Analisando sentimento de UNIUSDT...
🔍 Analisando Twitter para UNIUSDT...
🔍 Analisando Reddit para UNIUSDT...
⛓️  Analisando on-chain de UNIUSDT...
📊 Analisando derivativos de UNIUSDT...
🌍 Analisando macro de UNIUSDT...
🐋 Analisando smart money de UNIUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707783298&signature=bc276756e4ccd5ef9fe3ffca0abf8b05175053c3ec63cbc06fa80dc59d7f121b
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:22.877"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:22.878"}
[INFO] trading_engine: Account balance loaded
info: Symbol rankings updated {"action":"data_processing","component":"trading_engine","data":{"totalSymbols":5},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:23.026"}
[INFO] trading_engine: Symbol rankings updated
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"BTCUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:23.044"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.838","overallScore":"0.109","processingTime":"5ms","recommendation":"HOLD","symbol":"BTCUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:23.049"}
[INFO] trading_engine: Integrated analysis completed
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"ETHUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:23.049"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.815","overallScore":"-0.136","processingTime":"1ms","recommendation":"HOLD","symbol":"ETHUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:23.050"}
[INFO] trading_engine: Integrated analysis completed
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"BNBUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:23.050"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.779","overallScore":"0.052","processingTime":"0ms","recommendation":"HOLD","symbol":"BNBUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:23.050"}
[INFO] trading_engine: Integrated analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.324","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:23.057"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.640","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:23.060"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.735","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"0.700"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:23.061"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.877","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:23.061"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.619","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:23.062"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo UNIUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para UNIUSDT: Request failed with status code 400
🔄 Usando fallback para UNIUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de UNIUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] UNIUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:16:23.943Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for UNIUSDT
Nenhum dado de equity encontrado para UNIUSDT
📊 UNIUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:16:23.988Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for UNIUSDT
🔍 [2025-10-29T03:16:23.988Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for UNIUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 UNIUSDT: VWAP = $6.3529
✅ UNIUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -0.53%
✅ UNIUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 UNIUSDT: ATR = $0.0841 (14 períodos)
🔍 [2025-10-29T03:16:24.850Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for UNIUSDT
✅ UNIUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ UNIUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.78312034,"equity":10.19669651},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:25.149"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:25.205"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 708ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 UNIUSDT: ATR = $0.0841 (14 períodos)
✅ UNIUSDT: ATR baixo (1.33%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.403398 → Notional: $2.55
[DEBUG] websocket: Pong recebido
⏸️ UNIUSDT: Quantidade muito pequena (0 < minQty 1)
⏸️ UNIUSDT: REJEITADO - Sem decision retornada
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 ATOMUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.01, stepSize: 0.01
⚠️ ATOMUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.01) × price($3.085) = $0.03
📊 ATOMUSDT: Preço $3.0850, Custo mínimo $0.03

🚀 Iniciando análise V2 para ATOMUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando ATOMUSDT tecnicamente (1h)...
📱 Analisando sentimento de ATOMUSDT...
🔍 Analisando Twitter para ATOMUSDT...
🔍 Analisando Reddit para ATOMUSDT...
⛓️  Analisando on-chain de ATOMUSDT...
📊 Analisando derivativos de ATOMUSDT...
🌍 Analisando macro de ATOMUSDT...
🐋 Analisando smart money de ATOMUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 359ms
⚠️ CoinGecko: Símbolo ATOMUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
Nenhum dado de equity encontrado para BTCUSDT
⚠️ CryptoPanic API falhou para ATOMUSDT: Request failed with status code 400
🔄 Usando fallback para ATOMUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de ATOMUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] ATOMUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:16:27.975Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for ATOMUSDT
Nenhum dado de equity encontrado para ATOMUSDT
📊 ATOMUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:16:28.029Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for ATOMUSDT
🔍 [2025-10-29T03:16:28.030Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for ATOMUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 781ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ATOMUSDT: VWAP = $3.1926
✅ ATOMUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -3.37%
✅ ATOMUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ATOMUSDT: ATR = $0.0391 (14 períodos)
🔍 [2025-10-29T03:16:28.865Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for ATOMUSDT
✅ ATOMUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: DOWN
✅ ATOMUSDT: AUTORIZADO - SELL, Confiança 50%
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 ATOMUSDT: ATR = $0.0391 (14 períodos)
✅ ATOMUSDT: ATR baixo (1.27%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 0.826280 → Notional: $2.55
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.80010937,"equity":10.1968783},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:29.932"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:29.975"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 632ms
⚠️ ATOMUSDT: Valor da ordem ($2.53) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 1.630000 → Notional: $5.03
   💰 Margem ajustada: $1.01
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.01 (19.7% do saldo)
   Nocional (5x): $5.03
   Quantidade ajustada: 1.630000 ATOM
   Valor da ordem: $5.03
🔍 Verificando margem: disponível=$5.10, necessária=$1.01, posições abertas=0
💰 Trade aprovado: Margem $1.01 @ 5x
   Notional: $5.03
   Risco: LOW
📊 SELL: SL=$3.1313 (+1.5%), TP=$2.9906 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:16:30.508Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for ATOMUSDT
🔍 [2025-10-29T03:16:30.509Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for ATOMUSDT
🔍 [2025-10-29T03:16:30.509Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for ATOMUSDT
⚠️ [2025-10-29T03:16:30.511Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ ATOMUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=1.6300000000000001

📝 ADICIONANDO ATOMUSDT ao array opportunities (total agora: 8)
✅ ATOMUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":1.6300000000000001}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 NEARUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.1, stepSize: 0.1
⚠️ NEARUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.1) × price($2.231) = $0.22
📊 NEARUSDT: Preço $2.2310, Custo mínimo $0.22

🚀 Iniciando análise V2 para NEARUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando NEARUSDT tecnicamente (1h)...
📱 Analisando sentimento de NEARUSDT...
🔍 Analisando Twitter para NEARUSDT...
🔍 Analisando Reddit para NEARUSDT...
⛓️  Analisando on-chain de NEARUSDT...
📊 Analisando derivativos de NEARUSDT...
🌍 Analisando macro de NEARUSDT...
🐋 Analisando smart money de NEARUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo NEARUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para NEARUSDT: Request failed with status code 400
🔄 Usando fallback para NEARUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de NEARUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] NEARUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:16:32.389Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for NEARUSDT
Nenhum dado de equity encontrado para NEARUSDT
📊 NEARUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 54.3%
🔍 [2025-10-29T03:16:32.440Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for NEARUSDT
🔍 [2025-10-29T03:16:32.441Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for NEARUSDT
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 NEARUSDT: VWAP = $2.2643
✅ NEARUSDT: 2 confirmações - Confiança: 50%, VWAP dev: -1.47%
✅ NEARUSDT: Dados de volume não disponíveis
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 NEARUSDT: ATR = $0.0334 (14 períodos)
🔍 [2025-10-29T03:16:33.286Z] DEBUG [ANALYSIS_CAPTURE] ⚡ HFT analysis captured for NEARUSDT
✅ NEARUSDT: SELL AUTORIZADO - SELL, Conf: 50%, Trend: STRONG_DOWN
✅ NEARUSDT: AUTORIZADO - SELL, Confiança 50%
info: Symbol rankings updated {"action":"data_processing","component":"trading_engine","data":{"totalSymbols":5},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:33.534"}
[INFO] trading_engine: Symbol rankings updated
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"BTCUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:33.536"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.808","overallScore":"0.269","processingTime":"0ms","recommendation":"BUY","symbol":"BTCUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:33.536"}
[INFO] trading_engine: Integrated analysis completed
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"ETHUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:33.537"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.797","overallScore":"0.487","processingTime":"0ms","recommendation":"BUY","symbol":"ETHUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:33.537"}
[INFO] trading_engine: Integrated analysis completed
info: Starting integrated analysis {"action":"data_processing","component":"trading_engine","data":{"symbol":"BNBUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:33.538"}
[INFO] trading_engine: Starting integrated analysis
info: Integrated analysis completed {"action":"data_processing","component":"trading_engine","data":{"confidence":"0.875","overallScore":"-0.315","processingTime":"0ms","recommendation":"SELL","symbol":"BNBUSDT"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:33.538"}
[INFO] trading_engine: Integrated analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/time
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.318","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:33.561"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.318","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:33.562"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.631","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:33.563"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.854","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:33.563"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.558","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:33.564"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707794087&signature=4e67aef7ac81a5c44c4731fe568b36159518c07b8783d860a1efea57b70c8223
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:33.567"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:33.567"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/klines
⏱️  Timeframe: SWING (sinal fraco ou confiança baixa)
⚙️ Leverage otimizado: 2x (LOW risk)
   Margem necessária: $2.55
   Tamanho máximo posição: $10.20
[DEBUG] binance_api: API Response: GET /api/v3/klines
📊 NEARUSDT: ATR = $0.0334 (14 períodos)
✅ NEARUSDT: ATR baixo (1.50%) - position size normal
💼 Position sizing: 10% × 100% vol × 100% ATR = 10.00%
💰 Saldo REAL obtido da Binance: $5.10
   Margem para trade: $0.51
   Leverage ajustado: 5x (ALTO para capital baixo)
   Quantidade calculada: 1.142570 → Notional: $2.55
⚠️ NEARUSDT: Valor da ordem ($2.23) < mínimo ($5.00)
   📈 Ajustando quantidade para atingir mínimo de $5.00...
   ✅ Quantidade ajustada: 3.000000 → Notional: $6.69
   💰 Margem ajustada: $1.34
💰 Position Sizing (SALDO REAL EM TEMPO REAL):
   Saldo da Binance: $5.10
   Margem usada: $1.34 (26.3% do saldo)
   Nocional (5x): $6.69
   Quantidade ajustada: 3.000000 NEAR
   Valor da ordem: $6.69
🔍 Verificando margem: disponível=$5.10, necessária=$1.34, posições abertas=0
💰 Trade aprovado: Margem $1.34 @ 5x
   Notional: $6.69
   Risco: LOW
📊 SELL: SL=$2.2645 (+1.5%), TP=$2.1627 (-3.06% = 3% líquido + taxas)
🔍 [2025-10-29T03:16:34.146Z] DEBUG [ANALYSIS_CAPTURE] 🛡️ Risk parameters captured for NEARUSDT
🔍 [2025-10-29T03:16:34.146Z] DEBUG [ANALYSIS_CAPTURE] 📈 Market parameters captured for NEARUSDT
🔍 [2025-10-29T03:16:34.147Z] DEBUG [ANALYSIS_CAPTURE] 🎯 Decision parameters captured for NEARUSDT
⚠️ [2025-10-29T03:16:34.147Z] WARN [ANALYSIS_CAPTURE] ⚠️ TradeAnalysisCapture: Supabase not available, skipping save

✅ NEARUSDT: APROVADO para trade (Score: -1.14, Conf: 50%, Signal: SELL)
✅ Decision retornado: action=SELL, size=3

📝 ADICIONANDO NEARUSDT ao array opportunities (total agora: 9)
✅ NEARUSDT ADICIONADO com sucesso! Decision: {"action":"SELL","size":3}
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707795209&signature=025d83f38642046dbfc02a71c8b9465e69f13fd62091c6be0d1681b70553098f
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 FTMUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 1, stepSize: 1
⚠️ FTMUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(1) × price($0.6994) = $0.70
📊 FTMUSDT: Preço $0.6994, Custo mínimo $0.70

🚀 Iniciando análise V2 para FTMUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando FTMUSDT tecnicamente (1h)...
📱 Analisando sentimento de FTMUSDT...
🔍 Analisando Twitter para FTMUSDT...
🔍 Analisando Reddit para FTMUSDT...
⛓️  Analisando on-chain de FTMUSDT...
📊 Analisando derivativos de FTMUSDT...
🌍 Analisando macro de FTMUSDT...
🐋 Analisando smart money de FTMUSDT...
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.8050133,"equity":10.19752359},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:34.969"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
 GET /api/binance/balance 200 in 625ms
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:35.019"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 670ms
[DEBUG] binance_api: API Response: GET /api/v3/klines
Erro ao buscar Open Interest: AxiosError: Request failed with status code 400
    at settle (webpack-internal:///(rsc)/./node_modules/axios/lib/core/settle.js:24:12)
    at IncomingMessage.handleStreamEnd (webpack-internal:///(rsc)/./node_modules/axios/lib/adapters/http.js:648:71)
    at IncomingMessage.emit (node:events:530:35)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (webpack-internal:///(rsc)/./node_modules/axios/lib/core/Axios.js:57:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async BinanceApiClient.getOpenInterest (webpack-internal:///(rsc)/./src/services/binance-api.ts:400:26)
    at async DerivativesAnalyzer.getOpenInterest (webpack-internal:///(rsc)/./src/services/analyzers/derivatives-analyzer.ts:50:24)
    at async DerivativesAnalyzer.analyze (webpack-internal:///(rsc)/./src/services/analyzers/derivatives-analyzer.ts:17:30)
    at async Promise.all (index 3)
    at async PredictiveAnalyzerV2.consolidate (webpack-internal:///(rsc)/./src/services/analyzers/predictive-analyzer-v2.ts:33:81)
    at async AdvancedTradingEngine.getOptimalSymbols (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:190:38)
    at async AdvancedTradingEngine.runTradingCycle (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:2024:39) {
  code: 'ERR_BAD_REQUEST',
  config: {
    transitional: {
      silentJSONParsing: true,
      forcedJSONParsing: true,
      clarifyTimeoutError: false
    },
    adapter: [ 'xhr', 'http', 'fetch' ],
    transformRequest: [ [Function: transformRequest] ],
    transformResponse: [ [Function: transformResponse] ],
    timeout: 10000,
    xsrfCookieName: 'XSRF-TOKEN',
    xsrfHeaderName: 'X-XSRF-TOKEN',
    maxContentLength: -1,
    maxBodyLength: -1,
    env: { FormData: [Function [FormData]], Blob: [class Blob] },
    validateStatus: [Function: validateStatus],
    headers: Object [AxiosHeaders] {
      Accept: 'application/json, text/plain, */*',
      'Content-Type': 'application/json',
      'User-Agent': 'Kronos-X-Engine/1.0.0',
      'Accept-Encoding': 'gzip, compress, deflate, br'
    },
    baseURL: 'https://fapi.binance.com',
    params: { symbol: 'FTMUSDT' },
    method: 'get',
    url: '/fapi/v1/openInterest',
    allowAbsoluteUrls: true,
    data: undefined
  },
  request: <ref *1> ClientRequest {
    _events: [Object: null prototype] {
      abort: [Function (anonymous)],
      aborted: [Function (anonymous)],
      connect: [Function (anonymous)],
      error: [Function (anonymous)],
      socket: [Function (anonymous)],
      timeout: [Function (anonymous)],
      finish: [Function: requestOnFinish]
    },
    _eventsCount: 7,
    _maxListeners: undefined,
    outputData: [],
    outputSize: 0,
    writable: true,
    destroyed: true,
    _last: true,
    chunkedEncoding: false,
    shouldKeepAlive: true,
    maxRequestsOnConnectionReached: false,
    _defaultKeepAlive: true,
    useChunkedEncodingByDefault: false,
    sendDate: false,
    _removedConnection: false,
    _removedContLen: false,
    _removedTE: false,
    strictContentLength: false,
    _contentLength: 0,
    _hasBody: true,
    _trailer: '',
    finished: true,
    _headerSent: true,
    _closed: true,
    _header: 'GET /fapi/v1/openInterest?symbol=FTMUSDT HTTP/1.1\r\n' +
      'Accept: application/json, text/plain, */*\r\n' +
      'Content-Type: application/json\r\n' +
      'User-Agent: Kronos-X-Engine/1.0.0\r\n' +
      'Accept-Encoding: gzip, compress, deflate, br\r\n' +
      'Host: fapi.binance.com\r\n' +
      'Connection: keep-alive\r\n' +
      '\r\n',
    _keepAliveTimeout: 0,
    _onPendingData: [Function: nop],
    agent: Agent {
      _events: [Object: null prototype],
      _eventsCount: 2,
      _maxListeners: undefined,
      defaultPort: 443,
      protocol: 'https:',
      options: [Object: null prototype],
      requests: [Object: null prototype] {},
      sockets: [Object: null prototype] {},
      freeSockets: [Object: null prototype],
      keepAliveMsecs: 1000,
      keepAlive: true,
      maxSockets: Infinity,
      maxFreeSockets: 256,
      scheduling: 'lifo',
      maxTotalSockets: Infinity,
      totalSocketCount: 7,
      maxCachedSessions: 100,
      _sessionCache: [Object],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false
    },
    socketPath: undefined,
    method: 'GET',
    maxHeaderSize: undefined,
    insecureHTTPParser: undefined,
    joinDuplicateHeaders: undefined,
    path: '/fapi/v1/openInterest?symbol=FTMUSDT',
    _ended: true,
    res: IncomingMessage {
      _events: [Object],
      _readableState: [ReadableState],
      _maxListeners: undefined,
      socket: null,
      httpVersionMajor: 1,
      httpVersionMinor: 1,
      httpVersion: '1.1',
      complete: true,
      rawHeaders: [Array],
      rawTrailers: [],
      joinDuplicateHeaders: undefined,
      aborted: false,
      upgrade: false,
      url: '',
      method: null,
      statusCode: 400,
      statusMessage: 'Bad Request',
      client: [TLSSocket],
      _consuming: false,
      _dumped: false,
      req: [Circular *1],
      _eventsCount: 4,
      responseUrl: 'https://fapi.binance.com/fapi/v1/openInterest?symbol=FTMUSDT',
      redirects: [],
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false,
      [Symbol(kHeaders)]: [Object],
      [Symbol(kHeadersCount)]: 26,
      [Symbol(kTrailers)]: null,
      [Symbol(kTrailersCount)]: 0
    },
    aborted: false,
    timeoutCb: null,
    upgradeOrConnect: false,
    parser: null,
    maxHeadersCount: null,
    reusedSocket: true,
    host: 'fapi.binance.com',
    protocol: 'https:',
    _redirectable: Writable {
      _events: [Object],
      _writableState: [WritableState],
      _maxListeners: undefined,
      _options: [Object],
      _ended: true,
      _ending: true,
      _redirectCount: 0,
      _redirects: [],
      _requestBodyLength: 0,
      _requestBodyBuffers: [],
      _eventsCount: 3,
      _onNativeResponse: [Function (anonymous)],
      _currentRequest: [Circular *1],
      _currentUrl: 'https://fapi.binance.com/fapi/v1/openInterest?symbol=FTMUSDT',
      _timeout: null,
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false
    },
    [Symbol(shapeMode)]: false,
    [Symbol(kCapture)]: false,
    [Symbol(kBytesWritten)]: 0,
    [Symbol(kNeedDrain)]: false,
    [Symbol(corked)]: 0,
    [Symbol(kChunkedBuffer)]: [],
    [Symbol(kChunkedLength)]: 0,
    [Symbol(kSocket)]: TLSSocket {
      _tlsOptions: [Object],
      _secureEstablished: true,
      _securePending: false,
      _newSessionPending: false,
      _controlReleased: true,
      secureConnecting: false,
      _SNICallback: null,
      servername: 'fapi.binance.com',
      alpnProtocol: false,
      authorized: true,
      authorizationError: null,
      encrypted: true,
      _events: [Object: null prototype],
      _eventsCount: 9,
      connecting: false,
      _hadError: false,
      _parent: null,
      _host: 'fapi.binance.com',
      _closeAfterHandlingError: false,
      _readableState: [ReadableState],
      _writableState: [WritableState],
      allowHalfOpen: false,
      _maxListeners: undefined,
      _sockname: null,
      _pendingData: null,
      _pendingEncoding: '',
      server: undefined,
      _server: null,
      ssl: [TLSWrap],
      _requestCert: true,
      _rejectUnauthorized: true,
      timeout: 5000,
      parser: null,
      _httpMessage: null,
      [Symbol(alpncallback)]: null,
      [Symbol(res)]: [TLSWrap],
      [Symbol(verified)]: true,
      [Symbol(pendingSession)]: null,
      [Symbol(async_id_symbol)]: -1,
      [Symbol(kHandle)]: [TLSWrap],
      [Symbol(lastWriteQueueSize)]: 0,
      [Symbol(timeout)]: Timeout {
        _idleTimeout: 5000,
        _idlePrev: [TimersList],
        _idleNext: [Timeout],
        _idleStart: 318703,
        _onTimeout: [Function: bound ],
        _timerArgs: undefined,
        _repeat: null,
        _destroyed: false,
        [Symbol(refed)]: false,
        [Symbol(kHasPrimitive)]: false,
        [Symbol(asyncId)]: 412754,
        [Symbol(triggerId)]: 412752,
        [Symbol(kAsyncContextFrame)]: undefined,
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: [Object],
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined,
        [Symbol(kResourceStore)]: undefined
      },
      [Symbol(kBuffer)]: null,
      [Symbol(kBufferCb)]: null,
      [Symbol(kBufferGen)]: null,
      [Symbol(shapeMode)]: true,
      [Symbol(kCapture)]: false,
      [Symbol(kSetNoDelay)]: false,
      [Symbol(kSetKeepAlive)]: true,
      [Symbol(kSetKeepAliveInitialDelay)]: 1,
      [Symbol(kBytesRead)]: 0,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(connect-options)]: [Object]
    },
    [Symbol(kOutHeaders)]: [Object: null prototype] {
      accept: [Array],
      'content-type': [Array],
      'user-agent': [Array],
      'accept-encoding': [Array],
      host: [Array]
    },
    [Symbol(errored)]: null,
    [Symbol(kHighWaterMark)]: 16384,
    [Symbol(kRejectNonStandardBodyWrites)]: false,
    [Symbol(kUniqueHeaders)]: null
  },
  response: {
    status: 400,
    statusText: 'Bad Request',
    headers: Object [AxiosHeaders] {
      'content-type': 'application/json',
      'content-length': '97',
      connection: 'keep-alive',
      date: 'Wed, 29 Oct 2025 03:16:36 GMT',
      'access-control-allow-methods': 'GET, POST, PUT, DELETE, OPTIONS',
      server: 'Tengine',
      'x-mbx-used-weight-1m': '128',
      'x-response-time': '0ms',
      'access-control-allow-origin': '*',
      'x-cache': 'Error from cloudfront',
      via: '1.1 e15939e7a5d8908607a5a8daf797e030.cloudfront.net (CloudFront)',
      'x-amz-cf-pop': 'GRU1-P1',
      'x-amz-cf-id': 'ILMpfqyJ8ulSFAK-Dipt_dmHIvKZbxAZy2tqnITx_fhVzs7EdOfzGA=='
    },
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 10000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://fapi.binance.com',
      params: [Object],
      method: 'get',
      url: '/fapi/v1/openInterest',
      allowAbsoluteUrls: true,
      data: undefined
    },
    request: <ref *1> ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: true,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: false,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 0,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'GET /fapi/v1/openInterest?symbol=FTMUSDT HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'User-Agent: Kronos-X-Engine/1.0.0\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: fapi.binance.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'GET',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/fapi/v1/openInterest?symbol=FTMUSDT',
      _ended: true,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: null,
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: true,
      host: 'fapi.binance.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 16384,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    data: {
      code: -4108,
      msg: 'Symbol is on delivering or delivered or settling or closed or pre-trading.'
    }
  },
  status: 400
}
⚠️ CoinGecko: Símbolo FTMUSDT não mapeado
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
⚠️ CryptoPanic API falhou para FTMUSDT: Request failed with status code 400
🔄 Usando fallback para FTMUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de FTMUSDT nas últimas 6h
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: 0.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 7 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 13%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (22% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -0 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: 6.88 (Confiança: 50%)
📋 Sinal: STRONG_BUY strong
🧠 [V2] FTMUSDT: Score ponderado 6.88 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: 6.88. Confiança: 50%.
🔍 [2025-10-29T03:16:36.059Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for FTMUSDT
Nenhum dado de equity encontrado para FTMUSDT
📊 FTMUSDT: Confiança original: 50%, Ajuste equity: 0, Confiança final: 45.8%
🔍 [2025-10-29T03:16:36.099Z] DEBUG [ANALYSIS_CAPTURE] 📊 Technical analysis captured for FTMUSDT
🔍 [2025-10-29T03:16:36.101Z] DEBUG [ANALYSIS_CAPTURE] 🧠 Predictive V2 analysis captured for FTMUSDT
⏸️ FTMUSDT: REJEITADO - STRONG_BUY contra tendência DOWN
⏸️ FTMUSDT: REJEITADO - Sem decision retornada

🏁 LOOP TERMINOU! Total de 15 símbolos analisados, 9 oportunidades adicionadas ao array

💎 CAPITAL ALTO: Priorizando moedas com MELHOR SCORE para maximizar lucro

📊 Top oportunidades encontradas (9 total):
   1. MATICUSDT: Score 10.59, Confiança 58%, Custo mínimo $0.04
   2. DOGEUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.19
   3. DOTUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.03
   4. LINKUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.18
   5. ATOMUSDT: Score -1.14, Confiança 50%, Custo mínimo $0.03

✅ 9 oportunidades encontradas e prontas para execução!
📋 Detalhes das oportunidades:
   1. MATICUSDT: action=BUY, size=13.178703215603583, conf=58%
   2. DOGEUSDT: action=SELL, size=26, conf=50%
   3. DOTUSDT: action=SELL, size=1.7000000000000002, conf=50%
   4. LINKUSDT: action=SELL, size=0.29, conf=50%
   5. ATOMUSDT: action=SELL, size=1.6300000000000001, conf=50%
   6. NEARUSDT: action=SELL, size=3, conf=50%
   7. SOLUSDT: action=SELL, size=0.03, conf=55%
   8. XRPUSDT: action=SELL, size=2, conf=55%
   9. ADAUSDT: action=SELL, size=8, conf=58%

🔚 RETORNANDO 9 oportunidades de getOptimalSymbols()
🎯 Encontradas 9 oportunidades

🚀 EXECUÇÃO DE TRADES - Ciclo 3:
📊 DEBUG - Status antes da execução:
   isRunning: true
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 0
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade
   canOpenNewTrade: true
   openTrades.size: 0
   opportunities.length: 9
🎯 Processando 2 oportunidades (máximo 2 por ciclo)...

🔍 OPORTUNIDADE 1/2: MATICUSDT
   Action: BUY
   Size: 13.178703215603583
   Confidence: 58%
   Score: 10.594339622641511
🔍 Verificando condições para execução:
   isRunning: true
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 0
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade
   canOpenNewTrade: true
❌ Erro no ciclo de trading: TypeError: this.configService.getSymbolSpecificConfig is not a function
    at AdvancedTradingEngine.canOpenTradeWithPriority (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:2189:49)
    at AdvancedTradingEngine.runTradingCycle (webpack-internal:///(rsc)/./src/services/advanced-trading-engine.ts:2049:58)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[DEBUG] websocket: Pong recebido
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 298ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 753ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.80543049,"equity":10.19795945},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:39.923"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:39.971"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 618ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.80500689,"equity":10.19751889},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:44.902"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:44.983"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 642ms
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 293ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 780ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.8021314,"equity":10.19768019},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:49.909"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:49.960"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 618ms
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707813293&signature=d6d4112a1523b5be5d1dbe585834a18036fcf2e6671445d2dfc05901436a208c
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:52.763"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:16:52.767"}
[INFO] trading_engine: Account balance loaded
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707824087&signature=d6e9cf0d2c2dc21fd7bf201f03afcc51bc50da2025476f4ca0680d6a8d0236d8
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:03.564"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:03.565"}
[INFO] trading_engine: Account balance loaded
[DEBUG] websocket: Pong recebido
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/time
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707830717&signature=e6e01a520726bf6db622dd84811e9ac2145ba39e4d3ff30e85a793dfaefceb03
[DEBUG] binance_api: API Response: GET /api/v3/time
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 418ms
[DEBUG] binance_api: API Response: GET /api/v3/time
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.77429053,"equity":10.19736484},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:10.480"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
 GET /api/binance/balance 200 in 697ms
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:10.526"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 713ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 810ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.76325313,"equity":10.1971755},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:14.084"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:14.127"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 618ms
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 297ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 737ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.76141171,"equity":10.19684924},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:19.952"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:20.002"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 654ms
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707843309&signature=d97a38ca363b48febbb527fd9fdba7f916a5a64ed6ebd9c138989037c9aebf8f
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:22.793"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:22.795"}
[INFO] trading_engine: Account balance loaded
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"2ms","overallScore":"0.401","patternsDetected":2,"symbol":"BTCUSDT","technicalScore":"0.600"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:23.069"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"2ms","overallScore":"0.636","patternsDetected":2,"symbol":"ETHUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:23.078"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.317","patternsDetected":2,"symbol":"BNBUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:23.079"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.582","patternsDetected":2,"symbol":"ADAUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:23.080"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.465","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"0.100"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:23.081"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.77251449,"equity":10.19663003},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:24.956"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:25.052"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 680ms
[DEBUG] websocket: Pong recebido
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 299ms
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 762ms
[DEBUG] binance_api: API Response: GET /api/v3/ping
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.7666049,"equity":10.19651431},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:29.909"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:29.962"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 620ms
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.592","patternsDetected":1,"symbol":"BTCUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:33.563"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"3ms","overallScore":"0.295","patternsDetected":1,"symbol":"ETHUSDT","technicalScore":"0.300"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:33.568"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"2ms","overallScore":"0.340","patternsDetected":1,"symbol":"BNBUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:33.572"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"1ms","overallScore":"0.354","patternsDetected":1,"symbol":"ADAUSDT","technicalScore":"0.400"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:33.573"}
[INFO] trading_engine: Symbol analysis completed
info: Symbol analysis completed {"action":"data_processing","component":"trading_engine","data":{"analysisTime":"0ms","overallScore":"0.547","patternsDetected":1,"symbol":"SOLUSDT","technicalScore":"1.000"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:33.573"}
[INFO] trading_engine: Symbol analysis completed
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707854158&signature=0ba983a673c0983137fb05b7477091dc8a9a77e878f58f50b958d45c54a2a752
info: Balance alert generated {"action":"data_processing","component":"trading_engine","data":{"message":"Low available balance: $0.00","severity":"CRITICAL","type":"LOW_BALANCE"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:33.611"}
[INFO] trading_engine: Balance alert generated
info: Account balance loaded {"action":"data_processing","component":"trading_engine","data":{"assetCount":0,"availableBalance":"0.00","lockedBalance":"0.00","totalBalance":"0.00"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:33.615"}
[INFO] trading_engine: Account balance loaded
[DEBUG] binance_api: API Response: GET /api/v3/ping
[DEBUG] binance_api: API Response: GET /api/v3/account?recvWindow=20000&timestamp=1761707854382&signature=5fdf60cb5ee5618fe59b3c40392821f01204e7a2d59c8d80ddf2934fc908fd8f
info: Equity atualizado com saldo FUTURES da Binance {"action":"data_processing","component":"trading_engine","data":{"availableBalance":9.76639454,"equity":10.19685862},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:34.142"}
[INFO] trading_engine: Equity atualizado com saldo FUTURES da Binance
 GET /api/binance/balance 200 in 663ms
🔍 DEBUG - getApiKeys():
  API Key presente: true
  Secret Key presente: true
  API Key (primeiros 20): 0RipxNs3N0a0dnevDvY9
info: Status geral solicitado via API {"action":"performance_update","component":"trading_engine","data":{"endpoint":"/api/status"},"service":"kronos-x-engine","success":true,"timestamp":"2025-10-29 00:17:34.225"}
[INFO] trading_engine: Status geral solicitado via API
 GET /api/status 200 in 712ms
📊 Encontradas 2 posições abertas na Binance Futures
✅ Retornando 2 trades ativos
 GET /api/trades 200 in 299ms

🔄 CICLO 4 - Iniciando verificação de oportunidades...
📊 DEBUG - Status do ciclo 4:
   isRunning: true
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 0
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade
   canOpenNewTrade: true
   openTrades.size: 0
💰 Obtendo saldo atual...
[DEBUG] websocket: Pong recebido
💰 Saldo atual: $10.20
🔍 Verificando se pode abrir novas trades...
🔍 DEBUG - canOpenNewTrade:
   currentOpenTrades: 0
   maxActiveTrades: null
   allowNewTrades: true
   tradingHalted: false
   ✅ Pode abrir nova trade
🔍 Resultado canOpenNewTrade: true
🔍 Buscando oportunidades...

🔍 Analisando oportunidades em 15 símbolos...
💰 Capital disponível: $10.20
🚫 Símbolos bloqueados: ENAUSDT
⭐ Símbolos prioritários: BTCUSDT, ETHUSDT
Nenhum dado de equity encontrado para BTCUSDT
📊 Métricas calculadas: 43 trades fechadas, Win Rate: 55.8%, P&L Total: $0.26
 GET /api/trading/metrics 200 in 781ms
[DEBUG] binance_api: API Response: GET /api/v3/ticker/price
[DEBUG] binance_api: API Response: GET /api/v3/exchangeInfo
🔍 BTCUSDT MIN_NOTIONAL: $null, LOT_SIZE minQty: 0.00001, stepSize: 0.00001
⚠️ BTCUSDT: MIN_NOTIONAL não encontrado, usando cálculo: minQty(0.00001) × price($112476.11) = $1.12
📊 BTCUSDT: Preço $112476.1100, Custo mínimo $1.12

🚀 Iniciando análise V2 para BTCUSDT...
🧠 [V2] Consolidando análises preditivas com pesos...
📊 [V2] Analisando BTCUSDT tecnicamente (1h)...
📱 Analisando sentimento de BTCUSDT...
🔍 Analisando Twitter para BTCUSDT...
🔍 Analisando Reddit para BTCUSDT...
⛓️  Analisando on-chain de BTCUSDT...
📊 Analisando derivativos de BTCUSDT...
🌍 Analisando macro de BTCUSDT...
🐋 Analisando smart money de BTCUSDT...
[DEBUG] binance_api: API Response: GET /api/v3/klines
⚠️ CoinGecko: Símbolo BTCUSDT não mapeado
⚠️ CryptoPanic API falhou para BTCUSDT: Request failed with status code 400
🔄 Usando fallback para BTCUSDT - continuando análise sem notícias
📰 CryptoPanic: Nenhuma notícia de BTCUSDT nas últimas 6h
📊 Fear & Greed: 51 (Neutral)
🎯 Fear & Greed: Neutral (51) - Sentimento neutro
🔍 [APIS GRATUITAS] CoinGecko: 0.00 | Fear&Greed: 0.00 | Notícias: 0.00
🔍 [DEBUG] Scores individuais:
   Technical: 0.00 (weight: 0.4)
   Sentiment: 6.50 (weight: 0.08)
   On-chain: 0.00 (weight: 0.15)
   Derivatives: -5.00 (weight: 0.27)
   Macro: 7.50 (weight: 0.05)
   Smart Money: 0.00 (weight: 0.05)
   CoinGecko: 0.00 (weight: 0.02)
   Fear & Greed: 0.00 (weight: 0.02)
   Notícias: 0.00 (weight: 0.01)
⚠️ [FILTRO] 6 indicadores ZERADOS removidos do cálculo
📊 [NORMALIZADO] Peso total ativo: 40%
🔍 [DEBUG CONFIANÇA] Base técnico: 60%
🔍 [DEBUG CONFIANÇA] -10% penalidade (33% ativos é baixo) = 50%
🔍 [DEBUG CONFIANÇA] Convergência: +2 positivos, -1 negativos, 0 neutros
🔍 [DEBUG CONFIANÇA] Conflito leve ignorado (2 vs 1) = 50%
🔍 [DEBUG CONFIANÇA] FINAL: 50%
✅ Score ponderado: -1.14 (Confiança: 50%)
📋 Sinal: SELL weak
🧠 [V2] BTCUSDT: Score ponderado -1.14 (50% confiança)
📊 Sinal técnico V2: HOLD (60%)
   Técnico neutro. Score ponderado: -1.14. Confiança: 50%.
🔍 [2025-10-29T03:17:39.219Z] DEBUG [ANALYSIS_CAPTURE] 🔍 Starting analysis capture for BTCUSDT
